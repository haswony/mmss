function lb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e0={exports:{}},rc={},t0={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),ub=Symbol.for("react.portal"),cb=Symbol.for("react.fragment"),fb=Symbol.for("react.strict_mode"),hb=Symbol.for("react.profiler"),db=Symbol.for("react.provider"),pb=Symbol.for("react.context"),mb=Symbol.for("react.forward_ref"),gb=Symbol.for("react.suspense"),yb=Symbol.for("react.memo"),vb=Symbol.for("react.lazy"),Og=Symbol.iterator;function _b(t){return t===null||typeof t!="object"?null:(t=Og&&t[Og]||t["@@iterator"],typeof t=="function"?t:null)}var n0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r0=Object.assign,i0={};function Bs(t,e,n){this.props=t,this.context=e,this.refs=i0,this.updater=n||n0}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s0(){}s0.prototype=Bs.prototype;function Ud(t,e,n){this.props=t,this.context=e,this.refs=i0,this.updater=n||n0}var Fd=Ud.prototype=new s0;Fd.constructor=Ud;r0(Fd,Bs.prototype);Fd.isPureReactComponent=!0;var Cg=Array.isArray,o0=Object.prototype.hasOwnProperty,Bd={current:null},a0={key:!0,ref:!0,__self:!0,__source:!0};function l0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)o0.call(e,r)&&!a0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ca,type:t,key:s,ref:o,props:i,_owner:Bd.current}}function wb(t,e){return{$$typeof:Ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ca}function Eb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lg=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Eb(""+t.key):e.toString(36)}function Bl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ca:case ub:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_f(o,0):r,Cg(i)?(n="",t!=null&&(n=t.replace(Lg,"$&/")+"/"),Bl(i,e,n,"",function(c){return c})):i!=null&&(qd(i)&&(i=wb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Lg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+_f(s,a);o+=Bl(s,e,n,l,i)}else if(l=_b(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+_f(s,a++),o+=Bl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gl(t,e,n){if(t==null)return t;var r=[],i=0;return Bl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},ql={transition:null},Tb={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ql,ReactCurrentOwner:Bd};function u0(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!qd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Bs;Ie.Fragment=cb;Ie.Profiler=hb;Ie.PureComponent=Ud;Ie.StrictMode=fb;Ie.Suspense=gb;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;Ie.act=u0;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=r0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)o0.call(e,l)&&!a0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ca,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:pb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:db,_context:t},t.Consumer=t};Ie.createElement=l0;Ie.createFactory=function(t){var e=l0.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:mb,render:t}};Ie.isValidElement=qd;Ie.lazy=function(t){return{$$typeof:vb,_payload:{_status:-1,_result:t},_init:xb}};Ie.memo=function(t,e){return{$$typeof:yb,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ql.transition;ql.transition={};try{t()}finally{ql.transition=e}};Ie.unstable_act=u0;Ie.useCallback=function(t,e){return $t.current.useCallback(t,e)};Ie.useContext=function(t){return $t.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return $t.current.useEffect(t,e)};Ie.useId=function(){return $t.current.useId()};Ie.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return $t.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};Ie.useRef=function(t){return $t.current.useRef(t)};Ie.useState=function(t){return $t.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return $t.current.useTransition()};Ie.version="18.3.1";t0.exports=Ie;var J=t0.exports;const au=Z_(J),bb=lb({__proto__:null,default:au},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab=J,Ib=Symbol.for("react.element"),Sb=Symbol.for("react.fragment"),kb=Object.prototype.hasOwnProperty,Nb=Ab.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pb={key:!0,ref:!0,__self:!0,__source:!0};function c0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)kb.call(e,r)&&!Pb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ib,type:t,key:s,ref:o,props:i,_owner:Nb.current}}rc.Fragment=Sb;rc.jsx=c0;rc.jsxs=c0;e0.exports=rc;var T=e0.exports,ch={},f0={exports:{}},ln={},h0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,q){var U=W.length;W.push(q);e:for(;0<U;){var L=U-1>>>1,M=W[L];if(0<i(M,q))W[L]=q,W[U]=M,U=L;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var q=W[0],U=W.pop();if(U!==q){W[0]=U;e:for(var L=0,M=W.length,B=M>>>1;L<B;){var G=2*(L+1)-1,H=W[G],V=G+1,z=W[V];if(0>i(H,U))V<M&&0>i(z,H)?(W[L]=z,W[V]=U,L=V):(W[L]=H,W[G]=U,L=G);else if(V<M&&0>i(z,U))W[L]=z,W[V]=U,L=V;else break e}}return q}function i(W,q){var U=W.sortIndex-q.sortIndex;return U!==0?U:W.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=W)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function y(W){if(_=!1,E(W),!v)if(n(l)!==null)v=!0,$(k);else{var q=n(c);q!==null&&K(y,q.startTime-W)}}function k(W,q){v=!1,_&&(_=!1,g(w),w=-1),p=!0;var U=f;try{for(E(q),h=n(l);h!==null&&(!(h.expirationTime>q)||W&&!A());){var L=h.callback;if(typeof L=="function"){h.callback=null,f=h.priorityLevel;var M=L(h.expirationTime<=q);q=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),E(q)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var G=n(c);G!==null&&K(y,G.startTime-q),B=!1}return B}finally{h=null,f=U,p=!1}}var C=!1,S=null,w=-1,R=5,b=-1;function A(){return!(t.unstable_now()-b<R)}function P(){if(S!==null){var W=t.unstable_now();b=W;var q=!0;try{q=S(!0,W)}finally{q?N():(C=!1,S=null)}}else C=!1}var N;if(typeof m=="function")N=function(){m(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,F=j.port2;j.port1.onmessage=P,N=function(){F.postMessage(null)}}else N=function(){x(P,0)};function $(W){S=W,C||(C=!0,N())}function K(W,q){w=x(function(){W(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$(k))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var U=f;f=q;try{return W()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var U=f;f=W;try{return q()}finally{f=U}},t.unstable_scheduleCallback=function(W,q,U){var L=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?L+U:L):U=L,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=U+M,W={id:d++,callback:q,priorityLevel:W,startTime:U,expirationTime:M,sortIndex:-1},U>L?(W.sortIndex=U,e(c,W),n(l)===null&&W===n(c)&&(_?(g(w),w=-1):_=!0,K(y,U-L))):(W.sortIndex=M,e(l,W),v||p||(v=!0,$(k))),W},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(W){var q=f;return function(){var U=f;f=q;try{return W.apply(this,arguments)}finally{f=U}}}})(d0);h0.exports=d0;var Rb=h0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=J,an=Rb;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,ra={};function zi(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(ra[t]=e,t=0;t<e.length;t++)p0.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=Object.prototype.hasOwnProperty,Cb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jg={},Dg={};function Lb(t){return fh.call(Dg,t)?!0:fh.call(jg,t)?!1:Cb.test(t)?Dg[t]=!0:(jg[t]=!0,!1)}function jb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Db(t,e,n,r){if(e===null||typeof e>"u"||jb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var zd=/[\-:]([a-z])/g;function $d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zd,$d);kt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zd,$d);kt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zd,$d);kt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hd(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Db(e,n,i,r)&&(n=null),r||i===null?Lb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Er=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yl=Symbol.for("react.element"),is=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),Gd=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),y0=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=Mg&&t[Mg]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,wf;function Ro(t){if(wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wf=e&&e[1]||""}return`
`+wf+t}var Ef=!1;function xf(t,e){if(!t||Ef)return"";Ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ro(t):""}function Mb(t){switch(t.tag){case 5:return Ro(t.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return t=xf(t.type,!1),t;case 11:return t=xf(t.type.render,!1),t;case 1:return t=xf(t.type,!0),t;default:return""}}function mh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case is:return"Portal";case hh:return"Profiler";case Wd:return"StrictMode";case dh:return"Suspense";case ph:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g0:return(t.displayName||"Context")+".Consumer";case m0:return(t._context.displayName||"Context")+".Provider";case Kd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gd:return e=t.displayName||null,e!==null?e:mh(t.type)||"Memo";case Pr:e=t._payload,t=t._init;try{return mh(t(e))}catch{}}return null}function Vb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mh(e);case 8:return e===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ub(t){var e=v0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=Ub(t))}function _0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gh(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w0(t,e){e=e.checked,e!=null&&Hd(t,"checked",e,!1)}function yh(t,e){w0(t,e);var n=Zr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vh(t,e.type,n):e.hasOwnProperty("defaultValue")&&vh(t,e.type,Zr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ug(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vh(t,e,n){(e!=="number"||lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oo=Array.isArray;function ys(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _h(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(Oo(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zr(n)}}function E0(t,e){var n=Zr(e.value),r=Zr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _l,T0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_l=_l||document.createElement("div"),_l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fb=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){Fb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function b0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function A0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=b0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Bb=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eh(t,e){if(e){if(Bb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=null;function Qd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bh=null,vs=null,_s=null;function qg(t){if(t=Da(t)){if(typeof bh!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=lc(e),bh(t.stateNode,t.type,e))}}function I0(t){vs?_s?_s.push(t):_s=[t]:vs=t}function S0(){if(vs){var t=vs,e=_s;if(_s=vs=null,qg(t),e)for(t=0;t<e.length;t++)qg(e[t])}}function k0(t,e){return t(e)}function N0(){}var Tf=!1;function P0(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return k0(t,e,n)}finally{Tf=!1,(vs!==null||_s!==null)&&(N0(),S0())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=lc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Ah=!1;if(dr)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Ah=!1}function qb(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qo=!1,uu=null,cu=!1,Ih=null,zb={onError:function(t){qo=!0,uu=t}};function $b(t,e,n,r,i,s,o,a,l){qo=!1,uu=null,qb.apply(zb,arguments)}function Hb(t,e,n,r,i,s,o,a,l){if($b.apply(this,arguments),qo){if(qo){var c=uu;qo=!1,uu=null}else throw Error(oe(198));cu||(cu=!0,Ih=c)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zg(t){if($i(t)!==t)throw Error(oe(188))}function Wb(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zg(i),t;if(s===r)return zg(i),e;s=s.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function O0(t){return t=Wb(t),t!==null?C0(t):null}function C0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C0(t);if(e!==null)return e;t=t.sibling}return null}var L0=an.unstable_scheduleCallback,$g=an.unstable_cancelCallback,Kb=an.unstable_shouldYield,Gb=an.unstable_requestPaint,lt=an.unstable_now,Qb=an.unstable_getCurrentPriorityLevel,Yd=an.unstable_ImmediatePriority,j0=an.unstable_UserBlockingPriority,fu=an.unstable_NormalPriority,Yb=an.unstable_LowPriority,D0=an.unstable_IdlePriority,ic=null,qn=null;function Xb(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(ic,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:eA,Jb=Math.log,Zb=Math.LN2;function eA(t){return t>>>=0,t===0?32:31-(Jb(t)/Zb|0)|0}var wl=64,El=4194304;function Co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Co(a):(s&=o,s!==0&&(r=Co(s)))}else o=n&~i,o!==0?r=Co(o):s!==0&&(r=Co(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function tA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Sh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M0(){var t=wl;return wl<<=1,!(wl&4194240)&&(wl=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function La(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function rA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function V0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U0,Jd,F0,B0,q0,kh=!1,xl=[],qr=null,zr=null,$r=null,oa=new Map,aa=new Map,Or=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hg(t,e){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(e.pointerId)}}function wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Da(e),e!==null&&Jd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sA(t,e,n,r,i){switch(e){case"focusin":return qr=wo(qr,t,e,n,r,i),!0;case"dragenter":return zr=wo(zr,t,e,n,r,i),!0;case"mouseover":return $r=wo($r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oa.set(s,wo(oa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,aa.set(s,wo(aa.get(s)||null,t,e,n,r,i)),!0}return!1}function z0(t){var e=wi(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=R0(n),e!==null){t.blockedOn=e,q0(t.priority,function(){F0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Th=r,n.target.dispatchEvent(r),Th=null}else return e=Da(n),e!==null&&Jd(e),t.blockedOn=n,!1;e.shift()}return!0}function Wg(t,e,n){zl(t)&&n.delete(e)}function oA(){kh=!1,qr!==null&&zl(qr)&&(qr=null),zr!==null&&zl(zr)&&(zr=null),$r!==null&&zl($r)&&($r=null),oa.forEach(Wg),aa.forEach(Wg)}function Eo(t,e){t.blockedOn===e&&(t.blockedOn=null,kh||(kh=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,oA)))}function la(t){function e(i){return Eo(i,t)}if(0<xl.length){Eo(xl[0],t);for(var n=1;n<xl.length;n++){var r=xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qr!==null&&Eo(qr,t),zr!==null&&Eo(zr,t),$r!==null&&Eo($r,t),oa.forEach(e),aa.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)z0(n),n.blockedOn===null&&Or.shift()}var ws=Er.ReactCurrentBatchConfig,du=!0;function aA(t,e,n,r){var i=Ve,s=ws.transition;ws.transition=null;try{Ve=1,Zd(t,e,n,r)}finally{Ve=i,ws.transition=s}}function lA(t,e,n,r){var i=Ve,s=ws.transition;ws.transition=null;try{Ve=4,Zd(t,e,n,r)}finally{Ve=i,ws.transition=s}}function Zd(t,e,n,r){if(du){var i=Nh(t,e,n,r);if(i===null)Lf(t,e,r,pu,n),Hg(t,r);else if(sA(i,t,e,n,r))r.stopPropagation();else if(Hg(t,r),e&4&&-1<iA.indexOf(t)){for(;i!==null;){var s=Da(i);if(s!==null&&U0(s),s=Nh(t,e,n,r),s===null&&Lf(t,e,r,pu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Lf(t,e,r,null,n)}}var pu=null;function Nh(t,e,n,r){if(pu=null,t=Qd(r),t=wi(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pu=t,null}function $0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qb()){case Yd:return 1;case j0:return 4;case fu:case Yb:return 16;case D0:return 536870912;default:return 16}default:return 16}}var Vr=null,ep=null,$l=null;function H0(){if($l)return $l;var t,e=ep,n=e.length,r,i="value"in Vr?Vr.value:Vr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $l=i.slice(t,1<r?1-r:void 0)}function Hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function Kg(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:Kg,this.isPropagationStopped=Kg,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tp=un(qs),ja=et({},qs,{view:0,detail:0}),uA=un(ja),Af,If,xo,sc=et({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:np,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(Af=t.screenX-xo.screenX,If=t.screenY-xo.screenY):If=Af=0,xo=t),Af)},movementY:function(t){return"movementY"in t?t.movementY:If}}),Gg=un(sc),cA=et({},sc,{dataTransfer:0}),fA=un(cA),hA=et({},ja,{relatedTarget:0}),Sf=un(hA),dA=et({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),pA=un(dA),mA=et({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gA=un(mA),yA=et({},qs,{data:0}),Qg=un(yA),vA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wA[t])?!!e[t]:!1}function np(){return EA}var xA=et({},ja,{key:function(t){if(t.key){var e=vA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:np,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TA=un(xA),bA=et({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=un(bA),AA=et({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:np}),IA=un(AA),SA=et({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kA=un(SA),NA=et({},sc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PA=un(NA),RA=[9,13,27,32],rp=dr&&"CompositionEvent"in window,zo=null;dr&&"documentMode"in document&&(zo=document.documentMode);var OA=dr&&"TextEvent"in window&&!zo,W0=dr&&(!rp||zo&&8<zo&&11>=zo),Xg=" ",Jg=!1;function K0(t,e){switch(t){case"keyup":return RA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var os=!1;function CA(t,e){switch(t){case"compositionend":return G0(e);case"keypress":return e.which!==32?null:(Jg=!0,Xg);case"textInput":return t=e.data,t===Xg&&Jg?null:t;default:return null}}function LA(t,e){if(os)return t==="compositionend"||!rp&&K0(t,e)?(t=H0(),$l=ep=Vr=null,os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W0&&e.locale!=="ko"?null:e.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jA[t.type]:e==="textarea"}function Q0(t,e,n,r){I0(r),e=mu(e,"onChange"),0<e.length&&(n=new tp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $o=null,ua=null;function DA(t){o1(t,0)}function oc(t){var e=us(t);if(_0(e))return t}function MA(t,e){if(t==="change")return e}var Y0=!1;if(dr){var kf;if(dr){var Nf="oninput"in document;if(!Nf){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Nf=typeof ey.oninput=="function"}kf=Nf}else kf=!1;Y0=kf&&(!document.documentMode||9<document.documentMode)}function ty(){$o&&($o.detachEvent("onpropertychange",X0),ua=$o=null)}function X0(t){if(t.propertyName==="value"&&oc(ua)){var e=[];Q0(e,ua,t,Qd(t)),P0(DA,e)}}function VA(t,e,n){t==="focusin"?(ty(),$o=e,ua=n,$o.attachEvent("onpropertychange",X0)):t==="focusout"&&ty()}function UA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(ua)}function FA(t,e){if(t==="click")return oc(e)}function BA(t,e){if(t==="input"||t==="change")return oc(e)}function qA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:qA;function ca(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fh.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ry(t,e){var n=ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ny(n)}}function J0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z0(){for(var t=window,e=lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lu(t.document)}return e}function ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zA(t){var e=Z0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J0(n.ownerDocument.documentElement,n)){if(r!==null&&ip(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ry(n,s);var o=ry(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $A=dr&&"documentMode"in document&&11>=document.documentMode,as=null,Ph=null,Ho=null,Rh=!1;function iy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rh||as==null||as!==lu(r)||(r=as,"selectionStart"in r&&ip(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&ca(Ho,r)||(Ho=r,r=mu(Ph,"onSelect"),0<r.length&&(e=new tp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=as)))}function bl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ls={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},Pf={},e1={};dr&&(e1=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function ac(t){if(Pf[t])return Pf[t];if(!ls[t])return t;var e=ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in e1)return Pf[t]=e[n];return t}var t1=ac("animationend"),n1=ac("animationiteration"),r1=ac("animationstart"),i1=ac("transitionend"),s1=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){s1.set(t,e),zi(e,[t])}for(var Rf=0;Rf<sy.length;Rf++){var Of=sy[Rf],HA=Of.toLowerCase(),WA=Of[0].toUpperCase()+Of.slice(1);si(HA,"on"+WA)}si(t1,"onAnimationEnd");si(n1,"onAnimationIteration");si(r1,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(i1,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hb(r,e,void 0,t),t.currentTarget=null}function o1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oy(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oy(i,a,c),s=l}}}if(cu)throw t=Ih,cu=!1,Ih=null,t}function He(t,e){var n=e[Dh];n===void 0&&(n=e[Dh]=new Set);var r=t+"__bubble";n.has(r)||(a1(e,t,2,!1),n.add(r))}function Cf(t,e,n){var r=0;e&&(r|=4),a1(n,t,r,e)}var Al="_reactListening"+Math.random().toString(36).slice(2);function fa(t){if(!t[Al]){t[Al]=!0,p0.forEach(function(n){n!=="selectionchange"&&(KA.has(n)||Cf(n,!1,t),Cf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Al]||(e[Al]=!0,Cf("selectionchange",!1,e))}}function a1(t,e,n,r){switch($0(e)){case 1:var i=aA;break;case 4:i=lA;break;default:i=Zd}n=i.bind(null,e,n,t),i=void 0,!Ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Lf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}P0(function(){var c=s,d=Qd(n),h=[];e:{var f=s1.get(t);if(f!==void 0){var p=tp,v=t;switch(t){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":p=TA;break;case"focusin":v="focus",p=Sf;break;case"focusout":v="blur",p=Sf;break;case"beforeblur":case"afterblur":p=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IA;break;case t1:case n1:case r1:p=pA;break;case i1:p=kA;break;case"scroll":p=uA;break;case"wheel":p=PA;break;case"copy":case"cut":case"paste":p=gA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yg}var _=(e&4)!==0,x=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,E;m!==null;){E=m;var y=E.stateNode;if(E.tag===5&&y!==null&&(E=y,g!==null&&(y=sa(m,g),y!=null&&_.push(ha(m,y,E)))),x)break;m=m.return}0<_.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Th&&(v=n.relatedTarget||n.fromElement)&&(wi(v)||v[pr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?wi(v):null,v!==null&&(x=$i(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(_=Gg,y="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Yg,y="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:us(p),E=v==null?f:us(v),f=new _(y,m+"leave",p,n,d),f.target=x,f.relatedTarget=E,y=null,wi(d)===c&&(_=new _(g,m+"enter",v,n,d),_.target=E,_.relatedTarget=x,y=_),x=y,p&&v)t:{for(_=p,g=v,m=0,E=_;E;E=es(E))m++;for(E=0,y=g;y;y=es(y))E++;for(;0<m-E;)_=es(_),m--;for(;0<E-m;)g=es(g),E--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=es(_),g=es(g)}_=null}else _=null;p!==null&&ay(h,f,p,_,!1),v!==null&&x!==null&&ay(h,x,v,_,!0)}}e:{if(f=c?us(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=MA;else if(Zg(f))if(Y0)k=BA;else{k=UA;var C=VA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=FA);if(k&&(k=k(t,c))){Q0(h,k,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&vh(f,"number",f.value)}switch(C=c?us(c):window,t){case"focusin":(Zg(C)||C.contentEditable==="true")&&(as=C,Ph=c,Ho=null);break;case"focusout":Ho=Ph=as=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,iy(h,n,d);break;case"selectionchange":if($A)break;case"keydown":case"keyup":iy(h,n,d)}var S;if(rp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else os?K0(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(W0&&n.locale!=="ko"&&(os||w!=="onCompositionStart"?w==="onCompositionEnd"&&os&&(S=H0()):(Vr=d,ep="value"in Vr?Vr.value:Vr.textContent,os=!0)),C=mu(c,w),0<C.length&&(w=new Qg(w,t,null,n,d),h.push({event:w,listeners:C}),S?w.data=S:(S=G0(n),S!==null&&(w.data=S)))),(S=OA?CA(t,n):LA(t,n))&&(c=mu(c,"onBeforeInput"),0<c.length&&(d=new Qg("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}o1(h,e)})}function ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sa(t,n),s!=null&&r.unshift(ha(t,s,i)),s=sa(t,e),s!=null&&r.push(ha(t,s,i))),t=t.return}return r}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ay(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=sa(n,s),l!=null&&o.unshift(ha(n,l,a))):i||(l=sa(n,s),l!=null&&o.push(ha(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function ly(t){return(typeof t=="string"?t:""+t).replace(GA,`
`).replace(QA,"")}function Il(t,e,n){if(e=ly(e),ly(t)!==e&&n)throw Error(oe(425))}function gu(){}var Oh=null,Ch=null;function Lh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(JA)}:jh;function JA(t){setTimeout(function(){throw t})}function jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),la(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);la(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Un="__reactFiber$"+zs,da="__reactProps$"+zs,pr="__reactContainer$"+zs,Dh="__reactEvents$"+zs,ZA="__reactListeners$"+zs,eI="__reactHandles$"+zs;function wi(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cy(t);t!==null;){if(n=t[Un])return n;t=cy(t)}return e}t=n,n=t.parentNode}return null}function Da(t){return t=t[Un]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function lc(t){return t[da]||null}var Mh=[],cs=-1;function oi(t){return{current:t}}function Qe(t){0>cs||(t.current=Mh[cs],Mh[cs]=null,cs--)}function qe(t,e){cs++,Mh[cs]=t.current,t.current=e}var ei={},Mt=oi(ei),Qt=oi(!1),Ni=ei;function ks(t,e){var n=t.type.contextTypes;if(!n)return ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function yu(){Qe(Qt),Qe(Mt)}function fy(t,e,n){if(Mt.current!==ei)throw Error(oe(168));qe(Mt,e),qe(Qt,n)}function l1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,Vb(t)||"Unknown",i));return et({},n,r)}function vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,Ni=Mt.current,qe(Mt,t),qe(Qt,Qt.current),!0}function hy(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=l1(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,Qe(Qt),Qe(Mt),qe(Mt,t)):Qe(Qt),qe(Qt,n)}var tr=null,uc=!1,Df=!1;function u1(t){tr===null?tr=[t]:tr.push(t)}function tI(t){uc=!0,u1(t)}function ai(){if(!Df&&tr!==null){Df=!0;var t=0,e=Ve;try{var n=tr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tr=null,uc=!1}catch(i){throw tr!==null&&(tr=tr.slice(t+1)),L0(Yd,ai),i}finally{Ve=e,Df=!1}}return null}var fs=[],hs=0,_u=null,wu=0,cn=[],fn=0,Pi=null,rr=1,ir="";function gi(t,e){fs[hs++]=wu,fs[hs++]=_u,_u=t,wu=e}function c1(t,e,n){cn[fn++]=rr,cn[fn++]=ir,cn[fn++]=Pi,Pi=t;var r=rr;t=ir;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rr=1<<32-Sn(e)+i|n<<i|r,ir=s+t}else rr=1<<s|n<<i|r,ir=t}function sp(t){t.return!==null&&(gi(t,1),c1(t,1,0))}function op(t){for(;t===_u;)_u=fs[--hs],fs[hs]=null,wu=fs[--hs],fs[hs]=null;for(;t===Pi;)Pi=cn[--fn],cn[fn]=null,ir=cn[--fn],cn[fn]=null,rr=cn[--fn],cn[fn]=null}var on=null,tn=null,Ye=!1,xn=null;function f1(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,tn=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,tn=null,!0):!1;default:return!1}}function Vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uh(t){if(Ye){var e=tn;if(e){var n=e;if(!dy(t,e)){if(Vh(t))throw Error(oe(418));e=Hr(n.nextSibling);var r=on;e&&dy(t,e)?f1(r,n):(t.flags=t.flags&-4097|2,Ye=!1,on=t)}}else{if(Vh(t))throw Error(oe(418));t.flags=t.flags&-4097|2,Ye=!1,on=t}}}function py(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function Sl(t){if(t!==on)return!1;if(!Ye)return py(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lh(t.type,t.memoizedProps)),e&&(e=tn)){if(Vh(t))throw h1(),Error(oe(418));for(;e;)f1(t,e),e=Hr(e.nextSibling)}if(py(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tn=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=on?Hr(t.stateNode.nextSibling):null;return!0}function h1(){for(var t=tn;t;)t=Hr(t.nextSibling)}function Ns(){tn=on=null,Ye=!1}function ap(t){xn===null?xn=[t]:xn.push(t)}var nI=Er.ReactCurrentBatchConfig;function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function kl(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function my(t){var e=t._init;return e(t._payload)}function d1(t){function e(g,m){if(t){var E=g.deletions;E===null?(g.deletions=[m],g.flags|=16):E.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Qr(g,m),g.index=0,g.sibling=null,g}function s(g,m,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<m?(g.flags|=2,m):E):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,E,y){return m===null||m.tag!==6?(m=zf(E,g.mode,y),m.return=g,m):(m=i(m,E),m.return=g,m)}function l(g,m,E,y){var k=E.type;return k===ss?d(g,m,E.props.children,y,E.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pr&&my(k)===m.type)?(y=i(m,E.props),y.ref=To(g,m,E),y.return=g,y):(y=Jl(E.type,E.key,E.props,null,g.mode,y),y.ref=To(g,m,E),y.return=g,y)}function c(g,m,E,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==E.containerInfo||m.stateNode.implementation!==E.implementation?(m=$f(E,g.mode,y),m.return=g,m):(m=i(m,E.children||[]),m.return=g,m)}function d(g,m,E,y,k){return m===null||m.tag!==7?(m=Ii(E,g.mode,y,k),m.return=g,m):(m=i(m,E),m.return=g,m)}function h(g,m,E){if(typeof m=="string"&&m!==""||typeof m=="number")return m=zf(""+m,g.mode,E),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yl:return E=Jl(m.type,m.key,m.props,null,g.mode,E),E.ref=To(g,null,m),E.return=g,E;case is:return m=$f(m,g.mode,E),m.return=g,m;case Pr:var y=m._init;return h(g,y(m._payload),E)}if(Oo(m)||vo(m))return m=Ii(m,g.mode,E,null),m.return=g,m;kl(g,m)}return null}function f(g,m,E,y){var k=m!==null?m.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(g,m,""+E,y);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case yl:return E.key===k?l(g,m,E,y):null;case is:return E.key===k?c(g,m,E,y):null;case Pr:return k=E._init,f(g,m,k(E._payload),y)}if(Oo(E)||vo(E))return k!==null?null:d(g,m,E,y,null);kl(g,E)}return null}function p(g,m,E,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(E)||null,a(m,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yl:return g=g.get(y.key===null?E:y.key)||null,l(m,g,y,k);case is:return g=g.get(y.key===null?E:y.key)||null,c(m,g,y,k);case Pr:var C=y._init;return p(g,m,E,C(y._payload),k)}if(Oo(y)||vo(y))return g=g.get(E)||null,d(m,g,y,k,null);kl(m,y)}return null}function v(g,m,E,y){for(var k=null,C=null,S=m,w=m=0,R=null;S!==null&&w<E.length;w++){S.index>w?(R=S,S=null):R=S.sibling;var b=f(g,S,E[w],y);if(b===null){S===null&&(S=R);break}t&&S&&b.alternate===null&&e(g,S),m=s(b,m,w),C===null?k=b:C.sibling=b,C=b,S=R}if(w===E.length)return n(g,S),Ye&&gi(g,w),k;if(S===null){for(;w<E.length;w++)S=h(g,E[w],y),S!==null&&(m=s(S,m,w),C===null?k=S:C.sibling=S,C=S);return Ye&&gi(g,w),k}for(S=r(g,S);w<E.length;w++)R=p(S,g,w,E[w],y),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?w:R.key),m=s(R,m,w),C===null?k=R:C.sibling=R,C=R);return t&&S.forEach(function(A){return e(g,A)}),Ye&&gi(g,w),k}function _(g,m,E,y){var k=vo(E);if(typeof k!="function")throw Error(oe(150));if(E=k.call(E),E==null)throw Error(oe(151));for(var C=k=null,S=m,w=m=0,R=null,b=E.next();S!==null&&!b.done;w++,b=E.next()){S.index>w?(R=S,S=null):R=S.sibling;var A=f(g,S,b.value,y);if(A===null){S===null&&(S=R);break}t&&S&&A.alternate===null&&e(g,S),m=s(A,m,w),C===null?k=A:C.sibling=A,C=A,S=R}if(b.done)return n(g,S),Ye&&gi(g,w),k;if(S===null){for(;!b.done;w++,b=E.next())b=h(g,b.value,y),b!==null&&(m=s(b,m,w),C===null?k=b:C.sibling=b,C=b);return Ye&&gi(g,w),k}for(S=r(g,S);!b.done;w++,b=E.next())b=p(S,g,w,b.value,y),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?w:b.key),m=s(b,m,w),C===null?k=b:C.sibling=b,C=b);return t&&S.forEach(function(P){return e(g,P)}),Ye&&gi(g,w),k}function x(g,m,E,y){if(typeof E=="object"&&E!==null&&E.type===ss&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case yl:e:{for(var k=E.key,C=m;C!==null;){if(C.key===k){if(k=E.type,k===ss){if(C.tag===7){n(g,C.sibling),m=i(C,E.props.children),m.return=g,g=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pr&&my(k)===C.type){n(g,C.sibling),m=i(C,E.props),m.ref=To(g,C,E),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}E.type===ss?(m=Ii(E.props.children,g.mode,y,E.key),m.return=g,g=m):(y=Jl(E.type,E.key,E.props,null,g.mode,y),y.ref=To(g,m,E),y.return=g,g=y)}return o(g);case is:e:{for(C=E.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===E.containerInfo&&m.stateNode.implementation===E.implementation){n(g,m.sibling),m=i(m,E.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=$f(E,g.mode,y),m.return=g,g=m}return o(g);case Pr:return C=E._init,x(g,m,C(E._payload),y)}if(Oo(E))return v(g,m,E,y);if(vo(E))return _(g,m,E,y);kl(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,E),m.return=g,g=m):(n(g,m),m=zf(E,g.mode,y),m.return=g,g=m),o(g)):n(g,m)}return x}var Ps=d1(!0),p1=d1(!1),Eu=oi(null),xu=null,ds=null,lp=null;function up(){lp=ds=xu=null}function cp(t){var e=Eu.current;Qe(Eu),t._currentValue=e}function Fh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Es(t,e){xu=t,lp=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(lp!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(xu===null)throw Error(oe(308));ds=t,xu.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var Ei=null;function fp(t){Ei===null?Ei=[t]:Ei.push(t)}function m1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fp(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function hp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,fp(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function Wl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xd(t,n)}}function gy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tu(t,e,n,r){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=et({},h,f);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Oi|=o,t.lanes=o,t.memoizedState=h}}function yy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Ma={},zn=oi(Ma),pa=oi(Ma),ma=oi(Ma);function xi(t){if(t===Ma)throw Error(oe(174));return t}function dp(t,e){switch(qe(ma,e),qe(pa,t),qe(zn,Ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wh(e,t)}Qe(zn),qe(zn,e)}function Rs(){Qe(zn),Qe(pa),Qe(ma)}function y1(t){xi(ma.current);var e=xi(zn.current),n=wh(e,t.type);e!==n&&(qe(pa,t),qe(zn,n))}function pp(t){pa.current===t&&(Qe(zn),Qe(pa))}var Je=oi(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mf=[];function mp(){for(var t=0;t<Mf.length;t++)Mf[t]._workInProgressVersionPrimary=null;Mf.length=0}var Kl=Er.ReactCurrentDispatcher,Vf=Er.ReactCurrentBatchConfig,Ri=0,Ze=null,mt=null,vt=null,Au=!1,Wo=!1,ga=0,rI=0;function Rt(){throw Error(oe(321))}function gp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function yp(t,e,n,r,i,s){if(Ri=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kl.current=t===null||t.memoizedState===null?aI:lI,t=n(r,i),Wo){s=0;do{if(Wo=!1,ga=0,25<=s)throw Error(oe(301));s+=1,vt=mt=null,e.updateQueue=null,Kl.current=uI,t=n(r,i)}while(Wo)}if(Kl.current=Iu,e=mt!==null&&mt.next!==null,Ri=0,vt=mt=Ze=null,Au=!1,e)throw Error(oe(300));return t}function vp(){var t=ga!==0;return ga=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ze.memoizedState=vt=t:vt=vt.next=t,vt}function gn(){if(mt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=vt===null?Ze.memoizedState:vt.next;if(e!==null)vt=e,mt=t;else{if(t===null)throw Error(oe(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?Ze.memoizedState=vt=t:vt=vt.next=t}return vt}function ya(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=gn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ri&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ze.lanes|=d,Oi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Oi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ff(t){var e=gn(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function v1(){}function _1(t,e){var n=Ze,r=gn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,_p(x1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,va(9,E1.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(oe(349));Ri&30||w1(n,e,i)}return i}function w1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function E1(t,e,n,r){e.value=n,e.getSnapshot=r,T1(e)&&b1(t)}function x1(t,e,n){return n(function(){T1(e)&&b1(t)})}function T1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function b1(t){var e=mr(t,1);e!==null&&kn(e,t,1,-1)}function vy(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=oI.bind(null,Ze,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function A1(){return gn().memoizedState}function Gl(t,e,n,r){var i=Vn();Ze.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function cc(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var o=mt.memoizedState;if(s=o.destroy,r!==null&&gp(r,o.deps)){i.memoizedState=va(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=va(1|e,n,s,r)}function _y(t,e){return Gl(8390656,8,t,e)}function _p(t,e){return cc(2048,8,t,e)}function I1(t,e){return cc(4,2,t,e)}function S1(t,e){return cc(4,4,t,e)}function k1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N1(t,e,n){return n=n!=null?n.concat([t]):null,cc(4,4,k1.bind(null,e,t),n)}function wp(){}function P1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R1(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O1(t,e,n){return Ri&21?(Cn(n,e)||(n=M0(),Ze.lanes|=n,Oi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function iI(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Vf.transition;Vf.transition={};try{t(!1),e()}finally{Ve=n,Vf.transition=r}}function C1(){return gn().memoizedState}function sI(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L1(t))j1(e,n);else if(n=m1(t,e,n,r),n!==null){var i=qt();kn(n,t,r,i),D1(n,e,r)}}function oI(t,e,n){var r=Gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L1(t))j1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(i.next=i,fp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=m1(t,e,i,r),n!==null&&(i=qt(),kn(n,t,r,i),D1(n,e,r))}}function L1(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function j1(t,e){Wo=Au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xd(t,n)}}var Iu={readContext:mn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},aI={readContext:mn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:_y,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4194308,4,k1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gl(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sI.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:vy,useDebugValue:wp,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=vy(!1),e=t[0];return t=iI.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=Vn();if(Ye){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),wt===null)throw Error(oe(349));Ri&30||w1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_y(x1.bind(null,r,s,t),[t]),r.flags|=2048,va(9,E1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=wt.identifierPrefix;if(Ye){var n=ir,r=rr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lI={readContext:mn,useCallback:P1,useContext:mn,useEffect:_p,useImperativeHandle:N1,useInsertionEffect:I1,useLayoutEffect:S1,useMemo:R1,useReducer:Uf,useRef:A1,useState:function(){return Uf(ya)},useDebugValue:wp,useDeferredValue:function(t){var e=gn();return O1(e,mt.memoizedState,t)},useTransition:function(){var t=Uf(ya)[0],e=gn().memoizedState;return[t,e]},useMutableSource:v1,useSyncExternalStore:_1,useId:C1,unstable_isNewReconciler:!1},uI={readContext:mn,useCallback:P1,useContext:mn,useEffect:_p,useImperativeHandle:N1,useInsertionEffect:I1,useLayoutEffect:S1,useMemo:R1,useReducer:Ff,useRef:A1,useState:function(){return Ff(ya)},useDebugValue:wp,useDeferredValue:function(t){var e=gn();return mt===null?e.memoizedState=t:O1(e,mt.memoizedState,t)},useTransition:function(){var t=Ff(ya)[0],e=gn().memoizedState;return[t,e]},useMutableSource:v1,useSyncExternalStore:_1,useId:C1,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fc={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),i=Gr(t),s=lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,i),e!==null&&(kn(e,t,i,r),Wl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),i=Gr(t),s=lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,i),e!==null&&(kn(e,t,i,r),Wl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=Gr(t),i=lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wr(t,i,r),e!==null&&(kn(e,t,r,n),Wl(e,t,r))}};function wy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ca(n,r)||!ca(i,s):!0}function M1(t,e,n){var r=!1,i=ei,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Yt(e)?Ni:Mt.current,r=e.contextTypes,s=(r=r!=null)?ks(t,i):ei),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ey(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fc.enqueueReplaceState(e,e.state,null)}function qh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Yt(e)?Ni:Mt.current,i.context=ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fc.enqueueReplaceState(i,i.state,null),Tu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,e){try{var n="",r=e;do n+=Mb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cI=typeof WeakMap=="function"?WeakMap:Map;function V1(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ku||(ku=!0,Zh=r),zh(t,e)},n}function U1(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zh(t,e),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bI.bind(null,t,e,n),e.then(t,t))}function Ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var fI=Er.ReactCurrentOwner,Gt=!1;function Bt(t,e,n,r){e.child=t===null?p1(e,null,n,r):Ps(e,t.child,n,r)}function Ay(t,e,n,r,i){n=n.render;var s=e.ref;return Es(e,i),r=yp(t,e,n,r,s,i),n=vp(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ye&&n&&sp(e),e.flags|=1,Bt(t,e,r,i),e.child)}function Iy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!kp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,F1(t,e,s,r,i)):(t=Jl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(o,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=Qr(s,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ca(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,gr(t,e,i)}return $h(t,e,n,r,i)}function B1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ms,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(ms,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(ms,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(ms,Zt),Zt|=r;return Bt(t,e,i,n),e.child}function q1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $h(t,e,n,r,i){var s=Yt(n)?Ni:Mt.current;return s=ks(e,s),Es(e,i),n=yp(t,e,n,r,s,i),r=vp(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(Ye&&r&&sp(e),e.flags|=1,Bt(t,e,n,i),e.child)}function Sy(t,e,n,r,i){if(Yt(n)){var s=!0;vu(e)}else s=!1;if(Es(e,i),e.stateNode===null)Ql(t,e),M1(e,n,r),qh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Yt(n)?Ni:Mt.current,c=ks(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ey(e,o,r,c),Rr=!1;var f=e.memoizedState;o.state=f,Tu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Qt.current||Rr?(typeof d=="function"&&(Bh(e,n,d,r),l=e.memoizedState),(a=Rr||wy(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,g1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Yt(n)?Ni:Mt.current,l=ks(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ey(e,o,r,l),Rr=!1,f=e.memoizedState,o.state=f,Tu(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Qt.current||Rr?(typeof p=="function"&&(Bh(e,n,p,r),v=e.memoizedState),(c=Rr||wy(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hh(t,e,n,r,s,i)}function Hh(t,e,n,r,i,s){q1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hy(e,n,!1),gr(t,e,s);r=e.stateNode,fI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,s),e.child=Ps(e,null,a,s)):Bt(t,e,a,s),e.memoizedState=r.state,i&&hy(e,n,!0),e.child}function z1(t){var e=t.stateNode;e.pendingContext?fy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fy(t,e.context,!1),dp(t,e.containerInfo)}function ky(t,e,n,r,i){return Ns(),ap(i),e.flags|=256,Bt(t,e,n,r),e.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function Kh(t){return{baseLanes:t,cachePool:null,transitions:null}}function $1(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(Je,i&1),t===null)return Uh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pc(o,r,0,null),t=Ii(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kh(n),e.memoizedState=Wh,t):Ep(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qr(a,s):(s=Ii(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wh,r}return s=t.child,t=s.sibling,r=Qr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ep(t,e){return e=pc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nl(t,e,n,r){return r!==null&&ap(r),Ps(e,t.child,null,n),t=Ep(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Bf(Error(oe(422))),Nl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pc({mode:"visible",children:r.children},i,0,null),s=Ii(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=Kh(o),e.memoizedState=Wh,s);if(!(e.mode&1))return Nl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(oe(419)),r=Bf(s,r,void 0),Nl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=wt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mr(t,i),kn(r,t,i,-1))}return Sp(),r=Bf(Error(oe(421))),Nl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tn=Hr(i.nextSibling),on=e,Ye=!0,xn=null,t!==null&&(cn[fn++]=rr,cn[fn++]=ir,cn[fn++]=Pi,rr=t.id,ir=t.overflow,Pi=e),e=Ep(e,r.children),e.flags|=4096,e)}function Ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fh(t.return,e,n)}function qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function H1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,n,e);else if(t.tag===19)Ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qf(e,!0,n,null,s);break;case"together":qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dI(t,e,n){switch(e.tag){case 3:z1(e),Ns();break;case 5:y1(e);break;case 1:Yt(e.type)&&vu(e);break;case 4:dp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?$1(t,e,n):(qe(Je,Je.current&1),t=gr(t,e,n),t!==null?t.sibling:null);qe(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return H1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,B1(t,e,n)}return gr(t,e,n)}var W1,Gh,K1,G1;W1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};K1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xi(zn.current);var s=null;switch(n){case"input":i=gh(t,i),r=gh(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=_h(t,i),r=_h(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gu)}Eh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ra.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ra.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};G1=function(t,e,n,r){n!==r&&(e.flags|=4)};function bo(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pI(t,e,n){var r=e.pendingProps;switch(op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Yt(e.type)&&yu(),Ot(e),null;case 3:return r=e.stateNode,Rs(),Qe(Qt),Qe(Mt),mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(nd(xn),xn=null))),Gh(t,e),Ot(e),null;case 5:pp(e);var i=xi(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)K1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Ot(e),null}if(t=xi(zn.current),Sl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[da]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Lo.length;i++)He(Lo[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Vg(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":Fg(r,s),He("invalid",r)}Eh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Il(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Il(r.textContent,a,t),i=["children",""+a]):ra.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":vl(r),Ug(r,s,!0);break;case"textarea":vl(r),Bg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[da]=r,W1(t,e,!1,!1),e.stateNode=t;e:{switch(o=xh(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lo.length;i++)He(Lo[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":Vg(t,r),i=gh(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),He("invalid",t);break;case"textarea":Fg(t,r),i=_h(t,r),He("invalid",t);break;default:i=r}Eh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ia(t,l):typeof l=="number"&&ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ra.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",t):l!=null&&Hd(t,s,l,o))}switch(n){case"input":vl(t),Ug(t,r,!1);break;case"textarea":vl(t),Bg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ys(t,!!r.multiple,s,!1):r.defaultValue!=null&&ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)G1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=xi(ma.current),xi(zn.current),Sl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Il(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Ot(e),null;case 13:if(Qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&tn!==null&&e.mode&1&&!(e.flags&128))h1(),Ns(),e.flags|=98560,s=!1;else if(s=Sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(oe(317));s[Un]=e}else Ns(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else xn!==null&&(nd(xn),xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?gt===0&&(gt=3):Sp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Rs(),Gh(t,e),t===null&&fa(e.stateNode.containerInfo),Ot(e),null;case 10:return cp(e.type._context),Ot(e),null;case 17:return Yt(e.type)&&yu(),Ot(e),null;case 19:if(Qe(Je),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bo(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bu(t),o!==null){for(e.flags|=128,bo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Cs&&(e.flags|=128,r=!0,bo(s,!1),e.lanes=4194304)}else{if(!r)if(t=bu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return Ot(e),null}else 2*lt()-s.renderingStartTime>Cs&&n!==1073741824&&(e.flags|=128,r=!0,bo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Je.current,qe(Je,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Ip(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function mI(t,e){switch(op(e),e.tag){case 1:return Yt(e.type)&&yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rs(),Qe(Qt),Qe(Mt),mp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pp(e),null;case 13:if(Qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(Je),null;case 4:return Rs(),null;case 10:return cp(e.type._context),null;case 22:case 23:return Ip(),null;case 24:return null;default:return null}}var Pl=!1,jt=!1,gI=typeof WeakSet=="function"?WeakSet:Set,he=null;function ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Qh(t,e,n){try{n()}catch(r){rt(t,e,r)}}var Py=!1;function yI(t,e){if(Oh=du,t=Z0(),ip(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ch={focusedElem:t,selectionRange:n},du=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:wn(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(y){rt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return v=Py,Py=!1,v}function Ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qh(e,n,s)}i=i.next}while(i!==r)}}function hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q1(t){var e=t.alternate;e!==null&&(t.alternate=null,Q1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[da],delete e[Dh],delete e[ZA],delete e[eI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y1(t){return t.tag===5||t.tag===3||t.tag===4}function Ry(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gu));else if(r!==4&&(t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}function Jh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jh(t,e,n),t=t.sibling;t!==null;)Jh(t,e,n),t=t.sibling}var bt=null,En=!1;function kr(t,e,n){for(n=n.child;n!==null;)X1(t,e,n),n=n.sibling}function X1(t,e,n){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 5:jt||ps(n,e);case 6:var r=bt,i=En;bt=null,kr(t,e,n),bt=r,En=i,bt!==null&&(En?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(En?(t=bt,n=n.stateNode,t.nodeType===8?jf(t.parentNode,n):t.nodeType===1&&jf(t,n),la(t)):jf(bt,n.stateNode));break;case 4:r=bt,i=En,bt=n.stateNode.containerInfo,En=!0,kr(t,e,n),bt=r,En=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qh(n,e,o),i=i.next}while(i!==r)}kr(t,e,n);break;case 1:if(!jt&&(ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,kr(t,e,n),jt=r):kr(t,e,n);break;default:kr(t,e,n)}}function Oy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gI),e.forEach(function(r){var i=II.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,En=!1;break e;case 3:bt=a.stateNode.containerInfo,En=!0;break e;case 4:bt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(bt===null)throw Error(oe(160));X1(s,o,i),bt=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J1(e,t),e=e.sibling}function J1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Dn(t),r&4){try{Ko(3,t,t.return),hc(3,t)}catch(_){rt(t,t.return,_)}try{Ko(5,t,t.return)}catch(_){rt(t,t.return,_)}}break;case 1:_n(e,t),Dn(t),r&512&&n!==null&&ps(n,n.return);break;case 5:if(_n(e,t),Dn(t),r&512&&n!==null&&ps(n,n.return),t.flags&32){var i=t.stateNode;try{ia(i,"")}catch(_){rt(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&w0(i,s),xh(a,o);var c=xh(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?A0(i,h):d==="dangerouslySetInnerHTML"?T0(i,h):d==="children"?ia(i,h):Hd(i,d,h,c)}switch(a){case"input":yh(i,s);break;case"textarea":E0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ys(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ys(i,!!s.multiple,s.defaultValue,!0):ys(i,!!s.multiple,s.multiple?[]:"",!1))}i[da]=s}catch(_){rt(t,t.return,_)}}break;case 6:if(_n(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){rt(t,t.return,_)}}break;case 3:if(_n(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(_){rt(t,t.return,_)}break;case 4:_n(e,t),Dn(t);break;case 13:_n(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bp=lt())),r&4&&Oy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(c=jt)||d,_n(e,t),jt=c):_n(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(h=he=d;he!==null;){switch(f=he,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ko(4,f,f.return);break;case 1:ps(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){rt(r,n,_)}}break;case 5:ps(f,f.return);break;case 22:if(f.memoizedState!==null){Ly(h);continue}}p!==null?(p.return=f,he=p):Ly(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=b0("display",o))}catch(_){rt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){rt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Dn(t),r&4&&Oy(t);break;case 21:break;default:_n(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y1(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ia(i,""),r.flags&=-33);var s=Ry(t);Jh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ry(t);Xh(t,a,o);break;default:throw Error(oe(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vI(t,e,n){he=t,Z1(t)}function Z1(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Pl;var c=jt;if(Pl=o,(jt=l)&&!c)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?jy(i):l!==null?(l.return=o,he=l):jy(i);for(;s!==null;)he=s,Z1(s),s=s.sibling;he=i,Pl=a,jt=c}Cy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):Cy(t)}}function Cy(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&la(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}jt||e.flags&512&&Yh(e)}catch(f){rt(e,e.return,f)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Ly(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function jy(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hc(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Yh(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Yh(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var _I=Math.ceil,Su=Er.ReactCurrentDispatcher,xp=Er.ReactCurrentOwner,pn=Er.ReactCurrentBatchConfig,Ce=0,wt=null,ct=null,It=0,Zt=0,ms=oi(0),gt=0,_a=null,Oi=0,dc=0,Tp=0,Go=null,Kt=null,bp=0,Cs=1/0,er=null,ku=!1,Zh=null,Kr=null,Rl=!1,Ur=null,Nu=0,Qo=0,ed=null,Yl=-1,Xl=0;function qt(){return Ce&6?lt():Yl!==-1?Yl:Yl=lt()}function Gr(t){return t.mode&1?Ce&2&&It!==0?It&-It:nI.transition!==null?(Xl===0&&(Xl=M0()),Xl):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:$0(t.type)),t):1}function kn(t,e,n,r){if(50<Qo)throw Qo=0,ed=null,Error(oe(185));La(t,n,r),(!(Ce&2)||t!==wt)&&(t===wt&&(!(Ce&2)&&(dc|=n),gt===4&&Cr(t,It)),Xt(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Cs=lt()+500,uc&&ai()))}function Xt(t,e){var n=t.callbackNode;nA(t,e);var r=hu(t,t===wt?It:0);if(r===0)n!==null&&$g(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$g(n),e===1)t.tag===0?tI(Dy.bind(null,t)):u1(Dy.bind(null,t)),XA(function(){!(Ce&6)&&ai()}),n=null;else{switch(V0(r)){case 1:n=Yd;break;case 4:n=j0;break;case 16:n=fu;break;case 536870912:n=D0;break;default:n=fu}n=aw(n,ew.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ew(t,e){if(Yl=-1,Xl=0,Ce&6)throw Error(oe(327));var n=t.callbackNode;if(xs()&&t.callbackNode!==n)return null;var r=hu(t,t===wt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pu(t,r);else{e=r;var i=Ce;Ce|=2;var s=nw();(wt!==t||It!==e)&&(er=null,Cs=lt()+500,Ai(t,e));do try{xI();break}catch(a){tw(t,a)}while(!0);up(),Su.current=s,Ce=i,ct!==null?e=0:(wt=null,It=0,e=gt)}if(e!==0){if(e===2&&(i=Sh(t),i!==0&&(r=i,e=td(t,i))),e===1)throw n=_a,Ai(t,0),Cr(t,r),Xt(t,lt()),n;if(e===6)Cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!wI(i)&&(e=Pu(t,r),e===2&&(s=Sh(t),s!==0&&(r=s,e=td(t,s))),e===1))throw n=_a,Ai(t,0),Cr(t,r),Xt(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:yi(t,Kt,er);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=bp+500-lt(),10<e)){if(hu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jh(yi.bind(null,t,Kt,er),e);break}yi(t,Kt,er);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_I(r/1960))-r,10<r){t.timeoutHandle=jh(yi.bind(null,t,Kt,er),r);break}yi(t,Kt,er);break;case 5:yi(t,Kt,er);break;default:throw Error(oe(329))}}}return Xt(t,lt()),t.callbackNode===n?ew.bind(null,t):null}function td(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(Ai(t,e).flags|=256),t=Pu(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&nd(e)),t}function nd(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function wI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~Tp,e&=~dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function Dy(t){if(Ce&6)throw Error(oe(327));xs();var e=hu(t,0);if(!(e&1))return Xt(t,lt()),null;var n=Pu(t,e);if(t.tag!==0&&n===2){var r=Sh(t);r!==0&&(e=r,n=td(t,r))}if(n===1)throw n=_a,Ai(t,0),Cr(t,e),Xt(t,lt()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,Kt,er),Xt(t,lt()),null}function Ap(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Cs=lt()+500,uc&&ai())}}function Ci(t){Ur!==null&&Ur.tag===0&&!(Ce&6)&&xs();var e=Ce;Ce|=1;var n=pn.transition,r=Ve;try{if(pn.transition=null,Ve=1,t)return t()}finally{Ve=r,pn.transition=n,Ce=e,!(Ce&6)&&ai()}}function Ip(){Zt=ms.current,Qe(ms)}function Ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YA(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yu();break;case 3:Rs(),Qe(Qt),Qe(Mt),mp();break;case 5:pp(r);break;case 4:Rs();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:cp(r.type._context);break;case 22:case 23:Ip()}n=n.return}if(wt=t,ct=t=Qr(t.current,null),It=Zt=e,gt=0,_a=null,Tp=dc=Oi=0,Kt=Go=null,Ei!==null){for(e=0;e<Ei.length;e++)if(n=Ei[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ei=null}return t}function tw(t,e){do{var n=ct;try{if(up(),Kl.current=Iu,Au){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Au=!1}if(Ri=0,vt=mt=Ze=null,Wo=!1,ga=0,xp.current=null,n===null||n.return===null){gt=1,_a=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ty(o);if(p!==null){p.flags&=-257,by(p,o,a,s,e),p.mode&1&&xy(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){xy(s,c,e),Sp();break e}l=Error(oe(426))}}else if(Ye&&a.mode&1){var x=Ty(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),by(x,o,a,s,e),ap(Os(l,a));break e}}s=l=Os(l,a),gt!==4&&(gt=2),Go===null?Go=[s]:Go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=V1(s,l,e);gy(s,g);break e;case 1:a=l;var m=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Kr===null||!Kr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var y=U1(s,a,e);gy(s,y);break e}}s=s.return}while(s!==null)}iw(n)}catch(k){e=k,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function nw(){var t=Su.current;return Su.current=Iu,t===null?Iu:t}function Sp(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(Oi&268435455)&&!(dc&268435455)||Cr(wt,It)}function Pu(t,e){var n=Ce;Ce|=2;var r=nw();(wt!==t||It!==e)&&(er=null,Ai(t,e));do try{EI();break}catch(i){tw(t,i)}while(!0);if(up(),Ce=n,Su.current=r,ct!==null)throw Error(oe(261));return wt=null,It=0,gt}function EI(){for(;ct!==null;)rw(ct)}function xI(){for(;ct!==null&&!Kb();)rw(ct)}function rw(t){var e=ow(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?iw(t):ct=e,xp.current=null}function iw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mI(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(n=pI(n,e,Zt),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function yi(t,e,n){var r=Ve,i=pn.transition;try{pn.transition=null,Ve=1,TI(t,e,n,r)}finally{pn.transition=i,Ve=r}return null}function TI(t,e,n,r){do xs();while(Ur!==null);if(Ce&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rA(t,s),t===wt&&(ct=wt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rl||(Rl=!0,aw(fu,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=Ve;Ve=1;var a=Ce;Ce|=4,xp.current=null,yI(t,n),J1(n,t),zA(Ch),du=!!Oh,Ch=Oh=null,t.current=n,vI(n),Gb(),Ce=a,Ve=o,pn.transition=s}else t.current=n;if(Rl&&(Rl=!1,Ur=t,Nu=i),s=t.pendingLanes,s===0&&(Kr=null),Xb(n.stateNode),Xt(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,t=Zh,Zh=null,t;return Nu&1&&t.tag!==0&&xs(),s=t.pendingLanes,s&1?t===ed?Qo++:(Qo=0,ed=t):Qo=0,ai(),null}function xs(){if(Ur!==null){var t=V0(Nu),e=pn.transition,n=Ve;try{if(pn.transition=null,Ve=16>t?16:t,Ur===null)var r=!1;else{if(t=Ur,Ur=null,Nu=0,Ce&6)throw Error(oe(331));var i=Ce;for(Ce|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Ko(8,d,s)}var h=d.child;if(h!==null)h.return=d,he=h;else for(;he!==null;){d=he;var f=d.sibling,p=d.return;if(Q1(d),d===c){he=null;break}if(f!==null){f.return=p,he=f;break}he=p}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ko(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,he=g;break e}he=s.return}}var m=t.current;for(he=m;he!==null;){o=he;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,he=E;else e:for(o=m;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hc(9,a)}}catch(k){rt(a,a.return,k)}if(a===o){he=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,he=y;break e}he=a.return}}if(Ce=i,ai(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(ic,t)}catch{}r=!0}return r}finally{Ve=n,pn.transition=e}}return!1}function My(t,e,n){e=Os(n,e),e=V1(t,e,1),t=Wr(t,e,1),e=qt(),t!==null&&(La(t,1,e),Xt(t,e))}function rt(t,e,n){if(t.tag===3)My(t,t,n);else for(;e!==null;){if(e.tag===3){My(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){t=Os(n,t),t=U1(e,t,1),e=Wr(e,t,1),t=qt(),e!==null&&(La(e,1,t),Xt(e,t));break}}e=e.return}}function bI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(It&n)===n&&(gt===4||gt===3&&(It&130023424)===It&&500>lt()-bp?Ai(t,0):Tp|=n),Xt(t,e)}function sw(t,e){e===0&&(t.mode&1?(e=El,El<<=1,!(El&130023424)&&(El=4194304)):e=1);var n=qt();t=mr(t,e),t!==null&&(La(t,e,n),Xt(t,n))}function AI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sw(t,n)}function II(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),sw(t,n)}var ow;ow=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,dI(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Ye&&e.flags&1048576&&c1(e,wu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ql(t,e),t=e.pendingProps;var i=ks(e,Mt.current);Es(e,n),i=yp(null,e,r,t,i,n);var s=vp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,vu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hp(e),i.updater=fc,e.stateNode=i,i._reactInternals=e,qh(e,r,t,n),e=Hh(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&sp(e),Bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kI(r),t=wn(r,t),i){case 0:e=$h(null,e,r,t,n);break e;case 1:e=Sy(null,e,r,t,n);break e;case 11:e=Ay(null,e,r,t,n);break e;case 14:e=Iy(null,e,r,wn(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),$h(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Sy(t,e,r,i,n);case 3:e:{if(z1(e),t===null)throw Error(oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,g1(t,e),Tu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Os(Error(oe(423)),e),e=ky(t,e,r,n,i);break e}else if(r!==i){i=Os(Error(oe(424)),e),e=ky(t,e,r,n,i);break e}else for(tn=Hr(e.stateNode.containerInfo.firstChild),on=e,Ye=!0,xn=null,n=p1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ns(),r===i){e=gr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return y1(e),t===null&&Uh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lh(r,i)?o=null:s!==null&&Lh(r,s)&&(e.flags|=32),q1(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&Uh(e),null;case 13:return $1(t,e,n);case 4:return dp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ay(t,e,r,i,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Eu,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!Qt.current){e=gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=lr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Es(e,n),i=mn(i),r=r(i),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),Iy(t,e,r,i,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ql(t,e),e.tag=1,Yt(r)?(t=!0,vu(e)):t=!1,Es(e,n),M1(e,r,i),qh(e,r,i,n),Hh(null,e,r,!0,t,n);case 19:return H1(t,e,n);case 22:return B1(t,e,n)}throw Error(oe(156,e.tag))};function aw(t,e){return L0(t,e)}function SI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new SI(t,e,n,r)}function kp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kI(t){if(typeof t=="function")return kp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kd)return 11;if(t===Gd)return 14}return 2}function Qr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")kp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ss:return Ii(n.children,i,s,e);case Wd:o=8,i|=8;break;case hh:return t=dn(12,n,e,i|2),t.elementType=hh,t.lanes=s,t;case dh:return t=dn(13,n,e,i),t.elementType=dh,t.lanes=s,t;case ph:return t=dn(19,n,e,i),t.elementType=ph,t.lanes=s,t;case y0:return pc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m0:o=10;break e;case g0:o=9;break e;case Kd:o=11;break e;case Gd:o=14;break e;case Pr:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ii(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function pc(t,e,n,r){return t=dn(22,t,r,e),t.elementType=y0,t.lanes=n,t.stateNode={isHidden:!1},t}function zf(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function $f(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Np(t,e,n,r,i,s,o,a,l){return t=new NI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hp(s),t}function PI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lw(t){if(!t)return ei;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(Yt(n))return l1(t,n,e)}return e}function uw(t,e,n,r,i,s,o,a,l){return t=Np(n,r,!0,t,i,s,o,a,l),t.context=lw(null),n=t.current,r=qt(),i=Gr(n),s=lr(r,i),s.callback=e??null,Wr(n,s,i),t.current.lanes=i,La(t,i,r),Xt(t,r),t}function mc(t,e,n,r){var i=e.current,s=qt(),o=Gr(i);return n=lw(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(i,e,o),t!==null&&(kn(t,i,o,s),Wl(t,i,o)),o}function Ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pp(t,e){Vy(t,e),(t=t.alternate)&&Vy(t,e)}function RI(){return null}var cw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rp(t){this._internalRoot=t}gc.prototype.render=Rp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));mc(t,e,null,null)};gc.prototype.unmount=Rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){mc(null,t,null,null)}),e[pr]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=B0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&z0(t)}};function Op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function OI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ru(o);s.call(c)}}var o=uw(e,r,t,0,null,!1,!1,"",Uy);return t._reactRootContainer=o,t[pr]=o.current,fa(t.nodeType===8?t.parentNode:t),Ci(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ru(l);a.call(c)}}var l=Np(t,0,!1,null,null,!1,!1,"",Uy);return t._reactRootContainer=l,t[pr]=l.current,fa(t.nodeType===8?t.parentNode:t),Ci(function(){mc(e,l,n,r)}),l}function vc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ru(o);a.call(l)}}mc(e,o,t,i)}else o=OI(n,e,t,i,r);return Ru(o)}U0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Co(e.pendingLanes);n!==0&&(Xd(e,n|1),Xt(e,lt()),!(Ce&6)&&(Cs=lt()+500,ai()))}break;case 13:Ci(function(){var r=mr(t,1);if(r!==null){var i=qt();kn(r,t,1,i)}}),Pp(t,1)}};Jd=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=qt();kn(e,t,134217728,n)}Pp(t,134217728)}};F0=function(t){if(t.tag===13){var e=Gr(t),n=mr(t,e);if(n!==null){var r=qt();kn(n,t,e,r)}Pp(t,e)}};B0=function(){return Ve};q0=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};bh=function(t,e,n){switch(e){case"input":if(yh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lc(r);if(!i)throw Error(oe(90));_0(r),yh(r,i)}}}break;case"textarea":E0(t,n);break;case"select":e=n.value,e!=null&&ys(t,!!n.multiple,e,!1)}};k0=Ap;N0=Ci;var CI={usingClientEntryPoint:!1,Events:[Da,us,lc,I0,S0,Ap]},Ao={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{ic=Ol.inject(LI),qn=Ol}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(e))throw Error(oe(200));return PI(t,e,null,n)};ln.createRoot=function(t,e){if(!Op(t))throw Error(oe(299));var n=!1,r="",i=cw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Np(t,1,!1,null,null,n,!1,r,i),t[pr]=e.current,fa(t.nodeType===8?t.parentNode:t),new Rp(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=O0(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Ci(t)};ln.hydrate=function(t,e,n){if(!yc(e))throw Error(oe(200));return vc(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Op(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=cw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=uw(e,null,t,1,n??null,i,!1,s,o),t[pr]=e.current,fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gc(e)};ln.render=function(t,e,n){if(!yc(e))throw Error(oe(200));return vc(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!yc(t))throw Error(oe(40));return t._reactRootContainer?(Ci(function(){vc(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};ln.unstable_batchedUpdates=Ap;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yc(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return vc(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function fw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fw)}catch(t){console.error(t)}}fw(),f0.exports=ln;var hw=f0.exports,Fy=hw;ch.createRoot=Fy.createRoot,ch.hydrateRoot=Fy.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const By="popstate";function jI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ou(i)}return MI(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substr(2,8)}function qy(t,e){return{usr:t.state,key:t.key,idx:e}}function rd(t,e,n,r){return n===void 0&&(n=null),wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$s(e):e,{state:n,key:e&&e.key||r||DI()})}function Ou(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function MI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Fr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(wa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Fr.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:a,location:_.location,delta:g})}function f(x,g){a=Fr.Push;let m=rd(_.location,x,g);c=d()+1;let E=qy(m,c),y=_.createHref(m);try{o.pushState(E,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(y)}s&&l&&l({action:a,location:_.location,delta:1})}function p(x,g){a=Fr.Replace;let m=rd(_.location,x,g);c=d();let E=qy(m,c),y=_.createHref(m);o.replaceState(E,"",y),s&&l&&l({action:a,location:_.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof x=="string"?x:Ou(x);return m=m.replace(/ $/,"%20"),ht(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let _={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(By,h),l=x,()=>{i.removeEventListener(By,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return _}var zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zy||(zy={}));function VI(t,e,n){return n===void 0&&(n="/"),UI(t,e,n)}function UI(t,e,n,r){let i=typeof e=="string"?$s(e):e,s=Lp(i.pathname||"/",n);if(s==null)return null;let o=dw(t);FI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=JI(s);a=QI(o[l],c)}return a}function dw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Yr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dw(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KI(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of pw(s.path))i(s,o,l)}),e}function pw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BI=/^:[\w-]+$/,qI=3,zI=2,$I=1,HI=10,WI=-2,$y=t=>t==="*";function KI(t,e){let n=t.split("/"),r=n.length;return n.some($y)&&(r+=WI),e&&(r+=zI),n.filter(i=>!$y(i)).reduce((i,s)=>i+(BI.test(s)?qI:s===""?$I:HI),r)}function GI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function QI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=YI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Yr([s,h.pathname]),pathnameBase:rS(Yr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Yr([s,h.pathnameBase]))}return o}function YI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function XI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eS=t=>ZI.test(t);function tS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$s(t):t,s;if(n)if(eS(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Cp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Hy(n.substring(1),"/"):s=Hy(n,e)}else s=e;return{pathname:s,search:iS(r),hash:sS(i)}}function Hy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mw(t,e){let n=nS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$s(t):(i=wa({},t),ht(!i.pathname||!i.pathname.includes("?"),Hf("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Hf("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Hf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=tS(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Yr=t=>t.join("/").replace(/\/\/+/g,"/"),rS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yw=["post","put","patch","delete"];new Set(yw);const aS=["get",...yw];new Set(aS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}const jp=J.createContext(null),lS=J.createContext(null),Hi=J.createContext(null),_c=J.createContext(null),li=J.createContext({outlet:null,matches:[],isDataRoute:!1}),vw=J.createContext(null);function uS(t,e){let{relative:n}=e===void 0?{}:e;Va()||ht(!1);let{basename:r,navigator:i}=J.useContext(Hi),{hash:s,pathname:o,search:a}=ww(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Yr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Va(){return J.useContext(_c)!=null}function Ua(){return Va()||ht(!1),J.useContext(_c).location}function _w(t){J.useContext(Hi).static||J.useLayoutEffect(t)}function Yn(){let{isDataRoute:t}=J.useContext(li);return t?xS():cS()}function cS(){Va()||ht(!1);let t=J.useContext(jp),{basename:e,future:n,navigator:r}=J.useContext(Hi),{matches:i}=J.useContext(li),{pathname:s}=Ua(),o=JSON.stringify(mw(i,n.v7_relativeSplatPath)),a=J.useRef(!1);return _w(()=>{a.current=!0}),J.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=gw(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function Dp(){let{matches:t}=J.useContext(li),e=t[t.length-1];return e?e.params:{}}function ww(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(Hi),{matches:i}=J.useContext(li),{pathname:s}=Ua(),o=JSON.stringify(mw(i,r.v7_relativeSplatPath));return J.useMemo(()=>gw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function fS(t,e){return hS(t,e)}function hS(t,e,n,r){Va()||ht(!1);let{navigator:i}=J.useContext(Hi),{matches:s}=J.useContext(li),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ua(),d;if(e){var h;let x=typeof e=="string"?$s(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ht(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=VI(t,{pathname:p}),_=yS(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Yr([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Yr([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&_?J.createElement(_c.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fr.Pop}},_):_}function dS(){let t=ES(),e=oS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:i},n):null,null)}const pS=J.createElement(dS,null);class mS extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(li.Provider,{value:this.props.routeContext},J.createElement(vw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gS(t){let{routeContext:e,match:n,children:r}=t,i=J.useContext(jp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(li.Provider,{value:e},r)}function yS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ht(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,_=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||pS,l&&(c<0&&f===0?(TS("route-fallback"),v=!0,x=null):c===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let E;return p?E=_:v?E=x:h.route.Component?E=J.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,J.createElement(gS,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?J.createElement(mS,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Ew=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ew||{}),xw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xw||{});function vS(t){let e=J.useContext(jp);return e||ht(!1),e}function _S(t){let e=J.useContext(lS);return e||ht(!1),e}function wS(t){let e=J.useContext(li);return e||ht(!1),e}function Tw(t){let e=wS(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function ES(){var t;let e=J.useContext(vw),n=_S(),r=Tw();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xS(){let{router:t}=vS(Ew.UseNavigateStable),e=Tw(xw.UseNavigateStable),n=J.useRef(!1);return _w(()=>{n.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ea({fromRouteId:e},s)))},[t,e])}const Wy={};function TS(t,e,n){Wy[t]||(Wy[t]=!0)}function bS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Wt(t){ht(!1)}function AS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:s,static:o=!1,future:a}=t;Va()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:s,static:o,future:Ea({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=$s(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,_=J.useMemo(()=>{let x=Lp(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[l,d,h,f,p,v,i]);return _==null?null:J.createElement(Hi.Provider,{value:c},J.createElement(_c.Provider,{children:n,value:_}))}function IS(t){let{children:e,location:n}=t;return fS(id(e),n)}new Promise(()=>{});function id(t,e){e===void 0&&(e=[]);let n=[];return J.Children.forEach(t,(r,i)=>{if(!J.isValidElement(r))return;let s=[...e,i];if(r.type===J.Fragment){n.push.apply(n,id(r.props.children,s));return}r.type!==Wt&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=id(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function SS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NS(t,e){return t.button===0&&(!e||e==="_self")&&!kS(t)}function od(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function PS(t,e){let n=od(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const RS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OS="6";try{window.__reactRouterVersion=OS}catch{}const CS="startTransition",Ky=bb[CS];function LS(t){let{basename:e,children:n,future:r,window:i}=t,s=J.useRef();s.current==null&&(s.current=jI({window:i,v5Compat:!0}));let o=s.current,[a,l]=J.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=J.useCallback(h=>{c&&Ky?Ky(()=>l(h)):l(h)},[l,c]);return J.useLayoutEffect(()=>o.listen(d),[o,d]),J.useEffect(()=>bS(r),[r]),J.createElement(AS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=J.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=SS(e,RS),{basename:p}=J.useContext(Hi),v,_=!1;if(typeof c=="string"&&DS.test(c)&&(v=c,jS))try{let E=new URL(window.location.href),y=c.startsWith("//")?new URL(E.protocol+c):new URL(c),k=Lp(y.pathname,p);y.origin===E.origin&&k!=null?c=k+y.search+y.hash:_=!0}catch{}let x=uS(c,{relative:i}),g=MS(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function m(E){r&&r(E),E.defaultPrevented||g(E)}return J.createElement("a",sd({},f,{href:v||x,onClick:_||s?r:m,ref:n,target:l}))});var Gy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gy||(Gy={}));var Qy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qy||(Qy={}));function MS(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Yn(),c=Ua(),d=ww(t,{relative:o});return J.useCallback(h=>{if(NS(h,n)){h.preventDefault();let f=r!==void 0?r:Ou(c)===Ou(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function VS(t){let e=J.useRef(od(t)),n=J.useRef(!1),r=Ua(),i=J.useMemo(()=>PS(r.search,n.current?null:e.current),[r.search]),s=Yn(),o=J.useCallback((a,l)=>{const c=od(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var Yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},US=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):US(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new FS;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(t){const e=bw(t);return Aw.encodeByteArray(e,!0)},Cu=function(t){return BS(t).replace(/\./g,"")},Iw=function(t){try{return Aw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=()=>qS().__FIREBASE_DEFAULTS__,$S=()=>{if(typeof process>"u"||typeof Yy>"u")return;const t=Yy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Iw(t[1]);return e&&JSON.parse(e)},wc=()=>{try{return zS()||$S()||HS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sw=t=>{var e,n;return(n=(e=wc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kw=t=>{const e=Sw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nw=()=>{var t;return(t=wc())===null||t===void 0?void 0:t.config},Pw=t=>{var e;return(e=wc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function GS(){var t;const e=(t=wc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZS(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ek(){try{return typeof indexedDB=="object"}catch{return!1}}function tk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nk,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xn(i,a,r)}}function rk(t,e){return t.replace(ik,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ik=/\{\$([^}]+)}/g;function sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Xy(s)&&Xy(o)){if(!Lu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Do(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ok(t,e){const n=new ak(t,e);return n.subscribe.bind(n)}class ak{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wf),i.error===void 0&&(i.error=Wf),i.complete===void 0&&(i.complete=Wf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fk(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ck(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ck(t){return t===vi?void 0:t}function fk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const dk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},pk=ke.INFO,mk={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},gk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=pk,this._logHandler=gk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const yk=(t,e)=>e.some(n=>t instanceof n);let Jy,Zy;function vk(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _k(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ow=new WeakMap,ad=new WeakMap,Cw=new WeakMap,Kf=new WeakMap,Vp=new WeakMap;function wk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ow.set(n,t)}).catch(()=>{}),Vp.set(e,t),e}function Ek(t){if(ad.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ad.set(t,e)}let ld={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xk(t){ld=t(ld)}function Tk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gf(this),e,...n);return Cw.set(r,e.sort?e.sort():[e]),Xr(r)}:_k().includes(t)?function(...e){return t.apply(Gf(this),e),Xr(Ow.get(this))}:function(...e){return Xr(t.apply(Gf(this),e))}}function bk(t){return typeof t=="function"?Tk(t):(t instanceof IDBTransaction&&Ek(t),yk(t,vk())?new Proxy(t,ld):t)}function Xr(t){if(t instanceof IDBRequest)return wk(t);if(Kf.has(t))return Kf.get(t);const e=bk(t);return e!==t&&(Kf.set(t,e),Vp.set(e,t)),e}const Gf=t=>Vp.get(t);function Ak(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Xr(o.result),l.oldVersion,l.newVersion,Xr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Ik=["get","getKey","getAll","getAllKeys","count"],Sk=["put","add","delete","clear"],Qf=new Map;function ev(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ik.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Qf.set(e,s),s}xk(t=>({...t,get:(e,n,r)=>ev(e,n)||t.get(e,n,r),has:(e,n)=>!!ev(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Nk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ud="@firebase/app",tv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Mp("@firebase/app"),Pk="@firebase/app-compat",Rk="@firebase/analytics-compat",Ok="@firebase/analytics",Ck="@firebase/app-check-compat",Lk="@firebase/app-check",jk="@firebase/auth",Dk="@firebase/auth-compat",Mk="@firebase/database",Vk="@firebase/data-connect",Uk="@firebase/database-compat",Fk="@firebase/functions",Bk="@firebase/functions-compat",qk="@firebase/installations",zk="@firebase/installations-compat",$k="@firebase/messaging",Hk="@firebase/messaging-compat",Wk="@firebase/performance",Kk="@firebase/performance-compat",Gk="@firebase/remote-config",Qk="@firebase/remote-config-compat",Yk="@firebase/storage",Xk="@firebase/storage-compat",Jk="@firebase/firestore",Zk="@firebase/vertexai-preview",e2="@firebase/firestore-compat",t2="firebase",n2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",r2={[ud]:"fire-core",[Pk]:"fire-core-compat",[Ok]:"fire-analytics",[Rk]:"fire-analytics-compat",[Lk]:"fire-app-check",[Ck]:"fire-app-check-compat",[jk]:"fire-auth",[Dk]:"fire-auth-compat",[Mk]:"fire-rtdb",[Vk]:"fire-data-connect",[Uk]:"fire-rtdb-compat",[Fk]:"fire-fn",[Bk]:"fire-fn-compat",[qk]:"fire-iid",[zk]:"fire-iid-compat",[$k]:"fire-fcm",[Hk]:"fire-fcm-compat",[Wk]:"fire-perf",[Kk]:"fire-perf-compat",[Gk]:"fire-rc",[Qk]:"fire-rc-compat",[Yk]:"fire-gcs",[Xk]:"fire-gcs-compat",[Jk]:"fire-fst",[e2]:"fire-fst-compat",[Zk]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,i2=new Map,fd=new Map;function nv(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Li(t){const e=t.name;if(fd.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,t);for(const n of ju.values())nv(n,t);for(const n of i2.values())nv(n,t);return!0}function Ec(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function An(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Fa("app","Firebase",s2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=n2;function Lw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=Nw()),!n)throw Jr.create("no-options");const s=ju.get(i);if(s){if(Lu(n,s.options)&&Lu(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new hk(i);for(const l of fd.values())o.addComponent(l);const a=new o2(n,r,o);return ju.set(i,a),a}function Up(t=cd){const e=ju.get(t);if(!e&&t===cd&&Nw())return Lw();if(!e)throw Jr.create("no-app",{appName:t});return e}function $n(t,e,n){var r;let i=(r=r2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}Li(new ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",l2=1,xa="firebase-heartbeat-store";let Yf=null;function jw(){return Yf||(Yf=Ak(a2,l2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function u2(t){try{const n=(await jw()).transaction(xa),r=await n.objectStore(xa).get(Dw(t));return await n.done,r}catch(e){if(e instanceof Xn)yr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function rv(t,e){try{const r=(await jw()).transaction(xa,"readwrite");await r.objectStore(xa).put(e,Dw(t)),await r.done}catch(n){if(n instanceof Xn)yr.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(r.message)}}}function Dw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1024,f2=30*24*60*60*1e3;class h2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=f2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iv(),{heartbeatsToSend:r,unsentEntries:i}=d2(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yr.warn(n),""}}}function iv(){return new Date().toISOString().substring(0,10)}function d2(t,e=c2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ek()?tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sv(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){Li(new ti("platform-logger",e=>new kk(e),"PRIVATE")),Li(new ti("heartbeat",e=>new h2(e),"PRIVATE")),$n(ud,tv,t),$n(ud,tv,"esm2017"),$n("fire-js","")}m2("");function Fp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=Mw,Vw=new Fa("auth","Firebase",Mw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Mp("@firebase/auth");function y2(t,...e){Du.logLevel<=ke.WARN&&Du.warn(`Auth (${Wi}): ${t}`,...e)}function Zl(t,...e){Du.logLevel<=ke.ERROR&&Du.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw qp(t,...e)}function Nn(t,...e){return qp(t,...e)}function Bp(t,e,n){const r=Object.assign(Object.assign({},g2()),{[e]:n});return new Fa("auth","Firebase",r).create(e,{appName:t.name})}function ur(t){return Bp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yn(t,"argument-error"),Bp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vw.create(t,...e)}function ge(t,e,...n){if(!t)throw qp(e,...n)}function sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zl(e),new Error(e)}function vr(t,e){t||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _2(){return ov()==="http:"||ov()==="https:"}function ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||YS()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.shortDelay=e,this.longDelay=n,vr(n>e,"Short delay should be less than long delay!"),this.isMobile=KS()||XS()}get(){return w2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e){vr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new qa(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xr(t,e,n,r,i={}){return Fw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ba(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return QS()||(c.referrerPolicy="no-referrer"),Uw.fetch()(Bw(t,t.config.apiHost,n,a),c)})}async function Fw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x2),e);try{const i=new A2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cl(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Bp(t,d,c);yn(t,d)}}catch(i){if(i instanceof Xn)throw i;yn(t,"network-request-failed",{message:String(i)})}}async function za(t,e,n,r,i={}){const s=await xr(t,e,n,r,i);return"mfaPendingCredential"in s&&yn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Bw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zp(t.config,i):`${t.config.apiScheme}://${i}`}function b2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),T2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Nn(t,e,r);return i.customData._tokenResponse=n,i}function av(t){return t!==void 0&&t.enterprise!==void 0}class I2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function S2(t,e){return xr(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(t,e){return xr(t,"POST","/v1/accounts:delete",e)}async function qw(t,e){return xr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N2(t,e=!1){const n=pt(t),r=await n.getIdToken(e),i=$p(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yo(Xf(i.auth_time)),issuedAtTime:Yo(Xf(i.iat)),expirationTime:Yo(Xf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xf(t){return Number(t)*1e3}function $p(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Iw(n);return i?JSON.parse(i):(Zl("Failed to decode base64 JWT payload"),null)}catch(i){return Zl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lv(t){const e=$p(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&P2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ls(t,qw(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zw(s.providerUserInfo):[],a=C2(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function O2(t){const e=pt(t);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zw(t){return t.map(e=>{var{providerId:n}=e,r=Fp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(t,e){const n=await Fw(t,{},async()=>{const r=Ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Bw(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Uw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j2(t,e){return xr(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=lv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await L2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ts;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N2(this,e)}reload(){return O2(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await Ls(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:y,isAnonymous:k,providerData:C,stsTokenManager:S}=n;ge(E&&S,e,"internal-error");const w=Ts.fromJSON(this.name,S);ge(typeof E=="string",e,"internal-error"),Nr(h,e.name),Nr(f,e.name),ge(typeof y=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Nr(p,e.name),Nr(v,e.name),Nr(_,e.name),Nr(x,e.name),Nr(g,e.name),Nr(m,e.name);const R=new or({uid:E,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:k,photoURL:v,phoneNumber:p,tenantId:_,stsTokenManager:w,createdAt:g,lastLoginAt:m});return C&&Array.isArray(C)&&(R.providerData=C.map(b=>Object.assign({},b))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ts;i.updateFromServerResponse(n);const s=new or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zw(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ts;a.updateFromIdToken(r);const l=new or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;function ar(t){vr(t instanceof Function,"Expected a class definition");let e=uv.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$w.type="NONE";const cv=$w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,e,n){return`firebase:${t}:${e}:${n}`}class bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eu(this.userKey,i.apiKey,s),this.fullPersistenceKey=eu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bs(ar(cv),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ar(cv);const o=eu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=or._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new bs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yw(e))return"Blackberry";if(Xw(e))return"Webos";if(Ww(e))return"Safari";if((e.includes("chrome/")||Kw(e))&&!e.includes("edge/"))return"Chrome";if(Qw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hw(t=Vt()){return/firefox\//i.test(t)}function Ww(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kw(t=Vt()){return/crios\//i.test(t)}function Gw(t=Vt()){return/iemobile/i.test(t)}function Qw(t=Vt()){return/android/i.test(t)}function Yw(t=Vt()){return/blackberry/i.test(t)}function Xw(t=Vt()){return/webos/i.test(t)}function Hp(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D2(t=Vt()){var e;return Hp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M2(){return JS()&&document.documentMode===10}function Jw(t=Vt()){return Hp(t)||Qw(t)||Xw(t)||Yw(t)||/windows phone/i.test(t)||Gw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e=[]){let n;switch(t){case"Browser":n=fv(Vt());break;case"Worker":n=`${fv(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e={}){return xr(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=6;class B2{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qw(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(ur(this));const n=e?pt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U2(this),n=new B2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ci(t){return pt(t)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ok(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(t){xc=t}function eE(t){return xc.loadJS(t)}function $2(){return xc.recaptchaEnterpriseScript}function H2(){return xc.gapiScript}function W2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const K2="recaptcha-enterprise",G2="NO_RECAPTCHA";class Q2{constructor(e){this.type=K2,this.auth=ci(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{S2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new I2(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;av(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(G2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&av(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$2();l.length!==0&&(l+=a),eE(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function dv(t,e,n,r=!1){const i=new Q2(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dv(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await dv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e){const n=Ec(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lu(s,e??{}))return i;yn(i,"already-initialized")}return n.initialize({options:e})}function X2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J2(t,e,n){const r=ci(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tE(e),{host:o,port:a}=Z2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eN()}function tE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z2(t){const e=tE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pv(o)}}}function pv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function tN(t,e){return xr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){return za(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e){return za(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function iN(t,e){return za(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Wp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ta(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ta(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(e,n,"signInWithPassword",nN);case"emailLink":return rN(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pd(e,r,"signUpPassword",tN);case"emailLink":return iN(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return za(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="http://localhost";class ji extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Fp(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ji(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ba(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aN(t){const e=jo(Do(t)).link,n=e?jo(Do(e)).deep_link_id:null,r=jo(Do(t)).deep_link_id;return(r?jo(Do(r)).link:null)||r||n||e||t}class Kp{constructor(e){var n,r,i,s,o,a;const l=jo(Do(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=oN((i=l.mode)!==null&&i!==void 0?i:null);ge(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aN(e);try{return new Kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kp.parseLink(n);return ge(r,"argument-error"),Ta._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends $a{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends $a{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends $a{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends $a{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){return za(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await or._fromIdTokenResponse(e,r,i),o=mv(r);return new Di({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mv(r);return new Di({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vu(e,n,r,i)}}function nE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vu._fromErrorAndOperation(t,s,e,r):s})}async function uN(t,e,n=!1){const r=await Ls(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e,n=!1){const{auth:r}=t;if(An(r.app))return Promise.reject(ur(r));const i="reauthenticate";try{const s=await Ls(t,nE(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=$p(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Di._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(t,e,n=!1){if(An(t.app))return Promise.reject(ur(t));const r="signIn",i=await nE(t,r,e),s=await Di._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function fN(t,e){return rE(ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(t){const e=ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hN(t,e,n){if(An(t.app))return Promise.reject(ur(t));const r=ci(t),o=await pd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iE(t),l}),a=await Di._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function dN(t,e,n){return An(t.app)?Promise.reject(ur(t)):fN(pt(t),Hs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){return xr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=pt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ls(r,pN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function gN(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function yN(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function vN(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function _N(t){return pt(t).signOut()}const Uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=1e3,EN=10;class oE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);M2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const xN=oE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aE.type="SESSION";const lE=aE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await TN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Qp("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function AN(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function IN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kN(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebaseLocalStorageDb",NN=1,Fu="firebaseLocalStorage",fE="fbase_key";class Ha{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bc(t,e){return t.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function PN(){const t=indexedDB.deleteDatabase(cE);return new Ha(t).toPromise()}function md(){const t=indexedDB.open(cE,NN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fu,{keyPath:fE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fu)?e(r):(r.close(),await PN(),e(await md()))})})}async function gv(t,e,n){const r=bc(t,!0).put({[fE]:e,value:n});return new Ha(r).toPromise()}async function RN(t,e){const n=bc(t,!1).get(e),r=await new Ha(n).toPromise();return r===void 0?null:r.value}function yv(t,e){const n=bc(t,!0).delete(e);return new Ha(n).toPromise()}const ON=800,CN=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await md(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tc._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IN(),!this.activeServiceWorker)return;this.sender=new bN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await md();return await gv(e,Uu,"1"),await yv(e,Uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bc(i,!1).getAll();return new Ha(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const LN=hE;new qa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){return e?ar(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jN(t){return rE(t.auth,new Yp(t),t.bypassAuthState)}function DN(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),cN(n,new Yp(t),t.bypassAuthState)}async function MN(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),uN(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:yn(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new qa(2e3,1e4);async function UN(t,e,n){if(An(t.app))return Promise.reject(Nn(t,"operation-not-supported-in-this-environment"));const r=ci(t);v2(t,e,Gp);const i=dE(r,n);return new Ti(r,"signInViaPopup",e,i).executeNotNull()}class Ti extends pE{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VN.get())};e()}}Ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="pendingRedirect",tu=new Map;class BN extends pE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tu.get(this.auth._key());if(!e){try{const r=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tu.set(this.auth._key(),e)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(t,e){const n=HN(e),r=$N(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zN(t,e){tu.set(t._key(),e)}function $N(t){return ar(t._redirectPersistence)}function HN(t){return eu(FN,t.config.apiKey,t.name)}async function WN(t,e,n=!1){if(An(t.app))return Promise.reject(ur(t));const r=ci(t),i=dE(r,e),o=await new BN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=10*60*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mE(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KN&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(e))}saveEventToCache(e){this.cachedEventUids.add(vv(e)),this.lastProcessedEventTime=Date.now()}}function vv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e={}){return xr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JN=/^https?/;async function ZN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YN(t);for(const n of e)try{if(eP(n))return}catch{}yn(t,"unauthorized-domain")}function eP(t){const e=hd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JN.test(n))return!1;if(XN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new qa(3e4,6e4);function _v(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nP(t){return new Promise((e,n)=>{var r,i,s;function o(){_v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_v(),n(Nn(t,"network-request-failed"))},timeout:tP.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const a=W2("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},eE(`${H2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nu=null,e})}let nu=null;function rP(t){return nu=nu||nP(t),nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new qa(5e3,15e3),sP="__/auth/iframe",oP="emulator/auth/iframe",aP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uP(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zp(e,oP):`https://${t.config.authDomain}/${sP}`,r={apiKey:e.apiKey,appName:t.name,v:Wi},i=lP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ba(r).slice(1)}`}async function cP(t){const e=await rP(t),n=Hn().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:uP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},iP.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hP=500,dP=600,pP="_blank",mP="http://localhost";class wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gP(t,e,n,r=hP,i=dP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fP),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Vt().toLowerCase();n&&(a=Kw(c)?pP:n),Hw(c)&&(e=e||mP,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(D2(c)&&a!=="_self")return yP(e||"",a),new wv(null);const h=window.open(e||"",a,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new wv(h)}function yP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="__/auth/handler",_P="emulator/auth/handler",wP=encodeURIComponent("fac");async function Ev(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wi,eventId:i};if(e instanceof Gp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof $a){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${wP}=${encodeURIComponent(l)}`:"";return`${EP(t)}?${Ba(a).slice(1)}${c}`}function EP({config:t}){return t.emulator?zp(t,_P):`https://${t.authDomain}/${vP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="webStorageSupport";class xP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=WN,this._overrideRedirectResult=zN}async _openPopup(e,n,r,i){var s;vr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ev(e,n,r,hd(),i);return gP(e,o,Qp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ev(e,n,r,hd(),i);return AN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cP(e),r=new GN(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jf,{type:Jf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jf];o!==void 0&&n(!!o),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jw()||Ww()||Hp()}}const TP=xP;var xv="@firebase/auth",Tv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IP(t){Li(new ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zw(t)},c=new q2(r,i,s,l);return X2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Li(new ti("auth-internal",e=>{const n=ci(e.getProvider("auth").getImmediate());return(r=>new bP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(xv,Tv,AP(t)),$n(xv,Tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=5*60,kP=Pw("authIdTokenMaxAge")||SP;let bv=null;const NP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kP)return;const i=n==null?void 0:n.token;bv!==i&&(bv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PP(t=Up()){const e=Ec(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y2(t,{popupRedirectResolver:TP,persistence:[LN,xN,lE]}),r=Pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=NP(s.toString());yN(n,o,()=>o(n.currentUser)),gN(n,a=>o(a))}}const i=Sw("auth");return i&&J2(n,`http://${i}`),n}function RP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Nn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IP("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,gE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.D=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(b,A,P){for(var N=Array(arguments.length-2),j=2;j<arguments.length;j++)N[j-2]=arguments[j];return w.prototype[A].apply(b,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,w,R){R||(R=0);var b=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)b[A]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(A=0;16>A;++A)b[A]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],A=S.g[2];var P=S.g[3],N=w+(P^R&(A^P))+b[0]+3614090360&4294967295;w=R+(N<<7&4294967295|N>>>25),N=P+(A^w&(R^A))+b[1]+3905402710&4294967295,P=w+(N<<12&4294967295|N>>>20),N=A+(R^P&(w^R))+b[2]+606105819&4294967295,A=P+(N<<17&4294967295|N>>>15),N=R+(w^A&(P^w))+b[3]+3250441966&4294967295,R=A+(N<<22&4294967295|N>>>10),N=w+(P^R&(A^P))+b[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=P+(A^w&(R^A))+b[5]+1200080426&4294967295,P=w+(N<<12&4294967295|N>>>20),N=A+(R^P&(w^R))+b[6]+2821735955&4294967295,A=P+(N<<17&4294967295|N>>>15),N=R+(w^A&(P^w))+b[7]+4249261313&4294967295,R=A+(N<<22&4294967295|N>>>10),N=w+(P^R&(A^P))+b[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=P+(A^w&(R^A))+b[9]+2336552879&4294967295,P=w+(N<<12&4294967295|N>>>20),N=A+(R^P&(w^R))+b[10]+4294925233&4294967295,A=P+(N<<17&4294967295|N>>>15),N=R+(w^A&(P^w))+b[11]+2304563134&4294967295,R=A+(N<<22&4294967295|N>>>10),N=w+(P^R&(A^P))+b[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=P+(A^w&(R^A))+b[13]+4254626195&4294967295,P=w+(N<<12&4294967295|N>>>20),N=A+(R^P&(w^R))+b[14]+2792965006&4294967295,A=P+(N<<17&4294967295|N>>>15),N=R+(w^A&(P^w))+b[15]+1236535329&4294967295,R=A+(N<<22&4294967295|N>>>10),N=w+(A^P&(R^A))+b[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=P+(R^A&(w^R))+b[6]+3225465664&4294967295,P=w+(N<<9&4294967295|N>>>23),N=A+(w^R&(P^w))+b[11]+643717713&4294967295,A=P+(N<<14&4294967295|N>>>18),N=R+(P^w&(A^P))+b[0]+3921069994&4294967295,R=A+(N<<20&4294967295|N>>>12),N=w+(A^P&(R^A))+b[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=P+(R^A&(w^R))+b[10]+38016083&4294967295,P=w+(N<<9&4294967295|N>>>23),N=A+(w^R&(P^w))+b[15]+3634488961&4294967295,A=P+(N<<14&4294967295|N>>>18),N=R+(P^w&(A^P))+b[4]+3889429448&4294967295,R=A+(N<<20&4294967295|N>>>12),N=w+(A^P&(R^A))+b[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=P+(R^A&(w^R))+b[14]+3275163606&4294967295,P=w+(N<<9&4294967295|N>>>23),N=A+(w^R&(P^w))+b[3]+4107603335&4294967295,A=P+(N<<14&4294967295|N>>>18),N=R+(P^w&(A^P))+b[8]+1163531501&4294967295,R=A+(N<<20&4294967295|N>>>12),N=w+(A^P&(R^A))+b[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=P+(R^A&(w^R))+b[2]+4243563512&4294967295,P=w+(N<<9&4294967295|N>>>23),N=A+(w^R&(P^w))+b[7]+1735328473&4294967295,A=P+(N<<14&4294967295|N>>>18),N=R+(P^w&(A^P))+b[12]+2368359562&4294967295,R=A+(N<<20&4294967295|N>>>12),N=w+(R^A^P)+b[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=P+(w^R^A)+b[8]+2272392833&4294967295,P=w+(N<<11&4294967295|N>>>21),N=A+(P^w^R)+b[11]+1839030562&4294967295,A=P+(N<<16&4294967295|N>>>16),N=R+(A^P^w)+b[14]+4259657740&4294967295,R=A+(N<<23&4294967295|N>>>9),N=w+(R^A^P)+b[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=P+(w^R^A)+b[4]+1272893353&4294967295,P=w+(N<<11&4294967295|N>>>21),N=A+(P^w^R)+b[7]+4139469664&4294967295,A=P+(N<<16&4294967295|N>>>16),N=R+(A^P^w)+b[10]+3200236656&4294967295,R=A+(N<<23&4294967295|N>>>9),N=w+(R^A^P)+b[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=P+(w^R^A)+b[0]+3936430074&4294967295,P=w+(N<<11&4294967295|N>>>21),N=A+(P^w^R)+b[3]+3572445317&4294967295,A=P+(N<<16&4294967295|N>>>16),N=R+(A^P^w)+b[6]+76029189&4294967295,R=A+(N<<23&4294967295|N>>>9),N=w+(R^A^P)+b[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=P+(w^R^A)+b[12]+3873151461&4294967295,P=w+(N<<11&4294967295|N>>>21),N=A+(P^w^R)+b[15]+530742520&4294967295,A=P+(N<<16&4294967295|N>>>16),N=R+(A^P^w)+b[2]+3299628645&4294967295,R=A+(N<<23&4294967295|N>>>9),N=w+(A^(R|~P))+b[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=P+(R^(w|~A))+b[7]+1126891415&4294967295,P=w+(N<<10&4294967295|N>>>22),N=A+(w^(P|~R))+b[14]+2878612391&4294967295,A=P+(N<<15&4294967295|N>>>17),N=R+(P^(A|~w))+b[5]+4237533241&4294967295,R=A+(N<<21&4294967295|N>>>11),N=w+(A^(R|~P))+b[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=P+(R^(w|~A))+b[3]+2399980690&4294967295,P=w+(N<<10&4294967295|N>>>22),N=A+(w^(P|~R))+b[10]+4293915773&4294967295,A=P+(N<<15&4294967295|N>>>17),N=R+(P^(A|~w))+b[1]+2240044497&4294967295,R=A+(N<<21&4294967295|N>>>11),N=w+(A^(R|~P))+b[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=P+(R^(w|~A))+b[15]+4264355552&4294967295,P=w+(N<<10&4294967295|N>>>22),N=A+(w^(P|~R))+b[6]+2734768916&4294967295,A=P+(N<<15&4294967295|N>>>17),N=R+(P^(A|~w))+b[13]+1309151649&4294967295,R=A+(N<<21&4294967295|N>>>11),N=w+(A^(R|~P))+b[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=P+(R^(w|~A))+b[11]+3174756917&4294967295,P=w+(N<<10&4294967295|N>>>22),N=A+(w^(P|~R))+b[2]+718787259&4294967295,A=P+(N<<15&4294967295|N>>>17),N=R+(P^(A|~w))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(A+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var R=w-this.blockSize,b=this.B,A=this.h,P=0;P<w;){if(A==0)for(;P<=R;)i(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<w;)if(b[A++]=S.charCodeAt(P++),A==this.blockSize){i(this,b),A=0;break}}else for(;P<w;)if(b[A++]=S[P++],A==this.blockSize){i(this,b),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var R=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=R&255,R/=256;for(this.u(S),S=Array(16),w=R=0;4>w;++w)for(var b=0;32>b;b+=8)S[R++]=this.g[w]>>>b&255;return S};function s(S,w){var R=a;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function o(S,w){this.h=w;for(var R=[],b=!0,A=S.length-1;0<=A;A--){var P=S[A]|0;b&&P==w||(R[A]=P,b=!1)}this.g=R}var a={};function l(S){return-128<=S&&128>S?s(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return x(c(-S));for(var w=[],R=1,b=0;S>=R;b++)w[b]=S/R|0,R*=4294967296;return new o(w,0)}function d(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return x(d(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(w,8)),b=h,A=0;A<S.length;A+=8){var P=Math.min(8,S.length-A),N=parseInt(S.substring(A,A+P),w);8>P?(P=c(Math.pow(w,P)),b=b.j(P).add(c(N))):(b=b.j(R),b=b.add(c(N)))}return b}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var S=0,w=1,R=0;R<this.g.length;R++){var b=this.i(R);S+=(0<=b?b:4294967296+b)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(_(this))return"-"+x(this).toString(S);for(var w=c(Math.pow(S,6)),R=this,b="";;){var A=y(R,w).g;R=g(R,A.j(w));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=A,v(R))return P+b;for(;6>P.length;)P="0"+P;b=P+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=g(this,S),_(S)?-1:v(S)?0:1};function x(S){for(var w=S.g.length,R=[],b=0;b<w;b++)R[b]=~S.g[b];return new o(R,~S.h).add(f)}t.abs=function(){return _(this)?x(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],b=0,A=0;A<=w;A++){var P=b+(this.i(A)&65535)+(S.i(A)&65535),N=(P>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);b=N>>>16,P&=65535,N&=65535,R[A]=N<<16|P}return new o(R,R[R.length-1]&-2147483648?-1:0)};function g(S,w){return S.add(x(w))}t.j=function(S){if(v(this)||v(S))return h;if(_(this))return _(S)?x(this).j(x(S)):x(x(this).j(S));if(_(S))return x(this.j(x(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var w=this.g.length+S.g.length,R=[],b=0;b<2*w;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var A=0;A<S.g.length;A++){var P=this.i(b)>>>16,N=this.i(b)&65535,j=S.i(A)>>>16,F=S.i(A)&65535;R[2*b+2*A]+=N*F,m(R,2*b+2*A),R[2*b+2*A+1]+=P*F,m(R,2*b+2*A+1),R[2*b+2*A+1]+=N*j,m(R,2*b+2*A+1),R[2*b+2*A+2]+=P*j,m(R,2*b+2*A+2)}for(b=0;b<w;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=w;b<2*w;b++)R[b]=0;return new o(R,0)};function m(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function E(S,w){this.g=S,this.h=w}function y(S,w){if(v(w))throw Error("division by zero");if(v(S))return new E(h,h);if(_(S))return w=y(x(S),w),new E(x(w.g),x(w.h));if(_(w))return w=y(S,x(w)),new E(x(w.g),w.h);if(30<S.g.length){if(_(S)||_(w))throw Error("slowDivide_ only works with positive integers.");for(var R=f,b=w;0>=b.l(S);)R=k(R),b=k(b);var A=C(R,1),P=C(b,1);for(b=C(b,2),R=C(R,2);!v(b);){var N=P.add(b);0>=N.l(S)&&(A=A.add(R),P=N),b=C(b,1),R=C(R,1)}return w=g(S,A.j(w)),new E(A,w)}for(A=h;0<=S.l(w);){for(R=Math.max(1,Math.floor(S.m()/w.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),P=c(R),N=P.j(w);_(N)||0<N.l(S);)R-=b,P=c(R),N=P.j(w);v(P)&&(P=f),A=A.add(P),S=g(S,N)}return new E(A,S)}t.A=function(S){return y(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],b=0;b<w;b++)R[b]=this.i(b)&S.i(b);return new o(R,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],b=0;b<w;b++)R[b]=this.i(b)|S.i(b);return new o(R,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),R=[],b=0;b<w;b++)R[b]=this.i(b)^S.i(b);return new o(R,this.h^S.h)};function k(S){for(var w=S.g.length+1,R=[],b=0;b<w;b++)R[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(R,S.h)}function C(S,w){var R=w>>5;w%=32;for(var b=S.g.length-R,A=[],P=0;P<b;P++)A[P]=0<w?S.i(P+R)>>>w|S.i(P+R+1)<<32-w:S.i(P+R);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Si=o}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yE,Mo,vE,ru,gd,_E,wE,EE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,I,O){return u==Array.prototype||u==Object.prototype||(u[I]=O.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var I=0;I<u.length;++I){var O=u[I];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(u,I){if(I)e:{var O=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var Q=u[D];if(!(Q in O))break e;O=O[Q]}u=u[u.length-1],D=O[u],I=I(D),I!=D&&I!=null&&e(O,u,{configurable:!0,writable:!0,value:I})}}function s(u,I){u instanceof String&&(u+="");var O=0,D=!1,Q={next:function(){if(!D&&O<u.length){var Z=O++;return{value:I(Z,u[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(I,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var I=typeof u;return I=I!="object"?I:u?Array.isArray(u)?"array":I:"null",I=="array"||I=="object"&&typeof u.length=="number"}function c(u){var I=typeof u;return I=="object"&&u!=null||I=="function"}function d(u,I,O){return u.call.apply(u.bind,arguments)}function h(u,I,O){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),u.apply(I,Q)}}return function(){return u.apply(I,arguments)}}function f(u,I,O){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,I){var O=Array.prototype.slice.call(arguments,1);return function(){var D=O.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function v(u,I){function O(){}O.prototype=I.prototype,u.aa=I.prototype,u.prototype=new O,u.prototype.constructor=u,u.Qb=function(D,Q,Z){for(var ae=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ae[Be-2]=arguments[Be];return I.prototype[Q].apply(D,ae)}}function _(u){const I=u.length;if(0<I){const O=Array(I);for(let D=0;D<I;D++)O[D]=u[D];return O}return[]}function x(u,I){for(let O=1;O<arguments.length;O++){const D=arguments[O];if(l(D)){const Q=u.length||0,Z=D.length||0;u.length=Q+Z;for(let ae=0;ae<Z;ae++)u[Q+ae]=D[ae]}else u.push(D)}}class g{constructor(I,O){this.i=I,this.j=O,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function m(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function y(u){return y[" "](u),u}y[" "]=function(){};var k=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(u,I,O){for(const D in u)I.call(O,u[D],D,u)}function S(u,I){for(const O in u)I.call(void 0,u[O],O,u)}function w(u){const I={};for(const O in u)I[O]=u[O];return I}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,I){let O,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(O in D)u[O]=D[O];for(let Z=0;Z<R.length;Z++)O=R[Z],Object.prototype.hasOwnProperty.call(D,O)&&(u[O]=D[O])}}function A(u){var I=1;u=u.split(":");const O=[];for(;0<I&&u.length;)O.push(u.shift()),I--;return u.length&&O.push(u.join(":")),O}function P(u){a.setTimeout(()=>{throw u},0)}function N(){var u=q;let I=null;return u.g&&(I=u.g,u.g=u.g.next,u.g||(u.h=null),I.next=null),I}class j{constructor(){this.h=this.g=null}add(I,O){const D=F.get();D.set(I,O),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new g(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(I,O){this.h=I,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let K,W=!1,q=new j,U=()=>{const u=a.Promise.resolve(void 0);K=()=>{u.then(L)}};var L=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(O){P(O)}var I=F;I.j(u),100>I.h&&(I.h++,u.next=I.g,I.g=u)}W=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,I){this.type=u,this.g=this.target=I,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,I=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const O=()=>{};a.addEventListener("test",O,I),a.removeEventListener("test",O,I)}catch{}return u}();function H(u,I){if(B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var O=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=I,I=u.relatedTarget){if(k){e:{try{y(I.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(I=null)}}else O=="mouseover"?I=u.fromElement:O=="mouseout"&&(I=u.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:V[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&H.aa.h.call(this)}}v(H,B);var V={2:"touch",3:"pen",4:"mouse"};H.prototype.h=function(){H.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(u,I,O,D,Q){this.listener=u,this.proxy=null,this.src=I,this.type=O,this.capture=!!D,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,I,O,D,Q){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ae=ye(u,I,D,Q);return-1<ae?(I=u[ae],O||(I.fa=!1)):(I=new X(I,this.src,Z,!!D,Q),I.fa=O,u.push(I)),I};function me(u,I){var O=I.type;if(O in u.g){var D=u.g[O],Q=Array.prototype.indexOf.call(D,I,void 0),Z;(Z=0<=Q)&&Array.prototype.splice.call(D,Q,1),Z&&(re(I),u.g[O].length==0&&(delete u.g[O],u.h--))}}function ye(u,I,O,D){for(var Q=0;Q<u.length;++Q){var Z=u[Q];if(!Z.da&&Z.listener==I&&Z.capture==!!O&&Z.ha==D)return Q}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Oe={};function xt(u,I,O,D,Q){if(Array.isArray(I)){for(var Z=0;Z<I.length;Z++)xt(u,I[Z],O,D,Q);return null}return O=Te(O),u&&u[z]?u.K(I,O,c(D)?!!D.capture:!1,Q):ot(u,I,O,!1,D,Q)}function ot(u,I,O,D,Q,Z){if(!I)throw Error("Invalid event type");var ae=c(Q)?!!Q.capture:!!Q,Be=Ee(u);if(Be||(u[be]=Be=new ce(u)),O=Be.add(I,O,D,ae,Z),O.proxy)return O;if(D=ee(),O.proxy=D,D.src=u,D.listener=O,u.addEventListener)G||(Q=ae),Q===void 0&&(Q=!1),u.addEventListener(I.toString(),D,Q);else if(u.attachEvent)u.attachEvent(ue(I.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ee(){function u(O){return I.call(u.src,u.listener,O)}const I=ie;return u}function te(u,I,O,D,Q){if(Array.isArray(I))for(var Z=0;Z<I.length;Z++)te(u,I[Z],O,D,Q);else D=c(D)?!!D.capture:!!D,O=Te(O),u&&u[z]?(u=u.i,I=String(I).toString(),I in u.g&&(Z=u.g[I],O=ye(Z,O,D,Q),-1<O&&(re(Z[O]),Array.prototype.splice.call(Z,O,1),Z.length==0&&(delete u.g[I],u.h--)))):u&&(u=Ee(u))&&(I=u.g[I.toString()],u=-1,I&&(u=ye(I,O,D,Q)),(O=-1<u?I[u]:null)&&le(O))}function le(u){if(typeof u!="number"&&u&&!u.da){var I=u.src;if(I&&I[z])me(I.i,u);else{var O=u.type,D=u.proxy;I.removeEventListener?I.removeEventListener(O,D,u.capture):I.detachEvent?I.detachEvent(ue(O),D):I.addListener&&I.removeListener&&I.removeListener(D),(O=Ee(I))?(me(O,u),O.h==0&&(O.src=null,I[be]=null)):re(u)}}}function ue(u){return u in Oe?Oe[u]:Oe[u]="on"+u}function ie(u,I){if(u.da)u=!0;else{I=new H(I,this);var O=u.listener,D=u.ha||u.src;u.fa&&le(u),u=O.call(D,I)}return u}function Ee(u){return u=u[be],u instanceof ce?u:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(u){return typeof u=="function"?u:(u[xe]||(u[xe]=function(I){return u.handleEvent(I)}),u[xe])}function De(){M.call(this),this.i=new ce(this),this.M=this,this.F=null}v(De,M),De.prototype[z]=!0,De.prototype.removeEventListener=function(u,I,O,D){te(this,u,I,O,D)};function ze(u,I){var O,D=u.F;if(D)for(O=[];D;D=D.F)O.push(D);if(u=u.M,D=I.type||I,typeof I=="string")I=new B(I,u);else if(I instanceof B)I.target=I.target||u;else{var Q=I;I=new B(D,u),b(I,Q)}if(Q=!0,O)for(var Z=O.length-1;0<=Z;Z--){var ae=I.g=O[Z];Q=Fe(ae,D,!0,I)&&Q}if(ae=I.g=u,Q=Fe(ae,D,!0,I)&&Q,Q=Fe(ae,D,!1,I)&&Q,O)for(Z=0;Z<O.length;Z++)ae=I.g=O[Z],Q=Fe(ae,D,!1,I)&&Q}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var u=this.i,I;for(I in u.g){for(var O=u.g[I],D=0;D<O.length;D++)re(O[D]);delete u.g[I],u.h--}}this.F=null},De.prototype.K=function(u,I,O,D){return this.i.add(String(u),I,!1,O,D)},De.prototype.L=function(u,I,O,D){return this.i.add(String(u),I,!0,O,D)};function Fe(u,I,O,D){if(I=u.i.g[String(I)],!I)return!0;I=I.concat();for(var Q=!0,Z=0;Z<I.length;++Z){var ae=I[Z];if(ae&&!ae.da&&ae.capture==O){var Be=ae.listener,Tt=ae.ha||ae.src;ae.fa&&me(u.i,ae),Q=Be.call(Tt,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function el(u,I,O){if(typeof u=="function")O&&(u=f(u,O));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(u,I||0)}function Xe(u){u.g=el(()=>{u.g=null,u.i&&(u.i=!1,Xe(u))},u.l);const I=u.h;u.h=null,u.m.apply(null,I)}class jn extends M{constructor(I,O){super(),this.m=I,this.l=O,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function io(u){M.call(this),this.h=u,this.g={}}v(io,M);var Um=[];function Fm(u){C(u.g,function(I,O){this.g.hasOwnProperty(O)&&le(I)},u),u.g={}}io.prototype.N=function(){io.aa.N.call(this),Fm(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nf=a.JSON.stringify,MT=a.JSON.parse,VT=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function rf(){}rf.prototype.h=null;function Bm(u){return u.h||(u.h=u.i())}function qm(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sf(){B.call(this,"d")}v(sf,B);function of(){B.call(this,"c")}v(of,B);var hi={},zm=null;function tl(){return zm=zm||new De}hi.La="serverreachability";function $m(u){B.call(this,hi.La,u)}v($m,B);function oo(u){const I=tl();ze(I,new $m(I))}hi.STAT_EVENT="statevent";function Hm(u,I){B.call(this,hi.STAT_EVENT,u),this.stat=I}v(Hm,B);function Ut(u){const I=tl();ze(I,new Hm(I,u))}hi.Ma="timingevent";function Wm(u,I){B.call(this,hi.Ma,u),this.size=I}v(Wm,B);function ao(u,I){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},I)}function lo(){this.g=!0}lo.prototype.xa=function(){this.g=!1};function UT(u,I,O,D,Q,Z){u.info(function(){if(u.g)if(Z)for(var ae="",Be=Z.split("&"),Tt=0;Tt<Be.length;Tt++){var Le=Be[Tt].split("=");if(1<Le.length){var Nt=Le[0];Le=Le[1];var Pt=Nt.split("_");ae=2<=Pt.length&&Pt[1]=="type"?ae+(Nt+"="+Le+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=Z;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+I+`
`+O+`
`+ae})}function FT(u,I,O,D,Q,Z,ae){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+I+`
`+O+`
`+Z+" "+ae})}function Yi(u,I,O,D){u.info(function(){return"XMLHTTP TEXT ("+I+"): "+qT(u,O)+(D?" "+D:"")})}function BT(u,I){u.info(function(){return"TIMEOUT: "+I})}lo.prototype.info=function(){};function qT(u,I){if(!u.g)return I;if(!I)return null;try{var O=JSON.parse(I);if(O){for(u=0;u<O.length;u++)if(Array.isArray(O[u])){var D=O[u];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var Z=Q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ae=1;ae<Q.length;ae++)Q[ae]=""}}}}return nf(O)}catch{return I}}var nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Km={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function rl(){}v(rl,rf),rl.prototype.g=function(){return new XMLHttpRequest},rl.prototype.i=function(){return{}},af=new rl;function Ar(u,I,O,D){this.j=u,this.i=I,this.l=O,this.R=D||1,this.U=new io(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gm}function Gm(){this.i=null,this.g="",this.h=!1}var Qm={},lf={};function uf(u,I,O){u.L=1,u.v=al(Jn(I)),u.m=O,u.P=!0,Ym(u,null)}function Ym(u,I){u.F=Date.now(),il(u),u.A=Jn(u.v);var O=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),cg(O.i,"t",D),u.C=0,O=u.j.J,u.h=new Gm,u.g=kg(u.j,O?I:null,!u.m),0<u.O&&(u.M=new jn(f(u.Y,u,u.g),u.O)),I=u.U,O=u.g,D=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Um[0]=Q.toString()),Q=Um);for(var Z=0;Z<Q.length;Z++){var ae=xt(O,Q[Z],D||I.handleEvent,!1,I.h||I);if(!ae)break;I.g[ae.key]=ae}I=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,I)):(u.u="GET",u.g.ea(u.A,u.u,null,I)),oo(),UT(u.i,u.u,u.A,u.l,u.R,u.m)}Ar.prototype.ca=function(u){u=u.target;const I=this.M;I&&Zn(u)==3?I.j():this.Y(u)},Ar.prototype.Y=function(u){try{if(u==this.g)e:{const Pt=Zn(this.g);var I=this.g.Ba();const Zi=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||yg(this.g)))){this.J||Pt!=4||I==7||(I==8||0>=Zi?oo(3):oo(2)),cf(this);var O=this.g.Z();this.X=O;t:if(Xm(this)){var D=yg(this.g);u="";var Q=D.length,Z=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),uo(this);var ae="";break t}this.h.i=new a.TextDecoder}for(I=0;I<Q;I++)this.h.h=!0,u+=this.h.i.decode(D[I],{stream:!(Z&&I==Q-1)});D.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=O==200,FT(this.i,this.u,this.A,this.l,this.R,Pt,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Tt=this.g;if((Be=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Be)){var Le=Be;break t}}Le=null}if(O=Le)Yi(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ff(this,O);else{this.o=!1,this.s=3,Ut(12),di(this),uo(this);break e}}if(this.P){O=!0;let vn;for(;!this.J&&this.C<ae.length;)if(vn=zT(this,ae),vn==lf){Pt==4&&(this.s=4,Ut(14),O=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Qm){this.s=4,Ut(15),Yi(this.i,this.l,ae,"[Invalid Chunk]"),O=!1;break}else Yi(this.i,this.l,vn,null),ff(this,vn);if(Xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ae.length!=0||this.h.h||(this.s=1,Ut(16),O=!1),this.o=this.o&&O,!O)Yi(this.i,this.l,ae,"[Invalid Chunked Response]"),di(this),uo(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),yf(Nt),Nt.M=!0,Ut(11))}}else Yi(this.i,this.l,ae,null),ff(this,ae);Pt==4&&di(this),this.o&&!this.J&&(Pt==4?bg(this.j,this):(this.o=!1,il(this)))}else ob(this.g),O==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),di(this),uo(this)}}}catch{}finally{}};function Xm(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zT(u,I){var O=u.C,D=I.indexOf(`
`,O);return D==-1?lf:(O=Number(I.substring(O,D)),isNaN(O)?Qm:(D+=1,D+O>I.length?lf:(I=I.slice(D,D+O),u.C=D+O,I)))}Ar.prototype.cancel=function(){this.J=!0,di(this)};function il(u){u.S=Date.now()+u.I,Jm(u,u.I)}function Jm(u,I){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ao(f(u.ba,u),I)}function cf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ar.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(BT(this.i,this.A),this.L!=2&&(oo(),Ut(17)),di(this),this.s=2,uo(this)):Jm(this,this.S-u)};function uo(u){u.j.G==0||u.J||bg(u.j,u)}function di(u){cf(u);var I=u.M;I&&typeof I.ma=="function"&&I.ma(),u.M=null,Fm(u.U),u.g&&(I=u.g,u.g=null,I.abort(),I.ma())}function ff(u,I){try{var O=u.j;if(O.G!=0&&(O.g==u||hf(O.h,u))){if(!u.K&&hf(O.h,u)&&O.G==3){try{var D=O.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<u.F)dl(O),fl(O);else break e;gf(O),Ut(18)}}else O.za=Q[1],0<O.za-O.T&&37500>Q[2]&&O.F&&O.v==0&&!O.C&&(O.C=ao(f(O.Za,O),6e3));if(1>=tg(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else mi(O,11)}else if((u.K||O.g==u)&&dl(O),!m(I))for(Q=O.Da.g.parse(I),I=0;I<Q.length;I++){let Le=Q[I];if(O.T=Le[0],Le=Le[1],O.G==2)if(Le[0]=="c"){O.K=Le[1],O.ia=Le[2];const Nt=Le[3];Nt!=null&&(O.la=Nt,O.j.info("VER="+O.la));const Pt=Le[4];Pt!=null&&(O.Aa=Pt,O.j.info("SVER="+O.Aa));const Zi=Le[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(D=1.5*Zi,O.L=D,O.j.info("backChannelRequestTimeoutMs_="+D)),D=O;const vn=u.g;if(vn){const ml=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var Z=D.h;Z.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(df(Z,Z.h),Z.h=null))}if(D.D){const vf=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(D.ya=vf,$e(D.I,D.D,vf))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-u.F,O.j.info("Handshake RTT: "+O.R+"ms")),D=O;var ae=u;if(D.qa=Sg(D,D.J?D.ia:null,D.W),ae.K){ng(D.h,ae);var Be=ae,Tt=D.L;Tt&&(Be.I=Tt),Be.B&&(cf(Be),il(Be)),D.g=ae}else xg(D);0<O.i.length&&hl(O)}else Le[0]!="stop"&&Le[0]!="close"||mi(O,7);else O.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?mi(O,7):mf(O):Le[0]!="noop"&&O.l&&O.l.ta(Le),O.v=0)}}oo(4)}catch{}}var $T=class{constructor(u,I){this.g=u,this.map=I}};function Zm(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function tg(u){return u.h?1:u.g?u.g.size:0}function hf(u,I){return u.h?u.h==I:u.g?u.g.has(I):!1}function df(u,I){u.g?u.g.add(I):u.h=I}function ng(u,I){u.h&&u.h==I?u.h=null:u.g&&u.g.has(I)&&u.g.delete(I)}Zm.prototype.cancel=function(){if(this.i=rg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let I=u.i;for(const O of u.g.values())I=I.concat(O.D);return I}return _(u.i)}function HT(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var I=[],O=u.length,D=0;D<O;D++)I.push(u[D]);return I}I=[],O=0;for(D in u)I[O++]=u[D];return I}function WT(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var I=[];u=u.length;for(var O=0;O<u;O++)I.push(O);return I}I=[],O=0;for(const D in u)I[O++]=D;return I}}}function ig(u,I){if(u.forEach&&typeof u.forEach=="function")u.forEach(I,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,I,void 0);else for(var O=WT(u),D=HT(u),Q=D.length,Z=0;Z<Q;Z++)I.call(void 0,D[Z],O&&O[Z],u)}var sg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KT(u,I){if(u){u=u.split("&");for(var O=0;O<u.length;O++){var D=u[O].indexOf("="),Q=null;if(0<=D){var Z=u[O].substring(0,D);Q=u[O].substring(D+1)}else Z=u[O];I(Z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,sl(this,u.j),this.o=u.o,this.g=u.g,ol(this,u.s),this.l=u.l;var I=u.i,O=new ho;O.i=I.i,I.g&&(O.g=new Map(I.g),O.h=I.h),og(this,O),this.m=u.m}else u&&(I=String(u).match(sg))?(this.h=!1,sl(this,I[1]||"",!0),this.o=co(I[2]||""),this.g=co(I[3]||"",!0),ol(this,I[4]),this.l=co(I[5]||"",!0),og(this,I[6]||"",!0),this.m=co(I[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}pi.prototype.toString=function(){var u=[],I=this.j;I&&u.push(fo(I,ag,!0),":");var O=this.g;return(O||I=="file")&&(u.push("//"),(I=this.o)&&u.push(fo(I,ag,!0),"@"),u.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&u.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&u.push("/"),u.push(fo(O,O.charAt(0)=="/"?YT:QT,!0))),(O=this.i.toString())&&u.push("?",O),(O=this.m)&&u.push("#",fo(O,JT)),u.join("")};function Jn(u){return new pi(u)}function sl(u,I,O){u.j=O?co(I,!0):I,u.j&&(u.j=u.j.replace(/:$/,""))}function ol(u,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);u.s=I}else u.s=null}function og(u,I,O){I instanceof ho?(u.i=I,ZT(u.i,u.h)):(O||(I=fo(I,XT)),u.i=new ho(I,u.h))}function $e(u,I,O){u.i.set(I,O)}function al(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function co(u,I){return u?I?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fo(u,I,O){return typeof u=="string"?(u=encodeURI(u).replace(I,GT),O&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function GT(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ag=/[#\/\?@]/g,QT=/[#\?:]/g,YT=/[#\?]/g,XT=/[#\?@]/g,JT=/#/g;function ho(u,I){this.h=this.g=null,this.i=u||null,this.j=!!I}function Ir(u){u.g||(u.g=new Map,u.h=0,u.i&&KT(u.i,function(I,O){u.add(decodeURIComponent(I.replace(/\+/g," ")),O)}))}t=ho.prototype,t.add=function(u,I){Ir(this),this.i=null,u=Xi(this,u);var O=this.g.get(u);return O||this.g.set(u,O=[]),O.push(I),this.h+=1,this};function lg(u,I){Ir(u),I=Xi(u,I),u.g.has(I)&&(u.i=null,u.h-=u.g.get(I).length,u.g.delete(I))}function ug(u,I){return Ir(u),I=Xi(u,I),u.g.has(I)}t.forEach=function(u,I){Ir(this),this.g.forEach(function(O,D){O.forEach(function(Q){u.call(I,Q,D,this)},this)},this)},t.na=function(){Ir(this);const u=Array.from(this.g.values()),I=Array.from(this.g.keys()),O=[];for(let D=0;D<I.length;D++){const Q=u[D];for(let Z=0;Z<Q.length;Z++)O.push(I[D])}return O},t.V=function(u){Ir(this);let I=[];if(typeof u=="string")ug(this,u)&&(I=I.concat(this.g.get(Xi(this,u))));else{u=Array.from(this.g.values());for(let O=0;O<u.length;O++)I=I.concat(u[O])}return I},t.set=function(u,I){return Ir(this),this.i=null,u=Xi(this,u),ug(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[I]),this.h+=1,this},t.get=function(u,I){return u?(u=this.V(u),0<u.length?String(u[0]):I):I};function cg(u,I,O){lg(u,I),0<O.length&&(u.i=null,u.g.set(Xi(u,I),_(O)),u.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],I=Array.from(this.g.keys());for(var O=0;O<I.length;O++){var D=I[O];const Z=encodeURIComponent(String(D)),ae=this.V(D);for(D=0;D<ae.length;D++){var Q=Z;ae[D]!==""&&(Q+="="+encodeURIComponent(String(ae[D]))),u.push(Q)}}return this.i=u.join("&")};function Xi(u,I){return I=String(I),u.j&&(I=I.toLowerCase()),I}function ZT(u,I){I&&!u.j&&(Ir(u),u.i=null,u.g.forEach(function(O,D){var Q=D.toLowerCase();D!=Q&&(lg(this,D),cg(this,Q,O))},u)),u.j=I}function eb(u,I){const O=new lo;if(a.Image){const D=new Image;D.onload=p(Sr,O,"TestLoadImage: loaded",!0,I,D),D.onerror=p(Sr,O,"TestLoadImage: error",!1,I,D),D.onabort=p(Sr,O,"TestLoadImage: abort",!1,I,D),D.ontimeout=p(Sr,O,"TestLoadImage: timeout",!1,I,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else I(!1)}function tb(u,I){const O=new lo,D=new AbortController,Q=setTimeout(()=>{D.abort(),Sr(O,"TestPingServer: timeout",!1,I)},1e4);fetch(u,{signal:D.signal}).then(Z=>{clearTimeout(Q),Z.ok?Sr(O,"TestPingServer: ok",!0,I):Sr(O,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Q),Sr(O,"TestPingServer: error",!1,I)})}function Sr(u,I,O,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(O)}catch{}}function nb(){this.g=new VT}function rb(u,I,O){const D=O||"";try{ig(u,function(Q,Z){let ae=Q;c(Q)&&(ae=nf(Q)),I.push(D+Z+"="+encodeURIComponent(ae))})}catch(Q){throw I.push(D+"type="+encodeURIComponent("_badmap")),Q}}function ll(u){this.l=u.Ub||null,this.j=u.eb||!1}v(ll,rf),ll.prototype.g=function(){return new ul(this.l,this.j)},ll.prototype.i=function(u){return function(){return u}}({});function ul(u,I){De.call(this),this.D=u,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ul,De),t=ul.prototype,t.open=function(u,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=I,this.readyState=1,mo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(I.body=u),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mo(this)),this.g&&(this.readyState=3,mo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var I=u.value?u.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!u.done}))&&(this.response=this.responseText+=I)}u.done?po(this):mo(this),this.readyState==3&&fg(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,po(this))},t.Qa=function(u){this.g&&(this.response=u,po(this))},t.ga=function(){this.g&&po(this)};function po(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mo(u)}t.setRequestHeader=function(u,I){this.u.append(u,I)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],I=this.h.entries();for(var O=I.next();!O.done;)O=O.value,u.push(O[0]+": "+O[1]),O=I.next();return u.join(`\r
`)};function mo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ul.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hg(u){let I="";return C(u,function(O,D){I+=D,I+=":",I+=O,I+=`\r
`}),I}function pf(u,I,O){e:{for(D in O){var D=!1;break e}D=!0}D||(O=hg(O),typeof u=="string"?O!=null&&encodeURIComponent(String(O)):$e(u,I,O))}function nt(u){De.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(nt,De);var ib=/^https?$/i,sb=["POST","PUT"];t=nt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,I,O,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);I=I?I.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?Bm(this.o):Bm(af),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(I,String(u),!0),this.B=!1}catch(Z){dg(this,Z);return}if(u=O||"",O=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)O.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())O.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(O.keys()).find(Z=>Z.toLowerCase()=="content-type"),Q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sb,I,void 0))||D||Q||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ae]of O)this.g.setRequestHeader(Z,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gg(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){dg(this,Z)}};function dg(u,I){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=I,u.m=5,pg(u),cl(u)}function pg(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ze(this,"complete"),ze(this,"abort"),cl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cl(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mg(this):this.bb())},t.bb=function(){mg(this)};function mg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Zn(u)!=4||u.Z()!=2)){if(u.u&&Zn(u)==4)el(u.Ea,0,u);else if(ze(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var O;if(!(O=I)){var D;if(D=ae===0){var Q=String(u.D).match(sg)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),D=!ib.test(Q?Q.toLowerCase():"")}O=D}if(O)ze(u,"complete"),ze(u,"success");else{u.m=6;try{var Z=2<Zn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",pg(u)}}finally{cl(u)}}}}function cl(u,I){if(u.g){gg(u);const O=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,I||ze(u,"ready");try{O.onreadystatechange=D}catch{}}}function gg(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var I=this.g.responseText;return u&&I.indexOf(u)==0&&(I=I.substring(u.length)),MT(I)}};function yg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ob(u){const I={};u=(u.g&&2<=Zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(m(u[D]))continue;var O=A(u[D]);const Q=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Z=I[Q]||[];I[Q]=Z,Z.push(O)}S(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function go(u,I,O){return O&&O.internalChannelParams&&O.internalChannelParams[u]||I}function vg(u){this.Aa=0,this.i=[],this.j=new lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=go("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=go("baseRetryDelayMs",5e3,u),this.cb=go("retryDelaySeedMs",1e4,u),this.Wa=go("forwardChannelMaxRetries",2,u),this.wa=go("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Zm(u&&u.concurrentRequestLimit),this.Da=new nb,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vg.prototype,t.la=8,t.G=1,t.connect=function(u,I,O,D){Ut(0),this.W=u,this.H=I||{},O&&D!==void 0&&(this.H.OSID=O,this.H.OAID=D),this.F=this.X,this.I=Sg(this,null,this.W),hl(this)};function mf(u){if(_g(u),u.G==3){var I=u.U++,O=Jn(u.I);if($e(O,"SID",u.K),$e(O,"RID",I),$e(O,"TYPE","terminate"),yo(u,O),I=new Ar(u,u.j,I),I.L=2,I.v=al(Jn(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=I.v,O=!0),O||(I.g=kg(I.j,null),I.g.ea(I.v)),I.F=Date.now(),il(I)}Ig(u)}function fl(u){u.g&&(yf(u),u.g.cancel(),u.g=null)}function _g(u){fl(u),u.u&&(a.clearTimeout(u.u),u.u=null),dl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function hl(u){if(!eg(u.h)&&!u.s){u.s=!0;var I=u.Ga;K||U(),W||(K(),W=!0),q.add(I,u),u.B=0}}function ab(u,I){return tg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=I.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ao(f(u.Ga,u,I),Ag(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new Ar(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=w(Z),b(Z,this.S)):Z=this.S),this.m!==null||this.O||(Q.H=Z,Z=null),this.P)e:{for(var I=0,O=0;O<this.i.length;O++){t:{var D=this.i[O];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=O;break e}if(I===4096||O===this.i.length-1){I=O+1;break e}}I=1e3}else I=1e3;I=Eg(this,Q,I),O=Jn(this.I),$e(O,"RID",u),$e(O,"CVER",22),this.D&&$e(O,"X-HTTP-Session-Id",this.D),yo(this,O),Z&&(this.O?I="headers="+encodeURIComponent(String(hg(Z)))+"&"+I:this.m&&pf(O,this.m,Z)),df(this.h,Q),this.Ua&&$e(O,"TYPE","init"),this.P?($e(O,"$req",I),$e(O,"SID","null"),Q.T=!0,uf(Q,O,null)):uf(Q,O,I),this.G=2}}else this.G==3&&(u?wg(this,u):this.i.length==0||eg(this.h)||wg(this))};function wg(u,I){var O;I?O=I.l:O=u.U++;const D=Jn(u.I);$e(D,"SID",u.K),$e(D,"RID",O),$e(D,"AID",u.T),yo(u,D),u.m&&u.o&&pf(D,u.m,u.o),O=new Ar(u,u.j,O,u.B+1),u.m===null&&(O.H=u.o),I&&(u.i=I.D.concat(u.i)),I=Eg(u,O,1e3),O.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),df(u.h,O),uf(O,D,I)}function yo(u,I){u.H&&C(u.H,function(O,D){$e(I,D,O)}),u.l&&ig({},function(O,D){$e(I,D,O)})}function Eg(u,I,O){O=Math.min(u.i.length,O);var D=u.l?f(u.l.Na,u.l,u):null;e:{var Q=u.i;let Z=-1;for(;;){const ae=["count="+O];Z==-1?0<O?(Z=Q[0].g,ae.push("ofs="+Z)):Z=0:ae.push("ofs="+Z);let Be=!0;for(let Tt=0;Tt<O;Tt++){let Le=Q[Tt].g;const Nt=Q[Tt].map;if(Le-=Z,0>Le)Z=Math.max(0,Q[Tt].g-100),Be=!1;else try{rb(Nt,ae,"req"+Le+"_")}catch{D&&D(Nt)}}if(Be){D=ae.join("&");break e}}}return u=u.i.splice(0,O),I.D=u,D}function xg(u){if(!u.g&&!u.u){u.Y=1;var I=u.Fa;K||U(),W||(K(),W=!0),q.add(I,u),u.v=0}}function gf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ao(f(u.Fa,u),Ag(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Tg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ao(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),fl(this),Tg(this))};function yf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Tg(u){u.g=new Ar(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var I=Jn(u.qa);$e(I,"RID","rpc"),$e(I,"SID",u.K),$e(I,"AID",u.T),$e(I,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(I,"TO",u.ja),$e(I,"TYPE","xmlhttp"),yo(u,I),u.m&&u.o&&pf(I,u.m,u.o),u.L&&(u.g.I=u.L);var O=u.g;u=u.ia,O.L=1,O.v=al(Jn(I)),O.m=null,O.P=!0,Ym(O,u)}t.Za=function(){this.C!=null&&(this.C=null,fl(this),gf(this),Ut(19))};function dl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function bg(u,I){var O=null;if(u.g==I){dl(u),yf(u),u.g=null;var D=2}else if(hf(u.h,I))O=I.D,ng(u.h,I),D=1;else return;if(u.G!=0){if(I.o)if(D==1){O=I.m?I.m.length:0,I=Date.now()-I.F;var Q=u.B;D=tl(),ze(D,new Wm(D,O)),hl(u)}else xg(u);else if(Q=I.s,Q==3||Q==0&&0<I.X||!(D==1&&ab(u,I)||D==2&&gf(u)))switch(O&&0<O.length&&(I=u.h,I.i=I.i.concat(O)),Q){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ag(u,I){let O=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(O*=2),O*I}function mi(u,I){if(u.j.info("Error code "+I),I==2){var O=f(u.fb,u),D=u.Xa;const Q=!D;D=new pi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sl(D,"https"),al(D),Q?eb(D.toString(),O):tb(D.toString(),O)}else Ut(2);u.G=0,u.l&&u.l.sa(I),Ig(u),_g(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Ig(u){if(u.G=0,u.ka=[],u.l){const I=rg(u.h);(I.length!=0||u.i.length!=0)&&(x(u.ka,I),x(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function Sg(u,I,O){var D=O instanceof pi?Jn(O):new pi(O);if(D.g!="")I&&(D.g=I+"."+D.g),ol(D,D.s);else{var Q=a.location;D=Q.protocol,I=I?I+"."+Q.hostname:Q.hostname,Q=+Q.port;var Z=new pi(null);D&&sl(Z,D),I&&(Z.g=I),Q&&ol(Z,Q),O&&(Z.l=O),D=Z}return O=u.D,I=u.ya,O&&I&&$e(D,O,I),$e(D,"VER",u.la),yo(u,D),D}function kg(u,I,O){if(I&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=u.Ca&&!u.pa?new nt(new ll({eb:O})):new nt(u.pa),I.Ha(u.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ng(){}t=Ng.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pl(){}pl.prototype.g=function(u,I){return new Jt(u,I)};function Jt(u,I){De.call(this),this.g=new vg(I),this.l=u,this.h=I&&I.messageUrlParams||null,u=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(u?u["X-WebChannel-Content-Type"]=I.messageContentType:u={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(u?u["X-WebChannel-Client-Profile"]=I.va:u={"X-WebChannel-Client-Profile":I.va}),this.g.S=u,(u=I&&I.Sb)&&!m(u)&&(this.g.m=u),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!m(I)&&(this.g.D=I,u=this.h,u!==null&&I in u&&(u=this.h,I in u&&delete u[I])),this.j=new Ji(this)}v(Jt,De),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){mf(this.g)},Jt.prototype.o=function(u){var I=this.g;if(typeof u=="string"){var O={};O.__data__=u,u=O}else this.u&&(O={},O.__data__=nf(u),u=O);I.i.push(new $T(I.Ya++,u)),I.G==3&&hl(I)},Jt.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,Jt.aa.N.call(this)};function Pg(u){sf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var I=u.__sm__;if(I){e:{for(const O in I){u=O;break e}u=void 0}(this.i=u)&&(u=this.i,I=I!==null&&u in I?I[u]:void 0),this.data=I}else this.data=u}v(Pg,sf);function Rg(){of.call(this),this.status=1}v(Rg,of);function Ji(u){this.g=u}v(Ji,Ng),Ji.prototype.ua=function(){ze(this.g,"a")},Ji.prototype.ta=function(u){ze(this.g,new Pg(u))},Ji.prototype.sa=function(u){ze(this.g,new Rg)},Ji.prototype.ra=function(){ze(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,EE=function(){return new pl},wE=function(){return tl()},_E=hi,gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,ru=nl,Km.COMPLETE="complete",vE=Km,qm.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",De.prototype.listen=De.prototype.K,Mo=qm,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,yE=nt}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Mp("@firebase/firestore");function Io(){return Mi.logLevel}function de(t,...e){if(Mi.logLevel<=ke.DEBUG){const n=e.map(Xp);Mi.debug(`Firestore (${Ws}): ${t}`,...n)}}function _r(t,...e){if(Mi.logLevel<=ke.ERROR){const n=e.map(Xp);Mi.error(`Firestore (${Ws}): ${t}`,...n)}}function Vi(t,...e){if(Mi.logLevel<=ke.WARN){const n=e.map(Xp);Mi.warn(`Firestore (${Ws}): ${t}`,...n)}}function Xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Ue(t,e){t||ve()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class OP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CP{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new xE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Lt(e)}}class LP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const r=s=>{s.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new DP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function js(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new dt(0,0))}static max(){return new _e(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends ba{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const UP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends ba{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return UP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ge.fromString(e))}static fromName(e){return new pe(Ge.fromString(e).popFirst(5))}static empty(){return new pe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ge(e.slice()))}}function FP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new ni(i,pe.empty(),e)}function BP(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(_e.min(),pe.empty(),-1)}static max(){return new ni(_e.max(),pe.empty(),-1)}}function qP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==zP)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function HP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zp.oe=-1;function Ac(t){return t==null}function Bu(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!Bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jl(this.root,e,this.comparator,!1)}getReverseIterator(){return new jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jl(this.root,e,this.comparator,!0)}}class jl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=s??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new At(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new In([])}unionWith(e){let n=new St(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return js(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AE("Invalid base64 string: "+s):s}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const KP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=KP.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tm(t){const e=t.mapValue.fields.__previous_value__;return em(e)?tm(e):e}function Aa(t){const e=ri(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={mapValue:{}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?em(t)?4:YP(t)?9007199254740991:QP(t)?10:11:ve()}function Gn(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Aa(t).isEqual(Aa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ri(i.timestampValue),a=ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ui(i.bytesValue).isEqual(Ui(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Bu(o)===Bu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return js(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Sv(o)!==Sv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gn(o[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Ia(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Nv(t.timestampValue,e.timestampValue);case 4:return Nv(Aa(t),Aa(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ui(s),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=je(a[c],l[c]);if(d!==0)return d}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(at(s.latitude),at(o.latitude));return a!==0?a:je(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=je(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:Pv(p,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dl.mapValue&&o===Dl.mapValue)return 0;if(s===Dl.mapValue)return 1;if(o===Dl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=je(l[h],d[h]);if(f!==0)return f;const p=Ms(a[l[h]],c[d[h]]);if(p!==0)return p}return je(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ve()}}function Nv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ri(t),r=ri(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Pv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ms(n[i],r[i]);if(s)return s}return je(n.length,r.length)}function Vs(t){return yd(t)}function yd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${yd(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function Rv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vd(t){return!!t&&"integerValue"in t}function nm(t){return!!t&&"arrayValue"in t}function Ov(t){return!!t&&"nullValue"in t}function Cv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function QP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];iu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn(Xo(this.value))}}function IE(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new _t([n]);if(iu(r)){const s=IE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,_e.min(),_e.min(),_e.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,_e.min(),_e.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,_e.min(),_e.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.position=e,this.inclusive=n}}function Lv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n="asc"){this.field=e,this.dir=n}}function XP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{}class ft extends SE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZP(e,n,r):n==="array-contains"?new nR(e,r):n==="in"?new rR(e,r):n==="not-in"?new iR(e,r):n==="array-contains-any"?new sR(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eR(e,r):new tR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends SE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return kE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kE(t){return t.op==="and"}function NE(t){return JP(t)&&kE(t)}function JP(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function _d(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(NE(t))return t.filters.map(e=>_d(e)).join(",");{const e=t.filters.map(n=>_d(n)).join(",");return`${t.op}(${e})`}}function PE(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PE(o,i.filters[a]),!0):!1}(t,e):void ve()}function RE(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(RE).join(" ,")+"}"}(t):"Filter"}class ZP extends ft{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class eR extends ft{constructor(e,n){super(e,"in",n),this.keys=OE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tR extends ft{constructor(e,n){super(e,"not-in",n),this.keys=OE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class nR extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nm(n)&&Ia(n.arrayValue,this.value)}}class rR extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ia(this.value.arrayValue,n)}}class iR extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ia(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ia(this.value.arrayValue,n)}}class sR extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ia(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Dv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oR(t,e,n,r,i,s,o)}function rm(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_d(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jv(t.startAt,e.startAt)&&jv(t.endAt,e.endAt)}function wd(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aR(t,e,n,r,i,s,o,a){return new Gs(t,e,n,r,i,s,o,a)}function sm(t){return new Gs(t)}function Mv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CE(t){return t.collectionGroup!==null}function Jo(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Sa(s,r))}),n.has(_t.keyField().canonicalString())||e.ce.push(new Sa(_t.keyField(),r))}return e.ce}function Wn(t){const e=we(t);return e.le||(e.le=lR(e,Jo(t))),e.le}function lR(t,e){if(t.limitType==="F")return Dv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sa(i.field,s)});const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return Dv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ed(t,e){const n=t.filters.concat([e]);return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zu(t,e,n){return new Gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ic(t,e){return im(Wn(t),Wn(e))&&t.limitType===e.limitType}function LE(t){return`${rm(Wn(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RE(i)).join(", ")}]`),Ac(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(Wn(t))}; limitType=${t.limitType})`}function Sc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Jo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Lv(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Jo(r),i)||r.endAt&&!function(o,a,l){const c=Lv(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Jo(r),i))}(t,e)}function uR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jE(t){return(e,n)=>{let r=!1;for(const i of Jo(t)){const s=cR(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cR(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ms(l,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new tt(pe.comparator);function wr(){return fR}const DE=new tt(pe.comparator);function Vo(...t){let e=DE;for(const n of t)e=e.insert(n.key,n);return e}function ME(t){let e=DE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Zo()}function VE(){return Zo()}function Zo(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const hR=new tt(pe.comparator),dR=new St(pe.comparator);function Se(...t){let e=dR;for(const n of t)e=e.add(n);return e}const pR=new St(je);function mR(){return pR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function UE(t){return{integerValue:""+t}}function gR(t,e){return WP(e)?UE(e):om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function yR(t,e,n){return t instanceof ka?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&em(s)&&(s=tm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Na?BE(t,e):t instanceof Pa?qE(t,e):function(i,s){const o=FE(i,s),a=Vv(o)+Vv(i.Pe);return vd(o)&&vd(i.Pe)?UE(a):om(i.serializer,a)}(t,e)}function vR(t,e,n){return t instanceof Na?BE(t,e):t instanceof Pa?qE(t,e):n}function FE(t,e){return t instanceof $u?function(r){return vd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ka extends kc{}class Na extends kc{constructor(e){super(),this.elements=e}}function BE(t,e){const n=zE(e);for(const r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pa extends kc{constructor(e){super(),this.elements=e}}function qE(t,e){let n=zE(e);for(const r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}class $u extends kc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Vv(t){return at(t.integerValue||t.doubleValue)}function zE(t){return nm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.field=e,this.transform=n}}function wR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof Pa&&i instanceof Pa?js(r.elements,i.elements,Gn):r instanceof $u&&i instanceof $u?Gn(r.Pe,i.Pe):r instanceof ka&&i instanceof ka}(t.transform,e.transform)}class ER{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nc{}function $E(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new am(t.key,Pn.none()):new Ga(t.key,t.data,Pn.none());{const n=t.data,r=hn.empty();let i=new St(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ki(t.key,r,new In(i.toArray()),Pn.none())}}function xR(t,e,n){t instanceof Ga?function(i,s,o){const a=i.value.clone(),l=Fv(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(i,s,o){if(!su(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Fv(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(HE(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ea(t,e,n,r){return t instanceof Ga?function(s,o,a,l){if(!su(s.precondition,o))return a;const c=s.value.clone(),d=Bv(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(s,o,a,l){if(!su(s.precondition,o))return a;const c=Bv(s.fieldTransforms,l,o),d=o.data;return d.setAll(HE(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return su(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FE(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function Uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(s,o)=>wR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ga extends Nc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ki extends Nc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fv(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vR(o,a,n[i]))}return r}function Bv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yR(s,o,e))}return r}class am extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xR(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$E(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&js(this.mutations,e.mutations,(n,r)=>Uv(n,r))&&js(this.baseMutations,e.baseMutations,(n,r)=>Uv(n,r))}}class lm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return hR}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function kR(t){switch(t){default:return ve();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function WE(t){if(t===void 0)return _r("GRPC error has no .code"),ne.UNKNOWN;switch(t){case ut.OK:return ne.OK;case ut.CANCELLED:return ne.CANCELLED;case ut.UNKNOWN:return ne.UNKNOWN;case ut.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case ut.INTERNAL:return ne.INTERNAL;case ut.UNAVAILABLE:return ne.UNAVAILABLE;case ut.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case ut.NOT_FOUND:return ne.NOT_FOUND;case ut.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case ut.ABORTED:return ne.ABORTED;case ut.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case ut.DATA_LOSS:return ne.DATA_LOSS;default:return ve()}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Si([4294967295,4294967295],0);function qv(t){const e=NR().encode(t),n=new gE;return n.update(e),new Uint8Array(n.digest())}function zv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Si([n,r],0),new Si([i,s],0)]}class um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Si.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Si.fromNumber(r)));return i.compare(PR)===1&&(i=new Si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qv(e),[r,i]=zv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new um(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=qv(e),[r,i]=zv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pc(_e.min(),i,new tt(je),wr(),Se())}}class Qa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qa(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class KE{constructor(e,n){this.targetId=e,this.me=n}}class GE{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $v{constructor(){this.fe=0,this.ge=Wv(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Qa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Wv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RR{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=Hv(),this.Qe=new tt(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(wd(s))if(r===0){const o=new pe(s.path);this.Ue(n,o,Dt.newNoDocument(o,_e.min()))}else Ue(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof AE)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new um(o,i,s)}catch(l){return Vi(l instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&wd(a.target)){const l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Se();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Pc(e,n,this.Qe,this.ke,r);return this.ke=wr(),this.qe=Hv(),this.Qe=new tt(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $v,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $v),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hv(){return new tt(pe.comparator)}function Wv(){return new tt(pe.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},CR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LR={and:"AND",or:"OR"};class jR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xd(t,e){return t.useProto3Json||Ac(e)?e:{value:e}}function Hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DR(t,e){return Hu(t,e.toTimestamp())}function Kn(t){return Ue(!!t),_e.fromTimestamp(function(n){const r=ri(n);return new dt(r.seconds,r.nanos)}(t))}function cm(t,e){return Td(t,e).canonicalString()}function Td(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YE(t){const e=Ge.fromString(t);return Ue(tx(e)),e}function bd(t,e){return cm(t.databaseId,e.path)}function Zf(t,e){const n=YE(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(JE(n))}function XE(t,e){return cm(t.databaseId,e)}function MR(t){const e=YE(t);return e.length===4?Ge.emptyPath():JE(e)}function Ad(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JE(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kv(t,e,n){return{name:bd(t,e),fields:n.value.mapValue.fields}}function VR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ue(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ne.UNKNOWN:WE(c.code);return new fe(d,c.message||"")}(o);n=new GE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zf(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):_e.min(),a=new hn({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ou(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zf(t,r.document),s=r.readTime?Kn(r.readTime):_e.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zf(t,r.document),s=r.removedTargetIds||[];n=new ou([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SR(i,s),a=r.targetId;n=new KE(a,o)}}return n}function UR(t,e){let n;if(e instanceof Ga)n={update:Kv(t,e.key,e.value)};else if(e instanceof am)n={delete:bd(t,e.key)};else if(e instanceof Ki)n={update:Kv(t,e.key,e.data),updateMask:GR(e.fieldMask)};else{if(!(e instanceof bR))return ve();n={verify:bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ka)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function FR(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(_e.min())&&(o=Kn(s)),new ER(o,i.transformResults||[])}(n,e))):[]}function BR(t,e){return{documents:[XE(t,e.path)]}}function qR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XE(t,i);const s=function(c){if(c.length!==0)return ex(Ln.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:ns(f.field),direction:HR(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function zR(t){let e=MR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=ZE(h);return f instanceof Ln&&NE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Sa(rs(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ac(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new qu(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new qu(p,f)}(n.endAt)),aR(e,i,o,s,a,"F",l,c)}function $R(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rs(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rs(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rs(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rs(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>ZE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function HR(t){return OR[t]}function WR(t){return CR[t]}function KR(t){return LR[t]}function ns(t){return{fieldPath:t.canonicalString()}}function rs(t){return _t.fromServerFormat(t.fieldPath)}function ex(t){return t instanceof ft?function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(Ov(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(Ov(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:WR(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(i=>ex(i));return r.length===1?r[0]:{compositeFilter:{op:KR(n.op),filters:r}}}(t):ve()}function GR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=Et.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.ct=e}}function YR(t){const e=zR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.un=new JR}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ni.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class JR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Us(0)}static kn(){return new Us(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ea(r.mutation,i,In.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wr();const o=Zo(),a=function(){return Zo()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ki)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ea(d.mutation,c,d.mutation.getFieldMask(),dt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new eO(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zo();let i=new tt((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||In.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=VE();d.forEach(f=>{if(!s.has(f)){const p=$E(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(bi());let a=-1,l=s;return o.next(c=>se.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?se.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Se())).next(d=>({batchId:a,changes:ME(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Vo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Vo();return this.indexManager.getCollectionParents(e,s).next(a=>se.forEach(a,l=>{const c=function(h,f){return new Gs(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Dt.newInvalidDocument(d)))});let a=Vo();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ea(d.mutation,c,In.empty(),dt.now()),Sc(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:YR(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.overlays=new tt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=bi(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=bi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return se.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IR(n,r));let s=this.Ir.get(n);s===void 0&&(s=Se(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this.Tr=new St(yt.Er),this.dr=new St(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new Ge([])),r=new yt(n,e),i=new yt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new Ge([])),r=new yt(n,e),i=new yt(n,e+1);let s=Se();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(yt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(je);return n.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new yt(new pe(s),0);let a=new St(je);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),se.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const s=new yt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.Mr=e,this.docs=function(){return new tt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wr();const o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||qP(BP(d),r)<=0||(i.has(d.key)||Sc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aO(this)}getSize(e){return se.resolve(this.size)}}class aO extends ZR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.persistence=e,this.Nr=new Qs(n=>rm(n),im),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fm,this.targetCount=0,this.kr=Us.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Us(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zp(0),this.Kr=!1,this.Kr=!0,this.$r=new iO,this.referenceDelegate=e(this),this.Ur=new lO(this),this.indexManager=new XR,this.remoteDocumentCache=function(i){return new oO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new QR(n),this.Gr=new nO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new cO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class cO extends $P{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Jr=new fm,this.Yr=null}static Zr(e){return new hm(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ZS()?8:HP(Vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new fO;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Io()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Io()<=ke.DEBUG&&de("QueryEngine","Query:",ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Io()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):se.resolve())}Yi(e,n){if(Mv(n))return se.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zu(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,zu(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Mv(n)||i.isEqual(_e.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?se.resolve(null):(Io()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ts(n)),this.rs(e,o,n,FP(i,-1)).next(a=>a))})}ts(e,n){let r=new St(jE(e));return n.forEach((i,s)=>{Sc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Io()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ts(n)),this.Ji.getDocumentsMatchingQuery(e,n,ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(je),this._s=new Qs(s=>rm(s),im),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function pO(t,e,n,r){return new dO(t,e,n,r)}async function nx(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Se();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function mO(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=se.resolve();return f.forEach(v=>{p=p.next(()=>d.getEntry(l,v)).next(_=>{const x=c.docVersions.get(v);Ue(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rx(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function gO(t,e){const n=we(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Et.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(_,x,g){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&a.push(n.Ur.updateTargetData(s,p))});let l=wr(),c=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(yO(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(_e.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return se.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function yO(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function vO(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _O(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Id(t,e,n){const r=we(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ka(o))throw o;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Gv(t,e,n){const r=we(t);let i=_e.min(),s=Se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=we(l),f=h._s.get(d);return f!==void 0?se.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Se())).next(a=>(wO(r,uR(e),a),{documents:a,Ts:s})))}function wO(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Qv{constructor(){this.activeTargetIds=mR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EO{constructor(){this.so=new Qv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function eh(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class AO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=eh(),l=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(de("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Vi("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=TO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=eh();return new Promise((o,a)=>{const l=new yE;l.setWithCredentials(!0),l.listenOnce(vE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ru.NO_ERROR:const d=l.getResponseJson();de(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ru.TIMEOUT:de(Ct,`RPC '${e}' ${s} timed out`),a(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:const h=l.getStatus();if(de(Ct,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(x){const g=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(g)>=0?g:ne.UNKNOWN}(p.status);a(new fe(v,p.message))}else a(new fe(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{de(Ct,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);de(Ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=eh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EE(),a=wE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");de(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const v=new bO({Io:x=>{p?de(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(de(Ct,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),de(Ct,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),_=(x,g,m)=>{x.listen(g,E=>{try{m(E)}catch(y){setTimeout(()=>{throw y},0)}})};return _(h,Mo.EventType.OPEN,()=>{p||(de(Ct,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),_(h,Mo.EventType.CLOSE,()=>{p||(p=!0,de(Ct,`RPC '${e}' stream ${i} transport closed`),v.So())}),_(h,Mo.EventType.ERROR,x=>{p||(p=!0,Vi(Ct,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),_(h,Mo.EventType.MESSAGE,x=>{var g;if(!p){const m=x.data[0];Ue(!!m);const E=m,y=E.error||((g=E[0])===null||g===void 0?void 0:g.error);if(y){de(Ct,`RPC '${e}' stream ${i} received error:`,y);const k=y.status;let C=function(R){const b=ut[R];if(b!==void 0)return WE(b)}(k),S=y.message;C===void 0&&(C=ne.INTERNAL,S="Unknown error status: "+k+" with message "+y.message),p=!0,v.So(new fe(C,S)),h.close()}else de(Ct,`RPC '${e}' stream ${i} received:`,m),v.bo(m)}}),_(a,_E.STAT_EVENT,x=>{x.stat===gd.PROXY?de(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===gd.NOPROXY&&de(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return new jR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ix(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IO extends sx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=VR(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Kn(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ad(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=wd(l)?{documents:BR(s,l)}:{query:qR(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=QE(s,o.resumeToken);const c=xd(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=Hu(s,o.snapshotVersion.toTimestamp());const c=xd(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=$R(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ad(this.serializer),n.removeTarget=e,this.a_(n)}}class SO extends sx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FR(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ad(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Td(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(ne.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Td(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class NO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_r(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Gi(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.L_.add(4),await Ya(c),c.q_.set("Unknown"),c.L_.delete(4),await Oc(c)}(this))})}),this.q_=new NO(r,i)}}async function Oc(t){if(Gi(t))for(const e of t.B_)await e(!0)}async function Ya(t){for(const e of t.B_)await e(!1)}function ox(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ym(n)?gm(n):Ys(n).r_()&&mm(n,e))}function pm(t,e){const n=we(t),r=Ys(n);n.N_.delete(e),r.r_()&&ax(n,e),n.N_.size===0&&(r.r_()?r.o_():Gi(n)&&n.q_.set("Unknown"))}function mm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(t).A_(e)}function ax(t,e){t.Q_.xe(e),Ys(t).R_(e)}function gm(t){t.Q_=new RR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ys(t).start(),t.q_.v_()}function ym(t){return Gi(t)&&!Ys(t).n_()&&t.N_.size>0}function Gi(t){return we(t).L_.size===0}function lx(t){t.Q_=void 0}async function RO(t){t.q_.set("Online")}async function OO(t){t.N_.forEach((e,n)=>{mm(t,e)})}async function CO(t,e){lx(t),ym(t)?(t.q_.M_(e),gm(t)):t.q_.set("Unknown")}async function LO(t,e,n){if(t.q_.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wu(t,r)}else if(e instanceof ou?t.Q_.Ke(e):e instanceof KE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await rx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),ax(s,l);const h=new Br(d.target,l,c,d.sequenceNumber);mm(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Wu(t,r)}}async function Wu(t,e,n){if(!Ka(e))throw e;t.L_.add(1),await Ya(t),t.q_.set("Offline"),n||(n=()=>rx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Oc(t)})}function ux(t,e){return e().catch(n=>Wu(t,n,e))}async function Cc(t){const e=we(t),n=ii(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jO(e);)try{const i=await vO(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,DO(e,i)}catch(i){await Wu(e,i)}cx(e)&&fx(e)}function jO(t){return Gi(t)&&t.O_.length<10}function DO(t,e){t.O_.push(e);const n=ii(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cx(t){return Gi(t)&&!ii(t).n_()&&t.O_.length>0}function fx(t){ii(t).start()}async function MO(t){ii(t).p_()}async function VO(t){const e=ii(t);for(const n of t.O_)e.m_(n.mutations)}async function UO(t,e,n){const r=t.O_.shift(),i=lm.from(r,e,n);await ux(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cc(t)}async function FO(t,e){e&&ii(t).V_&&await async function(r,i){if(function(o){return kR(o)&&o!==ne.ABORTED}(i.code)){const s=r.O_.shift();ii(r).s_(),await ux(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Cc(r)}}(t,e),cx(t)&&fx(t)}async function Xv(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=Gi(n);n.L_.add(3),await Ya(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Oc(n)}async function BO(t,e){const n=we(t);e?(n.L_.delete(2),await Oc(n)):e||(n.L_.add(2),await Ya(n),n.q_.set("Unknown"))}function Ys(t){return t.K_||(t.K_=function(n,r,i){const s=we(n);return s.w_(),new IO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:RO.bind(null,t),Ro:OO.bind(null,t),mo:CO.bind(null,t),d_:LO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ym(t)?gm(t):t.q_.set("Unknown")):(await t.K_.stop(),lx(t))})),t.K_}function ii(t){return t.U_||(t.U_=function(n,r,i){const s=we(n);return s.w_(),new SO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MO.bind(null,t),mo:FO.bind(null,t),f_:VO.bind(null,t),g_:UO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Cc(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new vm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(t,e){if(_r("AsyncQueue",`${e}: ${t}`),Ka(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Vo(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.W_=new tt(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fs{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fs(e,n,Is.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class zO{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=we(n),s=i.queries;i.queries=Zv(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function Zv(){return new Qs(t=>LE(t),Ic)}async function hx(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new qO,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=_m(o,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&wm(n)}async function dx(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $O(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&wm(n)}function HO(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function wm(t){t.Y_.forEach(e=>{e.next()})}var Sd,e_;(e_=Sd||(Sd={})).ea="default",e_.Cache="cache";class px{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Sd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.key=e}}class gx{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=jE(e),this.Ra=new Is(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Jv,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Sc(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),x=!0):this.ga(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(p,v){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return _(p)-_(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Fs(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gx(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class KO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GO{constructor(e){this.key=e,this.va=!1}}class QO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Qs(a=>LE(a),Ic),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(pe.comparator),this.Na=new Map,this.La=new fm,this.Ba={},this.ka=new Map,this.qa=Us.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YO(t,e,n=!0){const r=xx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await yx(r,e,n,!0),i}async function XO(t,e){const n=xx(t);await yx(n,e,!0,!1)}async function yx(t,e,n,r){const i=await _O(t.localStore,Wn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ox(t.remoteStore,i),a}async function JO(t,e,n,r,i){t.Ka=(h,f,p)=>async function(_,x,g,m){let E=x.view.ma(g);E.ns&&(E=await Gv(_.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,E)));const y=m&&m.targetChanges.get(x.targetId),k=m&&m.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(E,_.isPrimaryClient,y,k);return n_(_,x.targetId,C.wa),C.snapshot}(t,h,f,p);const s=await Gv(t.localStore,e,!0),o=new WO(e,s.Ts),a=o.ma(s.documents),l=Qa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);n_(t,n,c.wa);const d=new KO(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function ZO(t,e,n){const r=we(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ic(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Id(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pm(r.remoteStore,i.targetId),kd(r,i.targetId)}).catch(Wa)):(kd(r,i.targetId),await Id(r.localStore,i.targetId,!0))}async function eC(t,e){const n=we(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pm(n.remoteStore,r.targetId))}async function tC(t,e,n){const r=lC(t);try{const i=await function(o,a){const l=we(o),c=dt.now(),d=a.reduce((p,v)=>p.add(v.key),Se());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=wr(),_=Se();return l.cs.getEntries(p,d).next(x=>{v=x,v.forEach((g,m)=>{m.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(x=>{h=x;const g=[];for(const m of a){const E=TR(m,h.get(m.key).overlayedDocument);E!=null&&g.push(new Ki(m.key,E,IE(E.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,g,a)}).next(x=>{f=x;const g=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:f.batchId,changes:ME(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new tt(je)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Xa(r,i.changes),await Cc(r.remoteStore)}catch(i){const s=_m(i,"Failed to persist write");n.reject(s)}}async function vx(t,e){const n=we(t);try{const r=await gO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ue(o.va):i.removedDocuments.size>0&&(Ue(o.va),o.va=!1))}),await Xa(n,r,e)}catch(r){await Wa(r)}}function t_(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&wm(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nC(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(pe.comparator);o=o.insert(s,Dt.newNoDocument(s,_e.min()));const a=Se().add(s),l=new Pc(_e.min(),new Map,new tt(je),o,a);await vx(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Em(r)}else await Id(r.localStore,e,!1).then(()=>kd(r,e,n)).catch(Wa)}async function rC(t,e){const n=we(t),r=e.batch.batchId;try{const i=await mO(n.localStore,e);wx(n,r,null),_x(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xa(n,i)}catch(i){await Wa(i)}}async function iC(t,e,n){const r=we(t);try{const i=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ue(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);wx(r,e,n),_x(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xa(r,i)}catch(i){await Wa(i)}}function _x(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wx(t,e,n){const r=we(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ex(t,r)})}function Ex(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Em(t))}function n_(t,e,n){for(const r of n)r instanceof mx?(t.La.addReference(r.key,e),sC(t,r)):r instanceof gx?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ex(t,r.key)):ve()}function sC(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Em(t))}function Em(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new GO(n)),t.Oa=t.Oa.insert(n,r),ox(t.remoteStore,new Br(Wn(sm(n.path)),r,"TargetPurposeLimboResolution",Zp.oe))}}async function Xa(t,e,n){const r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=dm.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=we(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>se.forEach(c,f=>se.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>se.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Ka(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,_)}}}(r.localStore,s))}async function oC(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await nx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new fe(ne.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xa(n,r.hs)}}function aC(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function xx(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nC.bind(null,e),e.Ca.d_=$O.bind(null,e.eventManager),e.Ca.$a=HO.bind(null,e.eventManager),e}function lC(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,e),e}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return pO(this.persistence,new hO,e.initialUser,this.serializer)}Ga(e){return new uO(hm.Zr,this.serializer)}Wa(e){return new EO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class Nd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oC.bind(null,this.syncEngine),await BO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zO}()}createDatastore(e){const n=Rc(e.databaseInfo.databaseId),r=function(s){return new AO(s)}(e.databaseInfo);return function(s,o,a,l){return new kO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new PO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>t_(this.syncEngine,n,0),function(){return Yv.D()?new Yv:new xO}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new QO(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=we(i);de("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ya(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nd.provider={build:()=>new Nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{de("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(de("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_m(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nh(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cC(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Xv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Xv(e.remoteStore,i)),t._onlineComponents=e}async function cC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await nh(t,new Ku)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await nh(t,new Ku);return t._offlineComponents}async function bx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await r_(t,new Nd))),t._onlineComponents}function fC(t){return bx(t).then(e=>e.syncEngine)}async function Ax(t){const e=await bx(t),n=e.eventManager;return n.onListen=YO.bind(null,e.syncEngine),n.onUnlisten=ZO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eC.bind(null,e.syncEngine),n}function hC(t,e,n={}){const r=new cr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Tx({next:f=>{d.Za(),o.enqueueAndForget(()=>dx(s,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new px(sm(a.path),d,{includeMetadataChanges:!0,_a:!0});return hx(s,h)}(await Ax(t),t.asyncQueue,e,n,r)),r.promise}function dC(t,e,n={}){const r=new cr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Tx({next:f=>{d.Za(),o.enqueueAndForget(()=>dx(s,h)),f.fromCache&&l.source==="server"?c.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new px(a,d,{includeMetadataChanges:!0,_a:!0});return hx(s,h)}(await Ax(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kx(t,e,n,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!pe.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o_(t){if(pe.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lc(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ix((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TE;switch(r.type){case"firstParty":return new jP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i_.get(n);r&&(de("ComponentProvider","Removing Datastore"),i_.delete(n),r.terminate())}(this),Promise.resolve()}}function Nx(t,e,n,r={}){var i;const s=(t=Qn(t,jc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=Rw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}t._authCredentials=new OP(new xE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class fr extends Tr{constructor(e,n,r){super(e,n,sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function nn(t,e,...n){if(t=pt(t),Sx("collection","path",e),t instanceof jc){const r=Ge.fromString(e,...n);return o_(r),new fr(t,null,r)}{if(!(t instanceof zt||t instanceof fr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return o_(r),new fr(t.firestore,null,r)}}function Ke(t,e,...n){if(t=pt(t),arguments.length===1&&(e=Jp.newId()),Sx("doc","path",e),t instanceof jc){const r=Ge.fromString(e,...n);return s_(r),new zt(t,null,new pe(r))}{if(!(t instanceof zt||t instanceof fr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return s_(r),new zt(t.firestore,t instanceof fr?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ix(this,"async_queue_retry"),this.Vu=()=>{const r=th();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ka(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=vm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Qi extends jc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l_(e),this._firestoreClient=void 0,await e}}}function Px(t,e){const n=typeof t=="object"?t:Up(),r=typeof t=="string"?t:"(default)",i=Ec(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kw("firestore");s&&Nx(i,...s)}return i}function Dc(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pC(t),t._firestoreClient}function pC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new GP(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ix(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uC(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(Et.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^__.*__$/;class gC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ga(e,this.data,n,this.fieldTransforms)}}function Rx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class xm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Rx(this.Cu)&&mC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rc(e)}Qu(e,n,r,i=!1){return new xm({Cu:e,methodName:n,qu:r,path:_t.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tm(t){const e=t._freezeSettings(),n=Rc(t._databaseId);return new yC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ox(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);jx("Data must be an object, but it was:",o,r);const a=Cx(r,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=_C(e,h,n);if(!o.contains(f))throw new fe(ne.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);EC(d,f)||d.push(f)}l=new In(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new gC(new hn(a),l,c)}class bm extends Vc{_toFieldTransform(e){return new _R(e.path,new ka)}isEqual(e){return e instanceof bm}}function vC(t,e,n,r=!1){return Am(n,t.Qu(r?4:3,e))}function Am(t,e){if(Lx(t=pt(t)))return jx("Unsupported field value:",e,t),Cx(t,e);if(t instanceof Vc)return function(r,i){if(!Rx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Am(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dt.fromDate(r);return{timestampValue:Hu(i.serializer,s)}}if(r instanceof dt){const s=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hu(i.serializer,s)}}if(r instanceof Uc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bi)return{bytesValue:QE(i.serializer,r._byteString)};if(r instanceof zt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return om(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Lc(r)}`)}(t,e)}function Cx(t,e){const n={};return bE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=Am(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Lx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Uc||t instanceof Bi||t instanceof zt||t instanceof Vc||t instanceof Fc)}function jx(t,e,n){if(!Lx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _C(t,e,n){if((e=pt(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return Dx(t,e);throw Gu("Field path arguments must be of type string or ",t,!1,void 0,n)}const wC=new RegExp("[~\\*/\\[\\]]");function Dx(t,e,n){if(e.search(wC)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mc(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new fe(ne.INVALID_ARGUMENT,a+t+l)}function EC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xC extends Mx{data(){return super.data()}}function Bc(t,e){return typeof e=="string"?Dx(t,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class qc extends Im{}function Rn(t,e,...n){let r=[];e instanceof Im&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zc).length,a=s.filter(l=>l instanceof Ja).length;if(o>1||o>0&&a>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ja extends qc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ja(e,n,r)}_apply(e){const n=this._parse(e);return Ux(e._query,n),new Tr(e.firestore,e.converter,Ed(e._query,n))}_parse(e){const n=Tm(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c_(h,d);const p=[];for(const v of h)p.push(u_(l,s,v));f={arrayValue:{values:p}}}else f=u_(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c_(h,d),f=vC(a,o,h,d==="in"||d==="not-in");return ft.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fn(t,e,n){const r=e,i=Bc("where",t);return Ja._create(i,r,n)}class zc extends Im{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Ux(o,l),o=Ed(o,l)}(e._query,n),new Tr(e.firestore,e.converter,Ed(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $c extends qc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $c(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sa(s,o)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Gs(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function hr(t,e="asc"){const n=e,r=Bc("orderBy",t);return $c._create(r,n)}class Hc extends qc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hc(e,n,r)}_apply(e){return new Tr(e.firestore,e.converter,zu(e._query,this._limit,this._limitType))}}function Vx(t){return Hc._create("limit",t,"F")}function u_(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CE(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!pe.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rv(t,new pe(r))}if(n instanceof zt)return Rv(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(n)}.`)}function c_(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ux(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Fx{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new Fc(s)}convertGeoPoint(e){return new Uc(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){const n=ri(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ue(tx(r));const i=new Ds(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||_r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sm extends Mx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ta extends Sm{data(e={}){return super.data(e)}}class qx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ta(this._firestore,this._userDataWriter,r.key,r,new gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:bC(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){t=Qn(t,zt);const e=Qn(t.firestore,Qi);return hC(Dc(e),t._key).then(n=>AC(e,t,n))}class zx extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function On(t){t=Qn(t,Tr);const e=Qn(t.firestore,Qi),n=Dc(e),r=new zx(e);return TC(t._query),dC(n,t._query).then(i=>new qx(e,r,t,i))}function Tn(t,e,n){t=Qn(t,zt);const r=Qn(t.firestore,Qi),i=Bx(t.converter,e,n);return Wc(r,[Ox(Tm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function Ra(t){return Wc(Qn(t.firestore,Qi),[new am(t._key,Pn.none())])}function Qu(t,e){const n=Qn(t.firestore,Qi),r=Ke(t),i=Bx(t.converter,e);return Wc(n,[Ox(Tm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function Wc(t,e){return function(r,i){const s=new cr;return r.asyncQueue.enqueueAndForget(async()=>tC(await fC(r),i,s)),s.promise}(Dc(t),e)}function AC(t,e,n){const r=n.docs.get(e._key),i=new zx(t);return new Sm(t,i,e._key,r,new gs(n.hasPendingWrites,n.fromCache),e.converter)}function rn(){return new bm("serverTimestamp")}(function(e,n=!0){(function(i){Ws=i})(Wi),Li(new ti("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Qi(new CP(r.getProvider("auth-internal")),new MP(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$n(Iv,"4.7.3",e),$n(Iv,"4.7.3","esm2017")})();const f_=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Fx,Bytes:Bi,CollectionReference:fr,DocumentReference:zt,DocumentSnapshot:Sm,FieldPath:Mc,FieldValue:Vc,Firestore:Qi,FirestoreError:fe,GeoPoint:Uc,Query:Tr,QueryCompositeFilterConstraint:zc,QueryConstraint:qc,QueryDocumentSnapshot:ta,QueryFieldFilterConstraint:Ja,QueryLimitConstraint:Hc,QueryOrderByConstraint:$c,QuerySnapshot:qx,SnapshotMetadata:gs,Timestamp:dt,VectorValue:Fc,_AutoId:Jp,_ByteString:Et,_DatabaseId:Ds,_DocumentKey:pe,_EmptyAuthCredentialsProvider:TE,_FieldPath:_t,_cast:Qn,_logWarn:Vi,_validateIsNotUsedTogether:kx,addDoc:Qu,collection:nn,connectFirestoreEmulator:Nx,deleteDoc:Ra,doc:Ke,ensureFirestoreConfigured:Dc,executeWrite:Wc,getDoc:bn,getDocs:On,getFirestore:Px,limit:Vx,orderBy:hr,query:Rn,serverTimestamp:rn,setDoc:Tn,where:Fn},Symbol.toStringTag,{value:"Module"}));var IC="firebase",SC="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(IC,SC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebasestorage.googleapis.com",Hx="storageBucket",kC=2*60*1e3,NC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Xn{constructor(e,n,r=0){super(rh(e),`Firebase Storage: ${n} (${rh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function rh(t){return"storage/"+t}function km(){const t="An unknown error occurred, please check the error payload for server response.";return new st(it.UNKNOWN,t)}function PC(t){return new st(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RC(t){return new st(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OC(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(it.UNAUTHENTICATED,t)}function CC(){return new st(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LC(t){return new st(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jC(){return new st(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DC(){return new st(it.CANCELED,"User canceled the upload/download.")}function MC(t){return new st(it.INVALID_URL,"Invalid URL '"+t+"'.")}function VC(t){return new st(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UC(){return new st(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hx+"' property when initializing the app?")}function FC(){return new st(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BC(){return new st(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qC(t){return new st(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pd(t){return new st(it.INVALID_ARGUMENT,t)}function Wx(){return new st(it.APP_DELETED,"The Firebase app was deleted.")}function zC(t){return new st(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function na(t,e){return new st(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function So(t){throw new st(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sn.makeFromUrl(e,n)}catch{return new sn(e,"")}if(r.path==="")return r;throw VC(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(y){y.path_=decodeURIComponent(y.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},_=n===$x?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",g=new RegExp(`^https?://${_}/${i}/${x}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:c},{regex:g,indices:{bucket:1,path:2},postModify:c}];for(let y=0;y<E.length;y++){const k=E[y],C=k.regex.exec(e);if(C){const S=C[k.indices.bucket];let w=C[k.indices.path];w||(w=""),r=new sn(S,w),k.postModify(r);break}}if(r==null)throw MC(e);return r}}class $C{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,...g){if(c){f();return}if(x){f(),d.call(null,x,...g);return}if(l()||o){f(),d.call(null,x,...g);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let v=!1;function _(x){v||(v=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function WC(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){return t!==void 0}function GC(t){return typeof t=="object"&&!Array.isArray(t)}function Nm(t){return typeof t=="string"||t instanceof String}function h_(t){return Pm()&&t instanceof Blob}function Pm(){return typeof Blob<"u"}function d_(t,e,n,r){if(r<e)throw Pd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Pd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Kx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ki.NO_ERROR,l=s.getStatus();if(!a||QC(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ki.ABORT;r(!1,new Vl(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Vl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());KC(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=km();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Wx():DC();o(l)}else{const l=jC();o(l)}};this.canceled_?n(!1,new Vl(!1,null,!0)):this.backoffId_=HC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XC(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JC(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZC(t,e){e&&(t["X-Firebase-GMPID"]=e)}function e4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function t4(t,e,n,r,i,s,o=!0){const a=Kx(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return ZC(c,e),XC(c,n),JC(c,s),e4(c,r),new YC(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r4(...t){const e=n4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Pm())return new Blob(t);throw new st(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){if(typeof atob>"u")throw qC("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ih{constructor(e,n){this.data=e,this.contentType=n||null}}function o4(t,e){switch(t){case Bn.RAW:return new ih(Gx(e));case Bn.BASE64:case Bn.BASE64URL:return new ih(Qx(t,e));case Bn.DATA_URL:return new ih(l4(e),u4(e))}throw km()}function Gx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function a4(t){let e;try{e=decodeURIComponent(t)}catch{throw na(Bn.DATA_URL,"Malformed data URL.")}return Gx(e)}function Qx(t,e){switch(t){case Bn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw na(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw na(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s4(e)}catch(i){throw i.message.includes("polyfill")?i:na(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Yx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw na(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function l4(t){const e=new Yx(t);return e.base64?Qx(Bn.BASE64,e.rest):a4(e.rest)}function u4(t){return new Yx(t).contentType}function c4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){let r=0,i="";h_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(h_(this.data_)){const r=this.data_,i=i4(r,e,n);return i===null?null:new Mr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mr(r,!0)}}static getBlob(...e){if(Pm()){const n=e.map(r=>r instanceof Mr?r.data_:r);return new Mr(r4.apply(null,n))}else{const n=e.map(o=>Nm(o)?o4(Bn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Mr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){let e;try{e=JSON.parse(t)}catch{return null}return GC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Jx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e){return e}class Ft{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||d4}}let Ul=null;function p4(t){return!Nm(t)||t.length<2?t:Jx(t)}function Zx(){if(Ul)return Ul;const t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(s,o){return p4(o)}const n=new Ft("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ft("size");return i.xform=r,t.push(i),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),Ul=t,Ul}function m4(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new sn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function g4(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return m4(r,t),r}function eT(t,e,n){const r=Xx(e);return r===null?null:g4(t,r,n)}function y4(t,e,n,r){const i=Xx(e);if(i===null||!Nm(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=Rm(f,n,r),v=Kx({alt:"media",token:c});return p+v})[0]}function v4(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class tT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){if(!t)throw km()}function _4(t,e){function n(r,i){const s=eT(t,i,e);return nT(s!==null),s}return n}function w4(t,e){function n(r,i){const s=eT(t,i,e);return nT(s!==null),y4(s,i,t.host,t._protocol)}return n}function rT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=CC():i=OC():n.getStatus()===402?i=RC(t.bucket):n.getStatus()===403?i=LC(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function E4(t){const e=rT(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=PC(t.path)),s.serverResponse=i.serverResponse,s}return n}function x4(t,e,n){const r=e.fullServerUrl(),i=Rm(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new tT(i,s,w4(t,n),o);return a.errorHandler=E4(e),a}function T4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function b4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=T4(null,e)),r}function A4(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let y=0;y<2;y++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=b4(e,r,i),d=v4(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Mr.getBlob(h,r,f);if(p===null)throw FC();const v={name:c.fullPath},_=Rm(s,t.host,t._protocol),x="POST",g=t.maxUploadRetryTime,m=new tT(_,x,_4(t,n),g);return m.urlParams=v,m.headers=o,m.body=p.uploadData(),m.errorHandler=rT(e),m}class I4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw So("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw So("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw So("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw So("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw So("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class S4 extends I4{initXhr(){this.xhr_.responseType="text"}}function iT(){return new S4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jx(this._location.path)}get storage(){return this._service}get parent(){const e=f4(this._location.path);if(e===null)return null;const n=new sn(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zC(e)}}function k4(t,e,n){t._throwIfRoot("uploadBytes");const r=A4(t.storage,t._location,Zx(),new Mr(e,!0),n);return t.storage.makeRequestWithTokens(r,iT).then(i=>({metadata:i,ref:t}))}function N4(t){t._throwIfRoot("getDownloadURL");const e=x4(t.storage,t._location,Zx());return t.storage.makeRequestWithTokens(e,iT).then(n=>{if(n===null)throw BC();return n})}function P4(t,e){const n=h4(t._location.path,e),r=new sn(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){return/^[A-Za-z]+:\/\//.test(t)}function O4(t,e){return new qi(t,e)}function sT(t,e){if(t instanceof Om){const n=t;if(n._bucket==null)throw UC();const r=new qi(n,n._bucket);return e!=null?sT(r,e):r}else return e!==void 0?P4(t,e):t}function C4(t,e){if(e&&R4(e)){if(t instanceof Om)return O4(t,e);throw Pd("To use ref(service, url), the first argument must be a Storage instance.")}else return sT(t,e)}function p_(t,e){const n=e==null?void 0:e[Hx];return n==null?null:sn.makeFromBucketSpec(n,t)}function L4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Rw(i,t.app.options.projectId))}class Om{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=$x,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kC,this._maxUploadRetryTime=NC,this._requests=new Set,i!=null?this._bucket=sn.makeFromBucketSpec(i,this._host):this._bucket=p_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=p_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new $C(Wx());{const o=t4(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const m_="@firebase/storage",g_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="storage";function aT(t,e,n){return t=pt(t),k4(t,e,n)}function lT(t){return t=pt(t),N4(t)}function uT(t,e){return t=pt(t),C4(t,e)}function j4(t=Up(),e){t=pt(t);const r=Ec(t,oT).getImmediate({identifier:e}),i=kw("storage");return i&&D4(r,...i),r}function D4(t,e,n,r={}){L4(t,e,n,r)}function M4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Om(n,r,i,e,Wi)}function V4(){Li(new ti(oT,M4,"PUBLIC").setMultipleInstances(!0)),$n(m_,g_,""),$n(m_,g_,"esm2017")}V4();const U4={apiKey:"AIzaSyDp0j4MPifEnIxg7u_LWmO6b9c8Lrqaj1I",authDomain:"atttt-a94d2.firebaseapp.com",databaseURL:"https://atttt-a94d2-default-rtdb.firebaseio.com",projectId:"atttt-a94d2",storageBucket:"atttt-a94d2.appspot.com",messagingSenderId:"60550797344",appId:"1:60550797344:web:140953870f1d6292100445",measurementId:"G-28GWFGSV40"},Cm=Lw(U4),ko=PP(Cm),Ne=Px(Cm),cT=j4(Cm),F4=new nr,sh="hswnbrys@gmail.com",fT=J.createContext(null),fi=()=>{const t=J.useContext(fT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},B4=({children:t})=>{const[e,n]=J.useState(null),[r,i]=J.useState(null),[s,o]=J.useState(!0),a=async _=>{const x=await bn(Ke(Ne,"users",_));x.exists()&&i({id:x.id,...x.data()})};J.useEffect(()=>vN(ko,async x=>{n(x),x?await a(x.uid):i(null),o(!1)}),[]);const l=async(_,x)=>{await dN(ko,_,x)},c=async(_,x,g)=>{const{user:m}=await hN(ko,_,x);await mN(m,{displayName:g});const E=_===sh;await Tn(Ke(Ne,"users",m.uid),{name:g,email:_,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(g)}&background=171717&color=fff`,bio:"",role:E?"admin":"user",isVerified:E,verifiedAt:E?rn():null,isBanned:!1,createdAt:rn()}),await a(m.uid)},d=async()=>{const{user:_}=await UN(ko,F4);if(!(await bn(Ke(Ne,"users",_.uid))).exists()){const g=_.email===sh;await Tn(Ke(Ne,"users",_.uid),{name:_.displayName||"",email:_.email,avatar:_.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(_.displayName||"User")}&background=171717&color=fff`,bio:"",role:g?"admin":"user",isVerified:g,verifiedAt:g?rn():null,isBanned:!1,createdAt:rn()})}await a(_.uid)},h=async()=>{await _N(ko),i(null)},f=async _=>{e&&(await Tn(Ke(Ne,"users",e.uid),_,{merge:!0}),await a(e.uid))},p=(r==null?void 0:r.role)==="admin"||(e==null?void 0:e.email)===sh,v={currentUser:e,userData:r,loading:s,isAdmin:p,login:l,register:c,loginWithGoogle:d,logout:h,updateUserProfile:f};return T.jsx(fT.Provider,{value:v,children:!s&&t})},y_={home:{ar:"",en:"Home",ku:""},login:{ar:" ",en:"Login",ku:""},register:{ar:" ",en:"Register",ku:""},logout:{ar:" ",en:"Logout",ku:""},profile:{ar:" ",en:"Profile",ku:""},myArticles:{ar:"",en:"My Articles",ku:""},adminPanel:{ar:" ",en:"Admin Panel",ku:" "},search:{ar:"",en:"Search",ku:""},searchPlaceholder:{ar:"  ...",en:"Search articles...",ku:"  ..."},welcome:{ar:"   ",en:"Welcome to Hasndel",ku:"  "},welcomeDesc:{ar:"   ",en:"Arabic platform for articles and blogs",ku:"     "},startWriting:{ar:" ",en:"Start Writing",ku:"   "},latest:{ar:"",en:"Latest",ku:""},trending:{ar:" ",en:"Trending",ku:""},noArticles:{ar:"   ",en:"No articles yet",ku:"  "},beFirstToWrite:{ar:"    !",en:"Be the first to write an article!",ku:"     !"},writeArticle:{ar:" ",en:"Write Article",ku:" "},title:{ar:"",en:"Title",ku:""},content:{ar:"",en:"Content",ku:""},tags:{ar:"",en:"Tags",ku:""},publish:{ar:"",en:"Publish",ku:""},save:{ar:"",en:"Save",ku:""},saveChanges:{ar:" ",en:"Save Changes",ku:" "},delete:{ar:"",en:"Delete",ku:""},edit:{ar:"",en:"Edit",ku:""},articleNotFound:{ar:"  ",en:"Article not found",ku:" "},comments:{ar:"",en:"Comments",ku:""},writeComment:{ar:" ...",en:"Write a comment...",ku:" ..."},send:{ar:"",en:"Send",ku:""},email:{ar:" ",en:"Email",ku:""},password:{ar:" ",en:"Password",ku:" "},confirmPassword:{ar:"  ",en:"Confirm Password",ku:"  "},name:{ar:"",en:"Name",ku:""},fullName:{ar:" ",en:"Full Name",ku:" "},welcomeBack:{ar:" ",en:"Welcome Back",ku:""},loginToAccount:{ar:"  ",en:"Login to continue",ku:"   "},createAccount:{ar:"  ",en:"Create Account",ku:" "},joinUs:{ar:"  ",en:"Join us today",ku:"   "},continueWithGoogle:{ar:"  Google",en:"Continue with Google",ku:"  "},or:{ar:"",en:"or",ku:""},dontHaveAccount:{ar:"  ",en:"Don't have an account?",ku:" "},alreadyHaveAccount:{ar:"  ",en:"Already have an account?",ku:"  "},bio:{ar:" ",en:"Bio",ku:" "},bioPlaceholder:{ar:"    ...",en:"Write a short bio about yourself...",ku:"   ..."},instagram:{ar:" ",en:"Instagram",ku:""},updateProfile:{ar:"  ",en:"Update Profile",ku:" "},profileUpdated:{ar:"    !",en:"Profile updated successfully!",ku:"   !"},saving:{ar:" ...",en:"Saving...",ku:"..."},changePhoto:{ar:"    ",en:"Click to change photo",ku:"    "},aboutUs:{ar:" ",en:"About Us",ku:" "},contactUs:{ar:" ",en:"Contact Us",ku:"  "},quickLinks:{ar:" ",en:"Quick Links",ku:" "},team:{ar:" ",en:"Team",ku:""},madeWith:{ar:" ",en:"Made with",ku:" "},inHasndel:{ar:" ",en:"in Hasndel",ku:" "},platformDesc:{ar:"                .",en:"Hasndel is an Arabic platform for articles and blogs, where you can share your ideas and read various articles in different fields.",ku:"               ."},contributors:{ar:"",en:"Contributors",ku:""},founder:{ar:"",en:"Founder",ku:""},founderAndDev:{ar:"  ",en:"Founder & Lead Developer",ku:"   "},developer:{ar:" ",en:"Developer & Contributor",ku:"  "},yearsOld:{ar:"",en:"years old",ku:""},foundedIn:{ar:" ",en:"Founded",ku:""},hasndilTeam:{ar:" ",en:"Hasndel Team",ku:" "},teamDesc:{ar:"        -     ",en:"Meet the team behind Hasndel - an Arabic platform for articles and premium content",ku:"    -       "},aboutPlatform:{ar:"  ",en:"About Hasndel",ku:" "},wantToContribute:{ar:"     ",en:"Want to contribute to Hasndel?",ku:"    "},startWritingNow:{ar:"  ",en:"Start Writing Now",ku:"    "},backToTeam:{ar:"  ",en:"Back to Team",ku:"  "},skills:{ar:"",en:"Skills",ku:""},joinedIn:{ar:" ",en:"Joined in",ku:" "},contributorNotFound:{ar:"  ",en:"Contributor not found",ku:" "},back:{ar:"",en:"Back",ku:""},backToHome:{ar:" ",en:"Back to Home",ku:"  "},loading:{ar:" ...",en:"Loading...",ku:"..."},noResults:{ar:"  ",en:"No results",ku:"  "},arabic:{ar:"",en:"Arabic",ku:""},english:{ar:"English",en:"English",ku:"English"},kurdish:{ar:"",en:"Kurdish",ku:""},dashboard:{ar:" ",en:"Dashboard",ku:""},publishedArticles:{ar:" ",en:"Published Articles",ku:" "},pendingArticles:{ar:"  ",en:"Pending Articles",ku:" "},noArticlesYet:{ar:"   ",en:"No articles yet",ku:"    "},writeFirstArticle:{ar:"  ",en:"Write your first article",ku:"  "}},hT=J.createContext(null),Xs=()=>{const t=J.useContext(hT);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},q4=({children:t})=>{const[e,n]=J.useState(()=>localStorage.getItem("language")||"ar"),r=o=>{n(o),localStorage.setItem("language",o),document.documentElement.dir=o==="en"?"ltr":"rtl",document.documentElement.lang=o};J.useEffect(()=>{document.documentElement.dir=e==="en"?"ltr":"rtl",document.documentElement.lang=e},[e]);const i=o=>y_[o]?y_[o][e]:o,s=e==="en"?"ltr":"rtl";return T.jsx(hT.Provider,{value:{language:e,setLanguage:r,t:i,dir:s},children:t})};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pe=(t,e)=>{const n=J.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>J.createElement("svg",{ref:d,...z4,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$4(t)}`,a].join(" "),...c},[...e.map(([h,f])=>J.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Pe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Pe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Pe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Pe("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Pe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Pe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Pe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Pe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Pe("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iL=()=>{const{currentUser:t,userData:e,logout:n,isAdmin:r}=fi(),{language:i,setLanguage:s,t:o}=Xs(),a=Yn(),[l,c]=J.useState(!1),[d,h]=J.useState(!1),[f,p]=J.useState(!1),[v,_]=J.useState(""),x=async()=>{await n(),a("/")},g=m=>{m.preventDefault(),v.trim()&&(a(`/search?q=${encodeURIComponent(v.trim())}`),_(""))};return T.jsx("nav",{className:"bg-white border-b border-gray-100 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs(Ae,{to:"/",className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"text-white font-bold text-xl",children:"H"})}),T.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:""})]}),T.jsx("form",{onSubmit:g,className:"hidden md:flex flex-1 max-w-md mx-8",children:T.jsxs("div",{className:"relative w-full",children:[T.jsx("input",{type:"text",placeholder:o("searchPlaceholder"),value:v,onChange:m=>_(m.target.value),className:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:border-gray-400 outline-none text-sm bg-gray-50"}),T.jsx(Ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})}),T.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[T.jsxs("div",{className:"relative",children:[T.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-1 text-gray-600 hover:text-gray-900 text-sm",children:[T.jsx(Q4,{className:"w-4 h-4"}),T.jsx("span",{children:i==="ar"?"":i==="en"?"EN":""})]}),f&&T.jsxs("div",{className:"absolute left-0 mt-2 w-32 bg-white rounded-lg shadow-lg py-1 border z-50",children:[T.jsx("button",{onClick:()=>{s("ar"),p(!1)},className:`w-full text-right px-4 py-2 text-sm hover:bg-gray-50 ${i==="ar"?"text-gray-900 font-medium":"text-gray-600"}`,children:""}),T.jsx("button",{onClick:()=>{s("en"),p(!1)},className:`w-full text-right px-4 py-2 text-sm hover:bg-gray-50 ${i==="en"?"text-gray-900 font-medium":"text-gray-600"}`,children:"English"}),T.jsx("button",{onClick:()=>{s("ku"),p(!1)},className:`w-full text-right px-4 py-2 text-sm hover:bg-gray-50 ${i==="ku"?"text-gray-900 font-medium":"text-gray-600"}`,children:""})]})]}),t?T.jsxs(T.Fragment,{children:[T.jsxs(Ae,{to:"/write",className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[T.jsx(Xu,{className:"w-5 h-5"}),T.jsx("span",{children:o("writeArticle")})]}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>h(!d),className:"flex items-center gap-2",children:T.jsx("img",{src:(e==null?void 0:e.avatar)||`https://ui-avatars.com/api/?name=${t.email}`,alt:"Avatar",className:"w-9 h-9 rounded-full object-cover border-2 border-gray-200"})}),d&&T.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 border",children:[T.jsxs("div",{className:"px-4 py-2 border-b",children:[T.jsx("p",{className:"font-medium text-gray-900 truncate",children:e==null?void 0:e.name}),T.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.email})]}),T.jsxs(Ae,{to:"/profile",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>h(!1),children:[T.jsx(vT,{className:"w-4 h-4"}),T.jsx("span",{children:o("profile")})]}),T.jsxs(Ae,{to:"/dashboard",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50",onClick:()=>h(!1),children:[T.jsx(Xu,{className:"w-4 h-4"}),T.jsx("span",{children:o("myArticles")})]}),r&&T.jsxs(Ae,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 text-amber-600 hover:bg-amber-50",onClick:()=>h(!1),children:[T.jsx(Fo,{className:"w-4 h-4"}),T.jsx("span",{children:o("adminPanel")})]}),T.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-gray-50 w-full",children:[T.jsx(X4,{className:"w-4 h-4"}),T.jsx("span",{children:o("logout")})]})]})]})]}):T.jsxs(T.Fragment,{children:[T.jsx(Ae,{to:"/login",className:"text-gray-600 hover:text-gray-900 transition-colors",children:o("login")}),T.jsx(Ae,{to:"/register",className:"btn-primary text-sm py-2",children:o("register")})]})]}),T.jsx("button",{onClick:()=>c(!l),className:"md:hidden p-2",children:l?T.jsx(Oa,{className:"w-6 h-6"}):T.jsx(Z4,{className:"w-6 h-6"})})]}),l&&T.jsxs("div",{className:"md:hidden py-4 border-t",children:[T.jsx("form",{onSubmit:g,className:"mb-4",children:T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",placeholder:"  ...",value:v,onChange:m=>_(m.target.value),className:"w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:border-gray-400 outline-none text-sm bg-gray-50"}),T.jsx(Ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})}),t?T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-3 px-2 py-2",children:[T.jsx("img",{src:e==null?void 0:e.avatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:e==null?void 0:e.name}),T.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]}),T.jsx(Ae,{to:"/write",className:"block px-2 py-2 text-gray-700 hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:" "}),T.jsx(Ae,{to:"/profile",className:"block px-2 py-2 text-gray-700 hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:" "}),T.jsx(Ae,{to:"/dashboard",className:"block px-2 py-2 text-gray-700 hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:""}),T.jsx("button",{onClick:x,className:"block w-full text-right px-2 py-2 text-red-600 hover:bg-gray-50 rounded-lg",children:" "})]}):T.jsxs("div",{className:"space-y-2",children:[T.jsx(Ae,{to:"/login",className:"block px-2 py-2 text-gray-700 hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:" "}),T.jsx(Ae,{to:"/register",className:"block px-2 py-2 text-gray-900 font-medium hover:bg-gray-50 rounded-lg",onClick:()=>c(!1),children:" "})]})]})]})})},sL=()=>{const{t}=Xs();return T.jsx("footer",{className:"bg-white border-t mt-auto",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"col-span-1 md:col-span-2",children:[T.jsxs(Ae,{to:"/",className:"flex items-center gap-2 mb-4",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"text-white font-bold text-xl",children:"H"})}),T.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Hasndel"})]}),T.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t("platformDesc")})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:t("quickLinks")}),T.jsxs("ul",{className:"space-y-2",children:[T.jsx("li",{children:T.jsx(Ae,{to:"/",className:"text-gray-600 hover:text-gray-900 text-sm",children:t("home")})}),T.jsx("li",{children:T.jsx(Ae,{to:"/write",className:"text-gray-600 hover:text-gray-900 text-sm",children:t("writeArticle")})}),T.jsx("li",{children:T.jsx(Ae,{to:"/tags",className:"text-gray-600 hover:text-gray-900 text-sm",children:t("tags")})}),T.jsx("li",{children:T.jsx(Ae,{to:"/contributors",className:"text-gray-600 hover:text-gray-900 text-sm",children:t("team")})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:t("contactUs")}),T.jsx("ul",{className:"space-y-2",children:T.jsx("li",{children:T.jsx("a",{href:"mailto:contact@hasndel.com",className:"text-gray-600 hover:text-gray-900 text-sm",children:"contact@hasndel.com"})})})]})]}),T.jsx("div",{className:"border-t mt-8 pt-8 text-center",children:T.jsxs("p",{className:"text-gray-600 text-sm flex items-center justify-center gap-1",children:[t("madeWith")," ",T.jsx(Lm,{className:"w-4 h-4 text-red-500 fill-red-500"})," ",t("inHasndel"),"  ",new Date().getFullYear()]})})]})})},_T=({article:t})=>{var n;const e=r=>new Date(r).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"});return T.jsxs(Ae,{to:`/article/${t.id}`,className:"card block overflow-hidden group",children:[T.jsx("div",{className:"aspect-[4/3] sm:aspect-video overflow-hidden bg-gray-100",children:T.jsx("img",{src:t.imageURL||"https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=800",alt:t.title,className:"w-full h-full object-contain sm:object-cover group-hover:scale-105 transition-transform duration-300"})}),T.jsxs("div",{className:"p-5",children:[T.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(n=t.tags)==null?void 0:n.slice(0,3).map((r,i)=>T.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:r},i))}),T.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-gray-600 transition-colors",children:t.title}),T.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T.jsx("img",{src:t.authorAvatar||`https://ui-avatars.com/api/?name=${t.authorName}`,alt:t.authorName,className:"w-8 h-8 rounded-full object-cover"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("p",{className:"text-sm font-medium text-gray-900 flex items-center gap-1",children:[t.authorName,t.authorVerified&&T.jsx(Yu,{className:"w-4 h-4 text-blue-500 fill-blue-500"})]}),T.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[T.jsx(Kc,{className:"w-3 h-3"}),e(t.createdAt)]})]})]}),T.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t",children:[T.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[T.jsx(Lm,{className:"w-4 h-4"}),T.jsx("span",{children:t.likesCount||0})]}),T.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-sm",children:[T.jsx(gT,{className:"w-4 h-4"}),T.jsx("span",{children:t.commentsCount||0})]})]})]})]})},Me=({className:t=""})=>T.jsx("div",{className:`shimmer rounded ${t}`}),wT=()=>T.jsxs("div",{className:"card p-4",children:[T.jsx(Me,{className:"w-full h-48 rounded-lg mb-4"}),T.jsxs("div",{className:"space-y-3",children:[T.jsx(Me,{className:"h-4 w-3/4"}),T.jsx(Me,{className:"h-6 w-full"}),T.jsx(Me,{className:"h-4 w-1/2"}),T.jsxs("div",{className:"flex gap-2 pt-2",children:[T.jsx(Me,{className:"h-8 w-8 rounded-full"}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx(Me,{className:"h-3 w-24"}),T.jsx(Me,{className:"h-3 w-16"})]})]})]})]}),oL=()=>T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsx(Me,{className:"h-4 w-20 mb-6"}),T.jsxs("div",{className:"space-y-4 mb-8",children:[T.jsx(Me,{className:"h-6 w-1/4"}),T.jsx(Me,{className:"h-10 w-full"}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx(Me,{className:"h-12 w-12 rounded-full"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx(Me,{className:"h-4 w-32"}),T.jsx(Me,{className:"h-3 w-24"})]})]})]}),T.jsx(Me,{className:"w-full h-80 rounded-xl mb-8"}),T.jsxs("div",{className:"space-y-4",children:[T.jsx(Me,{className:"h-4 w-full"}),T.jsx(Me,{className:"h-4 w-full"}),T.jsx(Me,{className:"h-4 w-3/4"}),T.jsx(Me,{className:"h-4 w-full"}),T.jsx(Me,{className:"h-4 w-5/6"})]})]}),ET=()=>T.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>T.jsxs("div",{className:"card p-4 flex gap-4",children:[T.jsx(Me,{className:"w-40 h-28 rounded-lg flex-shrink-0"}),T.jsxs("div",{className:"flex-1 space-y-3",children:[T.jsx(Me,{className:"h-5 w-3/4"}),T.jsx(Me,{className:"h-4 w-1/4"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Me,{className:"h-6 w-16 rounded-full"}),T.jsx(Me,{className:"h-6 w-16 rounded-full"})]})]})]},t))}),aL=()=>{const{t}=Xs(),[e,n]=J.useState([]),[r,i]=J.useState(!0),[s,o]=J.useState("latest");J.useEffect(()=>{a()},[s]);const a=async()=>{var l;i(!0);try{const c=nn(Ne,"articles"),d=Rn(c,Fn("status","==","approved"),hr(s==="trending"?"likesCount":"createdAt","desc"),Vx(12)),h=await On(d),f=[];for(const p of h.docs){const v=p.data();let _=" ",x="",g=!1;if(v.authorId){const m=await bn(Ke(Ne,"users",v.authorId));if(m.exists()){const E=m.data();_=E.name,x=E.avatar,g=E.isVerified||E.role==="admin"}}f.push({id:p.id,...v,authorName:_,authorAvatar:x,authorVerified:g,createdAt:((l=v.createdAt)==null?void 0:l.toDate())||new Date})}n(f)}catch(c){console.error("Error fetching articles:",c)}finally{i(!1)}};return T.jsxs("div",{className:"min-h-screen",children:[T.jsx("section",{className:"border-b border-gray-100 py-16 md:py-24",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[T.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-gray-900",children:t("welcome")}),T.jsx("p",{className:"text-lg md:text-xl text-gray-500 max-w-2xl mx-auto mb-8",children:t("welcomeDesc")}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[T.jsxs(Ae,{to:"/write",className:"btn-primary inline-flex items-center justify-center gap-2",children:[T.jsx(eL,{className:"w-5 h-5"}),t("startWritingNow")]}),T.jsx("a",{href:"#articles",className:"btn-secondary",children:t("latest")})]})]})}),T.jsxs("section",{id:"articles",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs("div",{className:"flex items-center gap-6 mb-8 border-b border-gray-100",children:[T.jsxs("button",{onClick:()=>o("latest"),className:`flex items-center gap-2 px-2 py-3 border-b-2 transition-colors ${s==="latest"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[T.jsx(K4,{className:"w-5 h-5"}),T.jsx("span",{className:"font-medium",children:t("latest")})]}),T.jsxs("button",{onClick:()=>o("trending"),className:`flex items-center gap-2 px-2 py-3 border-b-2 transition-colors ${s==="trending"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[T.jsx(rL,{className:"w-5 h-5"}),T.jsx("span",{className:"font-medium",children:t("trending")})]})]}),r?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(l=>T.jsx(wT,{},l))}):e.length>0?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>T.jsx(_T,{article:l},l.id))}):T.jsxs("div",{className:"text-center py-20",children:[T.jsx("p",{className:"text-gray-500 text-lg mb-4",children:t("noArticles")}),T.jsx(Ae,{to:"/write",className:"btn-primary inline-block",children:t("beFirstToWrite")})]})]})]})},lL=()=>{const[t,e]=J.useState(""),[n,r]=J.useState(""),[i,s]=J.useState(""),[o,a]=J.useState(!1),{login:l,loginWithGoogle:c}=fi(),{t:d}=Xs(),h=Yn(),f=async v=>{v.preventDefault(),s(""),a(!0);try{await l(t,n),h("/")}catch(_){const x=_ instanceof Error?_.message:"  .      .";s(x)}finally{a(!1)}},p=async()=>{s(""),a(!0);try{await c(),h("/")}catch(v){const _=v instanceof Error?v.message:"    Google.";s(_)}finally{a(!1)}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx(Ae,{to:"/",className:"inline-flex items-center gap-2 mb-6",children:T.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})})}),T.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:d("welcomeBack")}),T.jsx("p",{className:"text-gray-600 mt-2",children:d("loginToAccount")})]}),T.jsxs("div",{className:"card p-8",children:[i&&T.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[T.jsx(dT,{className:"w-5 h-5 flex-shrink-0"}),T.jsx("span",{className:"text-sm",children:i})]}),T.jsxs("form",{onSubmit:f,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("email")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"email",value:t,onChange:v=>e(v.target.value),required:!0,className:"input-field pr-10",placeholder:"example@email.com"}),T.jsx(mT,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("password")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),required:!0,className:"input-field pr-10",placeholder:""}),T.jsx(Od,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full flex items-center justify-center gap-2",children:o?T.jsx(jm,{className:"w-5 h-5 animate-spin"}):d("login")})]}),T.jsxs("div",{className:"relative my-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:d("or")})})]}),T.jsxs("button",{onClick:p,disabled:o,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[T.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),T.jsx("span",{className:"text-gray-700 font-medium",children:d("continueWithGoogle")})]}),T.jsxs("p",{className:"text-center mt-6 text-gray-600",children:[d("dontHaveAccount")," ",T.jsx(Ae,{to:"/register",className:"text-gray-900 hover:text-gray-700 font-medium",children:d("createAccount")})]})]})]})})},uL=()=>{const[t,e]=J.useState(""),[n,r]=J.useState(""),[i,s]=J.useState(""),[o,a]=J.useState(""),[l,c]=J.useState(""),[d,h]=J.useState(!1),{register:f,loginWithGoogle:p}=fi(),{t:v}=Xs(),_=Yn(),x=async m=>{if(m.preventDefault(),c(""),i!==o)return c("   ");if(i.length<6)return c("     6   ");h(!0);try{await f(n,i,t),_("/")}catch(E){const y=E instanceof Error?E.message:"  .   .";c(y)}finally{h(!1)}},g=async()=>{c(""),h(!0);try{await p(),_("/")}catch(m){const E=m instanceof Error?m.message:"    Google.";c(E)}finally{h(!1)}};return T.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx(Ae,{to:"/",className:"inline-flex items-center gap-2 mb-6",children:T.jsx("div",{className:"w-12 h-12 bg-gray-900 rounded-lg flex items-center justify-center",children:T.jsx("span",{className:"text-white font-bold text-2xl",children:"H"})})}),T.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:v("createAccount")}),T.jsx("p",{className:"text-gray-600 mt-2",children:v("joinUs")})]}),T.jsxs("div",{className:"card p-8",children:[l&&T.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700",children:[T.jsx(dT,{className:"w-5 h-5 flex-shrink-0"}),T.jsx("span",{className:"text-sm",children:l})]}),T.jsxs("form",{onSubmit:x,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v("fullName")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",value:t,onChange:m=>e(m.target.value),required:!0,className:"input-field pr-10",placeholder:" "}),T.jsx(vT,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v("email")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"email",value:n,onChange:m=>r(m.target.value),required:!0,className:"input-field pr-10",placeholder:"example@email.com"}),T.jsx(mT,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v("password")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"password",value:i,onChange:m=>s(m.target.value),required:!0,className:"input-field pr-10",placeholder:""}),T.jsx(Od,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:v("confirmPassword")}),T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"password",value:o,onChange:m=>a(m.target.value),required:!0,className:"input-field pr-10",placeholder:""}),T.jsx(Od,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),T.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full flex items-center justify-center gap-2",children:d?T.jsx(jm,{className:"w-5 h-5 animate-spin"}):v("createAccount")})]}),T.jsxs("div",{className:"relative my-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200"})}),T.jsx("div",{className:"relative flex justify-center text-sm",children:T.jsx("span",{className:"px-2 bg-white text-gray-500",children:v("or")})})]}),T.jsxs("button",{onClick:g,disabled:d,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[T.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),T.jsx("span",{className:"text-gray-700 font-medium",children:v("continueWithGoogle")})]}),T.jsxs("p",{className:"text-center mt-6 text-gray-600",children:[v("alreadyHaveAccount")," ",T.jsx(Ae,{to:"/login",className:"text-gray-900 hover:text-gray-700 font-medium",children:v("login")})]})]})]})})},cL="modulepreload",fL=function(t){return"/"+t},w_={},E_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fL(l),l in w_)return;w_[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cL,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},hL=()=>{var R;const{id:t}=Dp(),e=Yn(),{currentUser:n,userData:r}=fi(),[i,s]=J.useState(null),[o,a]=J.useState([]),[l,c]=J.useState(!0),[d,h]=J.useState(!1),[f,p]=J.useState(0),[v,_]=J.useState(""),[x,g]=J.useState(!1);J.useEffect(()=>{t&&(m(),E(),n&&y())},[t,n]);const m=async()=>{var b;try{const A=await bn(Ke(Ne,"articles",t));if(A.exists()){const P=A.data();let N=" ",j="",F=!1,$="";if(P.authorId){const K=await bn(Ke(Ne,"users",P.authorId));if(K.exists()){const W=K.data();N=W.name,j=W.avatar,F=W.isVerified||W.role==="admin",$=W.instagram||""}}s({id:A.id,...P,authorName:N,authorAvatar:j,authorVerified:F,authorInstagram:$,createdAt:((b=P.createdAt)==null?void 0:b.toDate())||new Date}),p(P.likesCount||0)}}catch(A){console.error("Error fetching article:",A)}finally{c(!1)}},E=async()=>{var b;try{const A=nn(Ne,"comments"),P=Rn(A,Fn("articleId","==",t),hr("createdAt","desc")),N=await On(P),j=[];for(const F of N.docs){const $=F.data();let K="",W="";if($.userId){const q=await bn(Ke(Ne,"users",$.userId));if(q.exists()){const U=q.data();K=U.name,W=U.avatar}}j.push({id:F.id,...$,userName:K,userAvatar:W,createdAt:((b=$.createdAt)==null?void 0:b.toDate())||new Date})}a(j)}catch(A){console.error("Error fetching comments:",A)}},y=async()=>{try{const b=nn(Ne,"likes"),A=Rn(b,Fn("articleId","==",t),Fn("userId","==",n.uid)),P=await On(A);h(!P.empty)}catch(b){console.error("Error checking like:",b)}},k=async()=>{if(!n){e("/login");return}try{const b=nn(Ne,"likes"),A=Rn(b,Fn("articleId","==",t),Fn("userId","==",n.uid)),P=await On(A);if(P.empty){await Qu(b,{articleId:t,userId:n.uid,createdAt:rn()}),h(!0),p(F=>F+1);const N=Ke(Ne,"articles",t),j=await bn(N);if(j.exists()){const{setDoc:F}=await E_(async()=>{const{setDoc:$}=await Promise.resolve().then(()=>f_);return{setDoc:$}},void 0);await F(N,{likesCount:(j.data().likesCount||0)+1},{merge:!0})}}else{await Ra(P.docs[0].ref),h(!1),p(F=>F-1);const N=Ke(Ne,"articles",t),j=await bn(N);if(j.exists()){const{setDoc:F}=await E_(async()=>{const{setDoc:$}=await Promise.resolve().then(()=>f_);return{setDoc:$}},void 0);await F(N,{likesCount:Math.max((j.data().likesCount||0)-1,0)},{merge:!0})}}}catch(b){console.error("Error toggling like:",b)}},C=async b=>{if(b.preventDefault(),!(!n||!v.trim())){g(!0);try{await Qu(nn(Ne,"comments"),{articleId:t,userId:n.uid,comment:v.trim(),createdAt:rn()}),_(""),E()}catch(A){console.error("Error adding comment:",A)}finally{g(!1)}}},S=async b=>{try{await Ra(Ke(Ne,"comments",b)),a(A=>A.filter(P=>P.id!==b))}catch(A){console.error("Error deleting comment:",A)}},w=b=>new Date(b).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"});return l?T.jsx(oL,{}):i?T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs(Ae,{to:"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[T.jsx(Za,{className:"w-5 h-5"}),T.jsx("span",{children:" "})]}),T.jsxs("article",{children:[T.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(R=i.tags)==null?void 0:R.map((b,A)=>T.jsx(Ae,{to:`/search?tag=${encodeURIComponent(b)}`,className:"text-sm bg-gray-100 text-gray-700 px-3 py-1 rounded-full hover:bg-gray-200",children:b},A))}),T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:i.title}),T.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[T.jsx("img",{src:i.authorAvatar||`https://ui-avatars.com/api/?name=${i.authorName}`,alt:i.authorName,className:"w-12 h-12 rounded-full object-cover"}),T.jsxs("div",{children:[T.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-1",children:[i.authorName,i.authorVerified&&T.jsx(Yu,{className:"w-5 h-5 text-blue-500 fill-blue-500"}),i.authorInstagram&&T.jsx("a",{href:`https://instagram.com/${i.authorInstagram}`,target:"_blank",rel:"noopener noreferrer",className:"text-pink-500 hover:text-pink-600",onClick:b=>b.stopPropagation(),children:T.jsx(Gc,{className:"w-4 h-4"})})]}),T.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[T.jsx(Kc,{className:"w-4 h-4"}),w(i.createdAt)]})]})]}),i.imageURL&&T.jsx("div",{className:"mb-8 rounded-xl overflow-hidden",children:T.jsx("img",{src:i.imageURL,alt:i.title,className:"w-full h-auto max-h-[400px] sm:max-h-[500px] object-contain bg-gray-50"})}),T.jsx("div",{className:"article-content mb-8",dangerouslySetInnerHTML:{__html:i.content}}),T.jsxs("div",{className:"flex items-center gap-6 py-6 border-t border-b mb-8",children:[T.jsxs("button",{onClick:k,className:`flex items-center gap-2 transition-colors ${d?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[T.jsx(Lm,{className:`w-6 h-6 ${d?"fill-red-500":""}`}),T.jsx("span",{className:"font-medium",children:f})]}),T.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[T.jsx(gT,{className:"w-6 h-6"}),T.jsx("span",{className:"font-medium",children:o.length})]})]}),T.jsxs("section",{children:[T.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:[" (",o.length,")"]}),n?T.jsx("form",{onSubmit:C,className:"mb-8",children:T.jsxs("div",{className:"flex gap-4",children:[T.jsx("img",{src:r==null?void 0:r.avatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("textarea",{value:v,onChange:b=>_(b.target.value),placeholder:" ...",className:"input-field resize-none",rows:3}),T.jsx("button",{type:"submit",disabled:x||!v.trim(),className:"btn-primary mt-2 flex items-center gap-2",children:T.jsxs(T.Fragment,{children:[T.jsx(tL,{className:"w-4 h-4"}),x?" ...":""]})})]})]})}):T.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center mb-8",children:[T.jsx("p",{className:"text-gray-600 mb-4",children:"   "}),T.jsx(Ae,{to:"/login",className:"btn-primary inline-block",children:" "})]}),T.jsxs("div",{className:"space-y-6",children:[o.map(b=>T.jsxs("div",{className:"flex gap-4",children:[T.jsx("img",{src:b.userAvatar||`https://ui-avatars.com/api/?name=${b.userName}`,alt:b.userName,className:"w-10 h-10 rounded-full object-cover"}),T.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-900",children:b.userName}),T.jsx("p",{className:"text-xs text-gray-500",children:w(b.createdAt)})]}),(n==null?void 0:n.uid)===b.userId&&T.jsx("button",{onClick:()=>S(b.id),className:"text-gray-400 hover:text-red-500",children:T.jsx(yT,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-gray-700",children:b.comment})]})]},b.id)),o.length===0&&T.jsx("p",{className:"text-center text-gray-500 py-8",children:"   .    !"})]})]})]})]})}):T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"  "}),T.jsx(Ae,{to:"/",className:"btn-primary",children:" "})]})};function dL(){this.__data__=[],this.size=0}var pL=dL;function mL(t,e){return t===e||t!==t&&e!==e}var xT=mL,gL=xT;function yL(t,e){for(var n=t.length;n--;)if(gL(t[n][0],e))return n;return-1}var Qc=yL,vL=Qc,_L=Array.prototype,wL=_L.splice;function EL(t){var e=this.__data__,n=vL(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wL.call(e,n,1),--this.size,!0}var xL=EL,TL=Qc;function bL(t){var e=this.__data__,n=TL(e,t);return n<0?void 0:e[n][1]}var AL=bL,IL=Qc;function SL(t){return IL(this.__data__,t)>-1}var kL=SL,NL=Qc;function PL(t,e){var n=this.__data__,r=NL(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var RL=PL,OL=pL,CL=xL,LL=AL,jL=kL,DL=RL;function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=OL;Js.prototype.delete=CL;Js.prototype.get=LL;Js.prototype.has=jL;Js.prototype.set=DL;var Yc=Js,ML=Yc;function VL(){this.__data__=new ML,this.size=0}var UL=VL;function FL(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var BL=FL;function qL(t){return this.__data__.get(t)}var zL=qL;function $L(t){return this.__data__.has(t)}var HL=$L,WL=typeof en=="object"&&en&&en.Object===Object&&en,TT=WL,KL=TT,GL=typeof self=="object"&&self&&self.Object===Object&&self,QL=KL||GL||Function("return this")(),br=QL,YL=br,XL=YL.Symbol,Dm=XL,x_=Dm,bT=Object.prototype,JL=bT.hasOwnProperty,ZL=bT.toString,No=x_?x_.toStringTag:void 0;function ej(t){var e=JL.call(t,No),n=t[No];try{t[No]=void 0;var r=!0}catch{}var i=ZL.call(t);return r&&(e?t[No]=n:delete t[No]),i}var tj=ej,nj=Object.prototype,rj=nj.toString;function ij(t){return rj.call(t)}var sj=ij,T_=Dm,oj=tj,aj=sj,lj="[object Null]",uj="[object Undefined]",b_=T_?T_.toStringTag:void 0;function cj(t){return t==null?t===void 0?uj:lj:b_&&b_ in Object(t)?oj(t):aj(t)}var Xc=cj;function fj(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var AT=fj,hj=Xc,dj=AT,pj="[object AsyncFunction]",mj="[object Function]",gj="[object GeneratorFunction]",yj="[object Proxy]";function vj(t){if(!dj(t))return!1;var e=hj(t);return e==mj||e==gj||e==pj||e==yj}var IT=vj,_j=br,wj=_j["__core-js_shared__"],Ej=wj,ah=Ej,A_=function(){var t=/[^.]+$/.exec(ah&&ah.keys&&ah.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xj(t){return!!A_&&A_ in t}var Tj=xj,bj=Function.prototype,Aj=bj.toString;function Ij(t){if(t!=null){try{return Aj.call(t)}catch{}try{return t+""}catch{}}return""}var ST=Ij,Sj=IT,kj=Tj,Nj=AT,Pj=ST,Rj=/[\\^$.*+?()[\]{}|]/g,Oj=/^\[object .+?Constructor\]$/,Cj=Function.prototype,Lj=Object.prototype,jj=Cj.toString,Dj=Lj.hasOwnProperty,Mj=RegExp("^"+jj.call(Dj).replace(Rj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vj(t){if(!Nj(t)||kj(t))return!1;var e=Sj(t)?Mj:Oj;return e.test(Pj(t))}var Uj=Vj;function Fj(t,e){return t==null?void 0:t[e]}var Bj=Fj,qj=Uj,zj=Bj;function $j(t,e){var n=zj(t,e);return qj(n)?n:void 0}var Zs=$j,Hj=Zs,Wj=br,Kj=Hj(Wj,"Map"),Mm=Kj,Gj=Zs,Qj=Gj(Object,"create"),Jc=Qj,I_=Jc;function Yj(){this.__data__=I_?I_(null):{},this.size=0}var Xj=Yj;function Jj(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Zj=Jj,eD=Jc,tD="__lodash_hash_undefined__",nD=Object.prototype,rD=nD.hasOwnProperty;function iD(t){var e=this.__data__;if(eD){var n=e[t];return n===tD?void 0:n}return rD.call(e,t)?e[t]:void 0}var sD=iD,oD=Jc,aD=Object.prototype,lD=aD.hasOwnProperty;function uD(t){var e=this.__data__;return oD?e[t]!==void 0:lD.call(e,t)}var cD=uD,fD=Jc,hD="__lodash_hash_undefined__";function dD(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fD&&e===void 0?hD:e,this}var pD=dD,mD=Xj,gD=Zj,yD=sD,vD=cD,_D=pD;function eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eo.prototype.clear=mD;eo.prototype.delete=gD;eo.prototype.get=yD;eo.prototype.has=vD;eo.prototype.set=_D;var wD=eo,S_=wD,ED=Yc,xD=Mm;function TD(){this.size=0,this.__data__={hash:new S_,map:new(xD||ED),string:new S_}}var bD=TD;function AD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ID=AD,SD=ID;function kD(t,e){var n=t.__data__;return SD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Zc=kD,ND=Zc;function PD(t){var e=ND(this,t).delete(t);return this.size-=e?1:0,e}var RD=PD,OD=Zc;function CD(t){return OD(this,t).get(t)}var LD=CD,jD=Zc;function DD(t){return jD(this,t).has(t)}var MD=DD,VD=Zc;function UD(t,e){var n=VD(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var FD=UD,BD=bD,qD=RD,zD=LD,$D=MD,HD=FD;function to(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}to.prototype.clear=BD;to.prototype.delete=qD;to.prototype.get=zD;to.prototype.has=$D;to.prototype.set=HD;var kT=to,WD=Yc,KD=Mm,GD=kT,QD=200;function YD(t,e){var n=this.__data__;if(n instanceof WD){var r=n.__data__;if(!KD||r.length<QD-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GD(r)}return n.set(t,e),this.size=n.size,this}var XD=YD,JD=Yc,ZD=UL,e5=BL,t5=zL,n5=HL,r5=XD;function no(t){var e=this.__data__=new JD(t);this.size=e.size}no.prototype.clear=ZD;no.prototype.delete=e5;no.prototype.get=t5;no.prototype.has=n5;no.prototype.set=r5;var i5=no,s5="__lodash_hash_undefined__";function o5(t){return this.__data__.set(t,s5),this}var a5=o5;function l5(t){return this.__data__.has(t)}var u5=l5,c5=kT,f5=a5,h5=u5;function Zu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new c5;++e<n;)this.add(t[e])}Zu.prototype.add=Zu.prototype.push=f5;Zu.prototype.has=h5;var d5=Zu;function p5(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var m5=p5;function g5(t,e){return t.has(e)}var y5=g5,v5=d5,_5=m5,w5=y5,E5=1,x5=2;function T5(t,e,n,r,i,s){var o=n&E5,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var h=-1,f=!0,p=n&x5?new v5:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var v=t[h],_=e[h];if(r)var x=o?r(_,v,h,e,t,s):r(v,_,h,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(p){if(!_5(e,function(g,m){if(!w5(p,m)&&(v===g||i(v,g,n,r,s)))return p.push(m)})){f=!1;break}}else if(!(v===_||i(v,_,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var NT=T5,b5=br,A5=b5.Uint8Array,I5=A5;function S5(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var k5=S5;function N5(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var P5=N5,k_=Dm,N_=I5,R5=xT,O5=NT,C5=k5,L5=P5,j5=1,D5=2,M5="[object Boolean]",V5="[object Date]",U5="[object Error]",F5="[object Map]",B5="[object Number]",q5="[object RegExp]",z5="[object Set]",$5="[object String]",H5="[object Symbol]",W5="[object ArrayBuffer]",K5="[object DataView]",P_=k_?k_.prototype:void 0,lh=P_?P_.valueOf:void 0;function G5(t,e,n,r,i,s,o){switch(n){case K5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case W5:return!(t.byteLength!=e.byteLength||!s(new N_(t),new N_(e)));case M5:case V5:case B5:return R5(+t,+e);case U5:return t.name==e.name&&t.message==e.message;case q5:case $5:return t==e+"";case F5:var a=C5;case z5:var l=r&j5;if(a||(a=L5),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=D5,o.set(t,e);var d=O5(a(t),a(e),r,i,s,o);return o.delete(t),d;case H5:if(lh)return lh.call(t)==lh.call(e)}return!1}var Q5=G5;function Y5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var X5=Y5,J5=Array.isArray,Vm=J5,Z5=X5,eM=Vm;function tM(t,e,n){var r=e(t);return eM(t)?r:Z5(r,n(t))}var nM=tM;function rM(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var iM=rM;function sM(){return[]}var oM=sM,aM=iM,lM=oM,uM=Object.prototype,cM=uM.propertyIsEnumerable,R_=Object.getOwnPropertySymbols,fM=R_?function(t){return t==null?[]:(t=Object(t),aM(R_(t),function(e){return cM.call(t,e)}))}:lM,hM=fM;function dM(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pM=dM;function mM(t){return t!=null&&typeof t=="object"}var ef=mM,gM=Xc,yM=ef,vM="[object Arguments]";function _M(t){return yM(t)&&gM(t)==vM}var wM=_M,O_=wM,EM=ef,PT=Object.prototype,xM=PT.hasOwnProperty,TM=PT.propertyIsEnumerable,bM=O_(function(){return arguments}())?O_:function(t){return EM(t)&&xM.call(t,"callee")&&!TM.call(t,"callee")},AM=bM,ec={exports:{}};function IM(){return!1}var SM=IM;ec.exports;(function(t,e){var n=br,r=SM,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(ec,ec.exports);var RT=ec.exports,kM=9007199254740991,NM=/^(?:0|[1-9]\d*)$/;function PM(t,e){var n=typeof t;return e=e??kM,!!e&&(n=="number"||n!="symbol"&&NM.test(t))&&t>-1&&t%1==0&&t<e}var RM=PM,OM=9007199254740991;function CM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OM}var OT=CM,LM=Xc,jM=OT,DM=ef,MM="[object Arguments]",VM="[object Array]",UM="[object Boolean]",FM="[object Date]",BM="[object Error]",qM="[object Function]",zM="[object Map]",$M="[object Number]",HM="[object Object]",WM="[object RegExp]",KM="[object Set]",GM="[object String]",QM="[object WeakMap]",YM="[object ArrayBuffer]",XM="[object DataView]",JM="[object Float32Array]",ZM="[object Float64Array]",e3="[object Int8Array]",t3="[object Int16Array]",n3="[object Int32Array]",r3="[object Uint8Array]",i3="[object Uint8ClampedArray]",s3="[object Uint16Array]",o3="[object Uint32Array]",We={};We[JM]=We[ZM]=We[e3]=We[t3]=We[n3]=We[r3]=We[i3]=We[s3]=We[o3]=!0;We[MM]=We[VM]=We[YM]=We[UM]=We[XM]=We[FM]=We[BM]=We[qM]=We[zM]=We[$M]=We[HM]=We[WM]=We[KM]=We[GM]=We[QM]=!1;function a3(t){return DM(t)&&jM(t.length)&&!!We[LM(t)]}var l3=a3;function u3(t){return function(e){return t(e)}}var c3=u3,tc={exports:{}};tc.exports;(function(t,e){var n=TT,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(tc,tc.exports);var f3=tc.exports,h3=l3,d3=c3,C_=f3,L_=C_&&C_.isTypedArray,p3=L_?d3(L_):h3,CT=p3,m3=pM,g3=AM,y3=Vm,v3=RT,_3=RM,w3=CT,E3=Object.prototype,x3=E3.hasOwnProperty;function T3(t,e){var n=y3(t),r=!n&&g3(t),i=!n&&!r&&v3(t),s=!n&&!r&&!i&&w3(t),o=n||r||i||s,a=o?m3(t.length,String):[],l=a.length;for(var c in t)(e||x3.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_3(c,l)))&&a.push(c);return a}var b3=T3,A3=Object.prototype;function I3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||A3;return t===n}var S3=I3;function k3(t,e){return function(n){return t(e(n))}}var N3=k3,P3=N3,R3=P3(Object.keys,Object),O3=R3,C3=S3,L3=O3,j3=Object.prototype,D3=j3.hasOwnProperty;function M3(t){if(!C3(t))return L3(t);var e=[];for(var n in Object(t))D3.call(t,n)&&n!="constructor"&&e.push(n);return e}var V3=M3,U3=IT,F3=OT;function B3(t){return t!=null&&F3(t.length)&&!U3(t)}var q3=B3,z3=b3,$3=V3,H3=q3;function W3(t){return H3(t)?z3(t):$3(t)}var K3=W3,G3=nM,Q3=hM,Y3=K3;function X3(t){return G3(t,Y3,Q3)}var J3=X3,j_=J3,Z3=1,e6=Object.prototype,t6=e6.hasOwnProperty;function n6(t,e,n,r,i,s){var o=n&Z3,a=j_(t),l=a.length,c=j_(e),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:t6.call(e,f)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var _=!0;s.set(t,e),s.set(e,t);for(var x=o;++h<l;){f=a[h];var g=t[f],m=e[f];if(r)var E=o?r(m,g,f,e,t,s):r(g,m,f,t,e,s);if(!(E===void 0?g===m||i(g,m,n,r,s):E)){_=!1;break}x||(x=f=="constructor")}if(_&&!x){var y=t.constructor,k=e.constructor;y!=k&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof k=="function"&&k instanceof k)&&(_=!1)}return s.delete(t),s.delete(e),_}var r6=n6,i6=Zs,s6=br,o6=i6(s6,"DataView"),a6=o6,l6=Zs,u6=br,c6=l6(u6,"Promise"),f6=c6,h6=Zs,d6=br,p6=h6(d6,"Set"),m6=p6,g6=Zs,y6=br,v6=g6(y6,"WeakMap"),_6=v6,Ld=a6,jd=Mm,Dd=f6,Md=m6,Vd=_6,LT=Xc,ro=ST,D_="[object Map]",w6="[object Object]",M_="[object Promise]",V_="[object Set]",U_="[object WeakMap]",F_="[object DataView]",E6=ro(Ld),x6=ro(jd),T6=ro(Dd),b6=ro(Md),A6=ro(Vd),_i=LT;(Ld&&_i(new Ld(new ArrayBuffer(1)))!=F_||jd&&_i(new jd)!=D_||Dd&&_i(Dd.resolve())!=M_||Md&&_i(new Md)!=V_||Vd&&_i(new Vd)!=U_)&&(_i=function(t){var e=LT(t),n=e==w6?t.constructor:void 0,r=n?ro(n):"";if(r)switch(r){case E6:return F_;case x6:return D_;case T6:return M_;case b6:return V_;case A6:return U_}return e});var I6=_i,uh=i5,S6=NT,k6=Q5,N6=r6,B_=I6,q_=Vm,z_=RT,P6=CT,R6=1,$_="[object Arguments]",H_="[object Array]",Fl="[object Object]",O6=Object.prototype,W_=O6.hasOwnProperty;function C6(t,e,n,r,i,s){var o=q_(t),a=q_(e),l=o?H_:B_(t),c=a?H_:B_(e);l=l==$_?Fl:l,c=c==$_?Fl:c;var d=l==Fl,h=c==Fl,f=l==c;if(f&&z_(t)){if(!z_(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new uh),o||P6(t)?S6(t,e,n,r,i,s):k6(t,e,l,n,r,i,s);if(!(n&R6)){var p=d&&W_.call(t,"__wrapped__"),v=h&&W_.call(e,"__wrapped__");if(p||v){var _=p?t.value():t,x=v?e.value():e;return s||(s=new uh),i(_,x,n,r,s)}}return f?(s||(s=new uh),N6(t,e,n,r,i,s)):!1}var L6=C6,j6=L6,K_=ef;function jT(t,e,n,r,i){return t===e?!0:t==null||e==null||!K_(t)&&!K_(e)?t!==t&&e!==e:j6(t,e,n,r,jT,i)}var D6=jT,M6=D6;function V6(t,e){return M6(t,e)}var U6=V6,DT={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:en,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),c=i(46),d=i(47),h=i(48),f=i(49),p=i(12),v=i(32),_=i(33),x=i(31),g=i(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:d.default,Inline:c.default,Text:f.default,Attributor:{Attribute:p.default,Class:v.default,Style:_.default,Store:x.default}};r.default=m},function(n,r,i){var s=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var E in m)m.hasOwnProperty(E)&&(g[E]=m[E])};return function(g,m){x(g,m);function E(){this.constructor=g}g.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(x){s(g,x);function g(m){var E=this;return m="[Parchment] "+m,E=x.call(this,m)||this,E.message=m,E.name=E.constructor.name,E}return g}(Error);r.ParchmentError=o;var a={},l={},c={},d={};r.DATA_KEY="__blot";var h;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(x,g){var m=v(x);if(m==null)throw new o("Unable to create "+x+" blot");var E=m,y=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:E.create(g);return new E(y,g)}r.create=f;function p(x,g){return g===void 0&&(g=!1),x==null?null:x[r.DATA_KEY]!=null?x[r.DATA_KEY].blot:g?p(x.parentNode,g):null}r.find=p;function v(x,g){g===void 0&&(g=h.ANY);var m;if(typeof x=="string")m=d[x]||a[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)m=d.text;else if(typeof x=="number")x&h.LEVEL&h.BLOCK?m=d.block:x&h.LEVEL&h.INLINE&&(m=d.inline);else if(x instanceof HTMLElement){var E=(x.getAttribute("class")||"").split(/\s+/);for(var y in E)if(m=l[E[y]],m)break;m=m||c[x.tagName]}return m==null?null:g&h.LEVEL&m.scope&&g&h.TYPE&m.scope?m:null}r.query=v;function _(){for(var x=[],g=0;g<arguments.length;g++)x[g]=arguments[g];if(x.length>1)return x.map(function(y){return _(y)});var m=x[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(d[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(y){return y.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var E=Array.isArray(m.tagName)?m.tagName:[m.tagName];E.forEach(function(y){(c[y]==null||m.className==null)&&(c[y]=m)})}return m}r.register=_},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),c="\0",d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var p={};return h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},d.prototype.push=function(h){var f=this.ops.length,p=this.ops[f-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],p=[];return this.forEach(function(v){var _=h(v)?f:p;_.push(v)}),[f,p]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var p=[],v=l.iterator(this.ops),_=0;_<f&&v.hasNext();){var x;_<h?x=v.next(h-_):(x=v.next(f-_),p.push(x)),_+=l.length(x)}return new d(p)},d.prototype.compose=function(h){var f=l.iterator(this.ops),p=l.iterator(h.ops),v=[],_=p.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var x=_.retain;f.peekType()==="insert"&&f.peekLength()<=x;)x-=f.peekLength(),v.push(f.next());_.retain-x>0&&p.next(_.retain-x)}for(var g=new d(v);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(f.peekType()==="delete")g.push(f.next());else{var m=Math.min(f.peekLength(),p.peekLength()),E=f.next(m),y=p.next(m);if(typeof y.retain=="number"){var k={};typeof E.retain=="number"?k.retain=m:k.insert=E.insert;var C=l.attributes.compose(E.attributes,y.attributes,typeof E.retain=="number");if(C&&(k.attributes=C),g.push(k),!p.hasNext()&&o(g.ops[g.ops.length-1],k)){var S=new d(f.rest());return g.concat(S).chop()}}else typeof y.delete=="number"&&typeof E.retain=="number"&&g.push(y)}return g.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var p=[this,h].map(function(m){return m.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:c;var y=m===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),v=new d,_=s(p[0],p[1],f),x=l.iterator(this.ops),g=l.iterator(h.ops);return _.forEach(function(m){for(var E=m[1].length;E>0;){var y=0;switch(m[0]){case s.INSERT:y=Math.min(g.peekLength(),E),v.push(g.next(y));break;case s.DELETE:y=Math.min(E,x.peekLength()),x.next(y),v.delete(y);break;case s.EQUAL:y=Math.min(x.peekLength(),g.peekLength(),E);var k=x.next(y),C=g.next(y);o(k.insert,C.insert)?v.retain(y,l.attributes.diff(k.attributes,C.attributes)):v.push(C).delete(y);break}E-=y}}),v.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var p=l.iterator(this.ops),v=new d,_=0;p.hasNext();){if(p.peekType()!=="insert")return;var x=p.peek(),g=l.length(x)-p.peekLength(),m=typeof x.insert=="string"?x.insert.indexOf(f,g)-g:-1;if(m<0)v.push(p.next());else if(m>0)v.push(p.next(m));else{if(h(v,p.next(1).attributes||{},_)===!1)return;_+=1,v=new d}}v.length()>0&&h(v,{},_)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var p=l.iterator(this.ops),v=l.iterator(h.ops),_=new d;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(f||v.peekType()!=="insert"))_.retain(l.length(p.next()));else if(v.peekType()==="insert")_.push(v.next());else{var x=Math.min(p.peekLength(),v.peekLength()),g=p.next(x),m=v.next(x);if(g.delete)continue;m.delete?_.push(m):_.retain(x,l.attributes.transform(g.attributes,m.attributes,f))}return _.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=h;){var _=p.peekLength(),x=p.peekType();if(p.next(),x==="delete"){h-=Math.min(_,h-v);continue}else x==="insert"&&(v<h||!f)&&(h+=_);v+=_}return h},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!_)return!1;var x;for(x in p);return typeof x>"u"||i.call(p,x)},d=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},h=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(a)return a(p,v).value}else return;return p[v]};n.exports=function f(){var p,v,_,x,g,m,E=arguments[0],y=1,k=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},y=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});y<k;++y)if(p=arguments[y],p!=null)for(v in p)_=h(E,v),x=h(p,v),E!==x&&(C&&x&&(c(x)||(g=l(x)))?(g?(g=!1,m=_&&l(_)?_:[]):m=_&&c(_)?_:{},d(E,{name:v,newValue:f(C,m,x)})):typeof x<"u"&&d(E,{name:v,newValue:x}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function A(P,N){for(var j=0;j<N.length;j++){var F=N[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,N,j){return N&&A(P.prototype,N),j&&A(P,j),P}}(),o=function A(P,N,j){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,N);if(F===void 0){var $=Object.getPrototypeOf(P);return $===null?void 0:A($,N,j)}else{if("value"in F)return F.value;var K=F.get;return K===void 0?void 0:K.call(j)}},a=i(3),l=E(a),c=i(2),d=E(c),h=i(0),f=E(h),p=i(16),v=E(p),_=i(6),x=E(_),g=i(7),m=E(g);function E(A){return A&&A.__esModule?A:{default:A}}function y(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function k(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function C(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var S=1,w=function(A){C(P,A);function P(){return y(this,P),k(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"attach",value:function(){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(j,F){var $=f.default.query(j,f.default.Scope.BLOCK_ATTRIBUTE);$!=null&&this.attributes.attribute($,F)}},{key:"formatAt",value:function(j,F,$,K){this.format($,K)}},{key:"insertAt",value:function(j,F,$){if(typeof F=="string"&&F.endsWith(`
`)){var K=f.default.create(R.blotName);this.parent.insertBefore(K,j===0?this:this.next),K.insertAt(0,F.slice(0,-1))}else o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,j,F,$)}}]),P}(f.default.Embed);w.scope=f.default.Scope.BLOCK_BLOT;var R=function(A){C(P,A);function P(N){y(this,P);var j=k(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N));return j.cache={},j}return s(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(j,F){return F.length()===0?j:j.insert(F.value(),b(F))},new d.default).insert(`
`,b(this))),this.cache.delta}},{key:"deleteAt",value:function(j,F){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,j,F),this.cache={}}},{key:"formatAt",value:function(j,F,$,K){F<=0||(f.default.query($,f.default.Scope.BLOCK)?j+F===this.length()&&this.format($,K):o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,j,Math.min(F,this.length()-j-1),$,K),this.cache={})}},{key:"insertAt",value:function(j,F,$){if($!=null)return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,j,F,$);if(F.length!==0){var K=F.split(`
`),W=K.shift();W.length>0&&(j<this.length()-1||this.children.tail==null?o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(j,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var q=this;K.reduce(function(U,L){return q=q.split(U,!0),q.insertAt(0,L),L.length},j+W.length)}}},{key:"insertBefore",value:function(j,F){var $=this.children.head;o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,j,F),$ instanceof v.default&&$.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(j,F){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,j,F),this.cache={}}},{key:"optimize",value:function(j){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,j),this.cache={}}},{key:"path",value:function(j){return o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,j,!0)}},{key:"removeChild",value:function(j){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,j),this.cache={}}},{key:"split",value:function(j){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(j===0||j>=this.length()-S)){var $=this.clone();return j===0?(this.parent.insertBefore($,this),this):(this.parent.insertBefore($,this.next),$)}else{var K=o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,j,F);return this.cache={},K}}}]),P}(f.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[x.default,f.default.Embed,m.default];function b(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(P=(0,l.default)(P,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?P:b(A.parent,P)}r.bubbleFormats=b,r.BlockEmbed=w,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(U,L){var M=[],B=!0,G=!1,H=void 0;try{for(var V=U[Symbol.iterator](),z;!(B=(z=V.next()).done)&&(M.push(z.value),!(L&&M.length===L));B=!0);}catch(Y){G=!0,H=Y}finally{try{!B&&V.return&&V.return()}finally{if(G)throw H}}return M}return function(U,L){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return q(U,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(U,L){for(var M=0;M<L.length;M++){var B=L[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(U,B.key,B)}}return function(U,L,M){return L&&q(U.prototype,L),M&&q(U,M),U}}();i(50);var l=i(2),c=b(l),d=i(14),h=b(d),f=i(8),p=b(f),v=i(9),_=b(v),x=i(0),g=b(x),m=i(15),E=b(m),y=i(3),k=b(y),C=i(10),S=b(C),w=i(34),R=b(w);function b(q){return q&&q.__esModule?q:{default:q}}function A(q,U,L){return U in q?Object.defineProperty(q,U,{value:L,enumerable:!0,configurable:!0,writable:!0}):q[U]=L,q}function P(q,U){if(!(q instanceof U))throw new TypeError("Cannot call a class as a function")}var N=(0,S.default)("quill"),j=function(){a(q,null,[{key:"debug",value:function(L){L===!0&&(L="log"),S.default.level(L)}},{key:"find",value:function(L){return L.__quill||g.default.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&N.error("Cannot import "+L+". Are you sure it was registered?"),this.imports[L]}},{key:"register",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var H=L.attrName||L.blotName;typeof H=="string"?this.register("formats/"+H,L,M):Object.keys(L).forEach(function(V){B.register(V,L[V],M)})}else this.imports[L]!=null&&!G&&N.warn("Overwriting "+L+" with",M),this.imports[L]=M,(L.startsWith("blots/")||L.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):L.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function q(U){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,q),this.options=F(U,M),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",U);this.options.debug&&q.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(H){H===p.default.events.TEXT_CHANGE&&L.root.classList.toggle("ql-blank",L.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(H,V){var z=L.selection.lastRange,Y=z&&z.length===0?z.index:void 0;$.call(L,function(){return L.editor.update(null,V,Y)},H)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(q,[{key:"addContainer",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var B=L;L=document.createElement("div"),L.classList.add(B)}return this.container.insertBefore(L,M),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,M,B){var G=this,H=K(L,M,B),V=o(H,4);return L=V[0],M=V[1],B=V[3],$.call(this,function(){return G.editor.deleteText(L,M)},B,L,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return $.call(this,function(){var H=B.getSelection(!0),V=new c.default;if(H==null)return V;if(g.default.query(L,g.default.Scope.BLOCK))V=B.editor.formatLine(H.index,H.length,A({},L,M));else{if(H.length===0)return B.selection.format(L,M),V;V=B.editor.formatText(H.index,H.length,A({},L,M))}return B.setSelection(H,p.default.sources.SILENT),V},G)}},{key:"formatLine",value:function(L,M,B,G,H){var V=this,z=void 0,Y=K(L,M,B,G,H),X=o(Y,4);return L=X[0],M=X[1],z=X[2],H=X[3],$.call(this,function(){return V.editor.formatLine(L,M,z)},H,L,0)}},{key:"formatText",value:function(L,M,B,G,H){var V=this,z=void 0,Y=K(L,M,B,G,H),X=o(Y,4);return L=X[0],M=X[1],z=X[2],H=X[3],$.call(this,function(){return V.editor.formatText(L,M,z)},H,L,0)}},{key:"getBounds",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof L=="number"?B=this.selection.getBounds(L,M):B=this.selection.getBounds(L.index,L.length);var G=this.container.getBoundingClientRect();return{bottom:B.bottom-G.top,height:B.height,left:B.left-G.left,right:B.right-G.left,top:B.top-G.top,width:B.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=K(L,M),G=o(B,2);return L=G[0],M=G[1],this.editor.getContents(L,M)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,M):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,M)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,B=K(L,M),G=o(B,2);return L=G[0],M=G[1],this.editor.getText(L,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,M,B){var G=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return $.call(this,function(){return G.editor.insertEmbed(L,M,B)},H,L)}},{key:"insertText",value:function(L,M,B,G,H){var V=this,z=void 0,Y=K(L,0,B,G,H),X=o(Y,4);return L=X[0],z=X[2],H=X[3],$.call(this,function(){return V.editor.insertText(L,M,z)},H,L,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(L,M,B){this.clipboard.dangerouslyPasteHTML(L,M,B)}},{key:"removeFormat",value:function(L,M,B){var G=this,H=K(L,M,B),V=o(H,4);return L=V[0],M=V[1],B=V[3],$.call(this,function(){return G.editor.removeFormat(L,M)},B,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return $.call(this,function(){L=new c.default(L);var G=M.getLength(),H=M.editor.deleteText(0,G),V=M.editor.applyDelta(L),z=V.ops[V.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),V.delete(1));var Y=H.compose(V);return Y},B)}},{key:"setSelection",value:function(L,M,B){if(L==null)this.selection.setRange(null,M||q.sources.API);else{var G=K(L,M,B),H=o(G,4);L=H[0],M=H[1],B=H[3],this.selection.setRange(new m.Range(L,M),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new c.default().insert(L);return this.setContents(B,M)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,M=this.scroll.update(L);return this.selection.update(L),M}},{key:"updateContents",value:function(L){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return $.call(this,function(){return L=new c.default(L),M.editor.applyDelta(L,B)},B,!0)}}]),q}();j.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},j.events=p.default.events,j.sources=p.default.sources,j.version="1.3.7",j.imports={delta:c.default,parchment:g.default,"core/module":_.default,"core/theme":R.default};function F(q,U){if(U=(0,k.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===j.DEFAULTS.theme)U.theme=R.default;else if(U.theme=j.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var L=(0,k.default)(!0,{},U.theme.DEFAULTS);[L,U].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(H){G.modules[H]===!0&&(G.modules[H]={})})});var M=Object.keys(L.modules).concat(Object.keys(U.modules)),B=M.reduce(function(G,H){var V=j.import("modules/"+H);return V==null?N.error("Cannot load "+H+" module. Are you sure you registered it?"):G[H]=V.DEFAULTS||{},G},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,k.default)(!0,{},j.DEFAULTS,{modules:B},L,U),["bounds","container","scrollingContainer"].forEach(function(G){typeof U[G]=="string"&&(U[G]=document.querySelector(U[G]))}),U.modules=Object.keys(U.modules).reduce(function(G,H){return U.modules[H]&&(G[H]=U.modules[H]),G},{}),U}function $(q,U,L,M){if(this.options.strict&&!this.isEnabled()&&U===p.default.sources.USER)return new c.default;var B=L==null?null:this.getSelection(),G=this.editor.delta,H=q();if(B!=null&&(L===!0&&(L=B.index),M==null?B=W(B,H,U):M!==0&&(B=W(B,L,M,U)),this.setSelection(B,p.default.sources.SILENT)),H.length()>0){var V,z=[p.default.events.TEXT_CHANGE,H,G,U];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(z)),U!==p.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,z)}}return H}function K(q,U,L,M,B){var G={};return typeof q.index=="number"&&typeof q.length=="number"?typeof U!="number"?(B=M,M=L,L=U,U=q.length,q=q.index):(U=q.length,q=q.index):typeof U!="number"&&(B=M,M=L,L=U,U=0),(typeof L>"u"?"undefined":s(L))==="object"?(G=L,B=M):typeof L=="string"&&(M!=null?G[L]=M:B=L),B=B||p.default.sources.API,[q,U,G,B]}function W(q,U,L,M){if(q==null)return null;var B=void 0,G=void 0;if(U instanceof c.default){var H=[q.index,q.index+q.length].map(function(X){return U.transformPosition(X,M!==p.default.sources.USER)}),V=o(H,2);B=V[0],G=V[1]}else{var z=[q.index,q.index+q.length].map(function(X){return X<U||X===U&&M===p.default.sources.USER?X:L>=0?X+L:Math.max(U,X+L)}),Y=o(z,2);B=Y[0],G=Y[1]}return new m.Range(B,G-B)}r.expandConfig=F,r.overload=K,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(g,m){for(var E=0;E<m.length;E++){var y=m[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,E){return m&&x(g.prototype,m),E&&x(g,E),g}}(),o=function x(g,m,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:x(k,m,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(7),l=h(a),c=i(0),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function p(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function v(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var _=function(x){v(g,x);function g(){return f(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"formatAt",value:function(E,y,k,C){if(g.compare(this.statics.blotName,k)<0&&d.default.query(k,d.default.Scope.BLOT)){var S=this.isolate(E,y);C&&S.wrap(k,C)}else o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,E,y,k,C)}},{key:"optimize",value:function(E){if(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,E),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(E,y){var k=g.order.indexOf(E),C=g.order.indexOf(y);return k>=0||C>=0?k-C:E===y?0:E<y?-1:1}}]),g}(d.default.Inline);_.allowedChildren=[_,d.default.Embed,l.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(E,y){for(var k=0;k<y.length;k++){var C=y[k];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,y,k){return y&&m(E.prototype,y),k&&m(E,k),E}}(),o=function m(E,y,k){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,y);if(C===void 0){var S=Object.getPrototypeOf(E);return S===null?void 0:m(S,y,k)}else{if("value"in C)return C.value;var w=C.get;return w===void 0?void 0:w.call(k)}},a=i(54),l=h(a),c=i(10),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}function p(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:m}function v(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}var _=(0,d.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(m){document.addEventListener(m,function(){for(var E=arguments.length,y=Array(E),k=0;k<E;k++)y[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var S;(S=C.__quill.emitter).handleDOM.apply(S,y)}})})});var g=function(m){v(E,m);function E(){f(this,E);var y=p(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return y.listeners={},y.on("error",_.error),y}return s(E,[{key:"emit",value:function(){_.log.apply(_,arguments),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var C=arguments.length,S=Array(C>1?C-1:0),w=1;w<C;w++)S[w-1]=arguments[w];(this.listeners[k.type]||[]).forEach(function(R){var b=R.node,A=R.handler;(k.target===b||b.contains(k.target))&&A.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,C,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:C,handler:S})}}]),E}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=c};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(c){if(s.indexOf(c)<=s.indexOf(o)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];(d=console)[c].apply(d,f)}}function l(c){return s.reduce(function(d,h){return d[h]=a.bind(console,h,c),d},{})}a.level=l.level=function(c){o=c},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(f,p,v){return v||(v={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?v.strict?f===p:f==p:h(f,p,v)};function c(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,p,v){var _,x;if(c(f)||c(p)||f.prototype!==p.prototype)return!1;if(a(f))return a(p)?(f=s.call(f),p=s.call(p),l(f,p,v)):!1;if(d(f)){if(!d(p)||f.length!==p.length)return!1;for(_=0;_<f.length;_++)if(f[_]!==p[_])return!1;return!0}try{var g=o(f),m=o(p)}catch{return!1}if(g.length!=m.length)return!1;for(g.sort(),m.sort(),_=g.length-1;_>=0;_--)if(g[_]!=m[_])return!1;for(_=g.length-1;_>=0;_--)if(x=g[_],!l(f[x],p[x],v))return!1;return typeof f==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,c,d){d===void 0&&(d={}),this.attrName=l,this.keyName=c;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var d=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function w(R,b){var A=[],P=!0,N=!1,j=void 0;try{for(var F=R[Symbol.iterator](),$;!(P=($=F.next()).done)&&(A.push($.value),!(b&&A.length===b));P=!0);}catch(K){N=!0,j=K}finally{try{!P&&F.return&&F.return()}finally{if(N)throw j}}return A}return function(R,b){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return w(R,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function w(R,b){for(var A=0;A<b.length;A++){var P=b[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,b,A){return b&&w(R.prototype,b),A&&w(R,A),R}}(),a=function w(R,b,A){R===null&&(R=Function.prototype);var P=Object.getOwnPropertyDescriptor(R,b);if(P===void 0){var N=Object.getPrototypeOf(R);return N===null?void 0:w(N,b,A)}else{if("value"in P)return P.value;var j=P.get;return j===void 0?void 0:j.call(A)}},l=i(2),c=m(l),d=i(0),h=m(d),f=i(4),p=m(f),v=i(6),_=m(v),x=i(7),g=m(x);function m(w){return w&&w.__esModule?w:{default:w}}function E(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}function y(w,R){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:w}function k(w,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);w.prototype=Object.create(R&&R.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(w,R):w.__proto__=R)}var C=function(w){k(R,w);function R(){return E(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(_.default);C.blotName="code",C.tagName="CODE";var S=function(w){k(R,w);function R(){return E(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"delta",value:function(){var A=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(N,j){return N.insert(j).insert(`
`,A.formats())},new c.default)}},{key:"format",value:function(A,P){if(!(A===this.statics.blotName&&P)){var N=this.descendant(g.default,this.length()-1),j=s(N,1),F=j[0];F!=null&&F.deleteAt(F.length()-1,1),a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,A,P)}}},{key:"formatAt",value:function(A,P,N,j){if(P!==0&&!(h.default.query(N,h.default.Scope.BLOCK)==null||N===this.statics.blotName&&j===this.statics.formats(this.domNode))){var F=this.newlineIndex(A);if(!(F<0||F>=A+P)){var $=this.newlineIndex(A,!0)+1,K=F-$+1,W=this.isolate($,K),q=W.next;W.format(N,j),q instanceof R&&q.formatAt(0,A-$+P-K,N,j)}}}},{key:"insertAt",value:function(A,P,N){if(N==null){var j=this.descendant(g.default,A),F=s(j,2),$=F[0],K=F[1];$.insertAt(K,P)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var N=this.domNode.textContent.slice(A).indexOf(`
`);return N>-1?A+N:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,A);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(A),P.moveChildren(this),P.remove())}},{key:"replace",value:function(A){a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var N=h.default.find(P);N==null?P.parentNode.removeChild(P):N instanceof h.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(A){var P=a(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,A);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),R}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=C,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},o=function(){function q(U,L){var M=[],B=!0,G=!1,H=void 0;try{for(var V=U[Symbol.iterator](),z;!(B=(z=V.next()).done)&&(M.push(z.value),!(L&&M.length===L));B=!0);}catch(Y){G=!0,H=Y}finally{try{!B&&V.return&&V.return()}finally{if(G)throw H}}return M}return function(U,L){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return q(U,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function q(U,L){for(var M=0;M<L.length;M++){var B=L[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(U,B.key,B)}}return function(U,L,M){return L&&q(U.prototype,L),M&&q(U,M),U}}(),l=i(2),c=P(l),d=i(20),h=P(d),f=i(0),p=P(f),v=i(13),_=P(v),x=i(24),g=P(x),m=i(4),E=P(m),y=i(16),k=P(y),C=i(21),S=P(C),w=i(11),R=P(w),b=i(3),A=P(b);function P(q){return q&&q.__esModule?q:{default:q}}function N(q,U,L){return U in q?Object.defineProperty(q,U,{value:L,enumerable:!0,configurable:!0,writable:!0}):q[U]=L,q}function j(q,U){if(!(q instanceof U))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,$=function(){function q(U){j(this,q),this.scroll=U,this.delta=this.getDelta()}return a(q,[{key:"applyDelta",value:function(L){var M=this,B=!1;this.scroll.update();var G=this.scroll.length();return this.scroll.batchStart(),L=W(L),L.reduce(function(H,V){var z=V.retain||V.delete||V.insert.length||1,Y=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var X=V.insert;X.endsWith(`
`)&&B&&(B=!1,X=X.slice(0,-1)),H>=G&&!X.endsWith(`
`)&&(B=!0),M.scroll.insertAt(H,X);var re=M.scroll.line(H),ce=o(re,2),me=ce[0],ye=ce[1],be=(0,A.default)({},(0,m.bubbleFormats)(me));if(me instanceof E.default){var Oe=me.descendant(p.default.Leaf,ye),xt=o(Oe,1),ot=xt[0];be=(0,A.default)(be,(0,m.bubbleFormats)(ot))}Y=h.default.attributes.diff(be,Y)||{}}else if(s(V.insert)==="object"){var ee=Object.keys(V.insert)[0];if(ee==null)return H;M.scroll.insertAt(H,ee,V.insert[ee])}G+=z}return Object.keys(Y).forEach(function(te){M.scroll.formatAt(H,z,te,Y[te])}),H+z},0),L.reduce(function(H,V){return typeof V.delete=="number"?(M.scroll.deleteAt(H,V.delete),H):H+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(L)}},{key:"deleteText",value:function(L,M){return this.scroll.deleteAt(L,M),this.update(new c.default().retain(L).delete(M))}},{key:"formatLine",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(G).forEach(function(H){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[H])){var V=B.scroll.lines(L,Math.max(M,1)),z=M;V.forEach(function(Y){var X=Y.length();if(!(Y instanceof _.default))Y.format(H,G[H]);else{var re=L-Y.offset(B.scroll),ce=Y.newlineIndex(re+z)-re+1;Y.formatAt(re,ce,H,G[H])}z-=X})}}),this.scroll.optimize(),this.update(new c.default().retain(L).retain(M,(0,S.default)(G)))}},{key:"formatText",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(G).forEach(function(H){B.scroll.formatAt(L,M,H,G[H])}),this.update(new c.default().retain(L).retain(M,(0,S.default)(G)))}},{key:"getContents",value:function(L,M){return this.delta.slice(L,L+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(L,M){return L.concat(M.delta())},new c.default)}},{key:"getFormat",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],G=[];M===0?this.scroll.path(L).forEach(function(V){var z=o(V,1),Y=z[0];Y instanceof E.default?B.push(Y):Y instanceof p.default.Leaf&&G.push(Y)}):(B=this.scroll.lines(L,M),G=this.scroll.descendants(p.default.Leaf,L,M));var H=[B,G].map(function(V){if(V.length===0)return{};for(var z=(0,m.bubbleFormats)(V.shift());Object.keys(z).length>0;){var Y=V.shift();if(Y==null)return z;z=K((0,m.bubbleFormats)(Y),z)}return z});return A.default.apply(A.default,H)}},{key:"getText",value:function(L,M){return this.getContents(L,M).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(L,M,B){return this.scroll.insertAt(L,M,B),this.update(new c.default().retain(L).insert(N({},M,B)))}},{key:"insertText",value:function(L,M){var B=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(L,M),Object.keys(G).forEach(function(H){B.scroll.formatAt(L,M.length,H,G[H])}),this.update(new c.default().retain(L).insert(M,(0,S.default)(G)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var L=this.scroll.children.head;return L.statics.blotName!==E.default.blotName||L.children.length>1?!1:L.children.head instanceof k.default}},{key:"removeFormat",value:function(L,M){var B=this.getText(L,M),G=this.scroll.line(L+M),H=o(G,2),V=H[0],z=H[1],Y=0,X=new c.default;V!=null&&(V instanceof _.default?Y=V.newlineIndex(z)-z+1:Y=V.length()-z,X=V.delta().slice(z,z+Y-1).insert(`
`));var re=this.getContents(L,M+Y),ce=re.diff(new c.default().insert(B).concat(X)),me=new c.default().retain(L).concat(ce);return this.applyDelta(me)}},{key:"update",value:function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,G=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(F)&&p.default.find(M[0].target)){var H=p.default.find(M[0].target),V=(0,m.bubbleFormats)(H),z=H.offset(this.scroll),Y=M[0].oldValue.replace(g.default.CONTENTS,""),X=new c.default().insert(Y),re=new c.default().insert(H.value()),ce=new c.default().retain(z).concat(X.diff(re,B));L=ce.reduce(function(me,ye){return ye.insert?me.insert(ye.insert,V):me.push(ye)},new c.default),this.delta=G.compose(L)}else this.delta=this.getDelta(),(!L||!(0,R.default)(G.compose(L),this.delta))&&(L=G.diff(this.delta,B));return L}}]),q}();function K(q,U){return Object.keys(U).reduce(function(L,M){return q[M]==null||(U[M]===q[M]?L[M]=U[M]:Array.isArray(U[M])?U[M].indexOf(q[M])<0&&(L[M]=U[M].concat([q[M]])):L[M]=[U[M],q[M]]),L},{})}function W(q){return q.reduce(function(U,L){if(L.insert===1){var M=(0,S.default)(L.attributes);return delete M.image,U.insert({image:L.attributes.image},M)}if(L.attributes!=null&&(L.attributes.list===!0||L.attributes.bullet===!0)&&(L=(0,S.default)(L),L.attributes.list?L.attributes.list="ordered":(L.attributes.list="bullet",delete L.attributes.bullet)),typeof L.insert=="string"){var B=L.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(B,L.attributes)}return U.push(L)},new c.default)}r.default=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function w(R,b){var A=[],P=!0,N=!1,j=void 0;try{for(var F=R[Symbol.iterator](),$;!(P=($=F.next()).done)&&(A.push($.value),!(b&&A.length===b));P=!0);}catch(K){N=!0,j=K}finally{try{!P&&F.return&&F.return()}finally{if(N)throw j}}return A}return function(R,b){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return w(R,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function w(R,b){for(var A=0;A<b.length;A++){var P=b[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,b,A){return b&&w(R.prototype,b),A&&w(R,A),R}}(),a=i(0),l=g(a),c=i(21),d=g(c),h=i(11),f=g(h),p=i(8),v=g(p),_=i(10),x=g(_);function g(w){return w&&w.__esModule?w:{default:w}}function m(w){if(Array.isArray(w)){for(var R=0,b=Array(w.length);R<w.length;R++)b[R]=w[R];return b}else return Array.from(w)}function E(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}var y=(0,x.default)("quill:selection"),k=function w(R){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,w),this.index=R,this.length=b},C=function(){function w(R,b){var A=this;E(this,w),this.emitter=b,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(P,N){P===v.default.events.TEXT_CHANGE&&N.length()>0&&A.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var P=A.getNativeRange();P!=null&&P.start.node!==A.cursor.textNode&&A.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(P,N){if(N.range){var j=N.range,F=j.startNode,$=j.startOffset,K=j.endNode,W=j.endOffset;A.setNativeRange(F,$,K,W)}}),this.update(v.default.sources.SILENT)}return o(w,[{key:"handleComposition",value:function(){var b=this;this.root.addEventListener("compositionstart",function(){b.composing=!0}),this.root.addEventListener("compositionend",function(){if(b.composing=!1,b.cursor.parent){var A=b.cursor.restore();if(!A)return;setTimeout(function(){b.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var b=this;this.emitter.listenDOM("mousedown",document.body,function(){b.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){b.mouseDown=!1,b.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(b,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[b])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||l.default.query(b,l.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var N=l.default.find(P.start.node,!1);if(N==null)return;if(N instanceof l.default.Leaf){var j=N.split(P.start.offset);N.parent.insertBefore(this.cursor,j)}else N.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(b,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();b=Math.min(b,P-1),A=Math.min(b+A,P-1)-b;var N=void 0,j=this.scroll.leaf(b),F=s(j,2),$=F[0],K=F[1];if($==null)return null;var W=$.position(K,!0),q=s(W,2);N=q[0],K=q[1];var U=document.createRange();if(A>0){U.setStart(N,K);var L=this.scroll.leaf(b+A),M=s(L,2);if($=M[0],K=M[1],$==null)return null;var B=$.position(K,!0),G=s(B,2);return N=G[0],K=G[1],U.setEnd(N,K),U.getBoundingClientRect()}else{var H="left",V=void 0;return N instanceof Text?(K<N.data.length?(U.setStart(N,K),U.setEnd(N,K+1)):(U.setStart(N,K-1),U.setEnd(N,K),H="right"),V=U.getBoundingClientRect()):(V=$.domNode.getBoundingClientRect(),K>0&&(H="right")),{bottom:V.top+V.height,height:V.height,left:V[H],right:V[H],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var b=document.getSelection();if(b==null||b.rangeCount<=0)return null;var A=b.getRangeAt(0);if(A==null)return null;var P=this.normalizeNative(A);return y.info("getNativeRange",P),P}},{key:"getRange",value:function(){var b=this.getNativeRange();if(b==null)return[null,null];var A=this.normalizedToRange(b);return[A,b]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(b){var A=this,P=[[b.start.node,b.start.offset]];b.native.collapsed||P.push([b.end.node,b.end.offset]);var N=P.map(function($){var K=s($,2),W=K[0],q=K[1],U=l.default.find(W,!0),L=U.offset(A.scroll);return q===0?L:U instanceof l.default.Container?L+U.length():L+U.index(W,q)}),j=Math.min(Math.max.apply(Math,m(N)),this.scroll.length()-1),F=Math.min.apply(Math,[j].concat(m(N)));return new k(F,j-F)}},{key:"normalizeNative",value:function(b){if(!S(this.root,b.startContainer)||!b.collapsed&&!S(this.root,b.endContainer))return null;var A={start:{node:b.startContainer,offset:b.startOffset},end:{node:b.endContainer,offset:b.endOffset},native:b};return[A.start,A.end].forEach(function(P){for(var N=P.node,j=P.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>j)N=N.childNodes[j],j=0;else if(N.childNodes.length===j)N=N.lastChild,j=N instanceof Text?N.data.length:N.childNodes.length+1;else break;P.node=N,P.offset=j}),A}},{key:"rangeToNative",value:function(b){var A=this,P=b.collapsed?[b.index]:[b.index,b.index+b.length],N=[],j=this.scroll.length();return P.forEach(function(F,$){F=Math.min(j-1,F);var K=void 0,W=A.scroll.leaf(F),q=s(W,2),U=q[0],L=q[1],M=U.position(L,$!==0),B=s(M,2);K=B[0],L=B[1],N.push(K,L)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(b){var A=this.lastRange;if(A!=null){var P=this.getBounds(A.index,A.length);if(P!=null){var N=this.scroll.length()-1,j=this.scroll.line(Math.min(A.index,N)),F=s(j,1),$=F[0],K=$;if(A.length>0){var W=this.scroll.line(Math.min(A.index+A.length,N)),q=s(W,1);K=q[0]}if(!($==null||K==null)){var U=b.getBoundingClientRect();P.top<U.top?b.scrollTop-=U.top-P.top:P.bottom>U.bottom&&(b.scrollTop+=P.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(b,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",b,A,P,N),!(b!=null&&(this.root.parentNode==null||b.parentNode==null||P.parentNode==null))){var F=document.getSelection();if(F!=null)if(b!=null){this.hasFocus()||this.root.focus();var $=(this.getNativeRange()||{}).native;if($==null||j||b!==$.startContainer||A!==$.startOffset||P!==$.endContainer||N!==$.endOffset){b.tagName=="BR"&&(A=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode),P.tagName=="BR"&&(N=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var K=document.createRange();K.setStart(b,A),K.setEnd(P,N),F.removeAllRanges(),F.addRange(K)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(b){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof A=="string"&&(P=A,A=!1),y.info("setRange",b),b!=null){var N=this.rangeToNative(b);this.setNativeRange.apply(this,m(N).concat([A]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,A=this.lastRange,P=this.getRange(),N=s(P,2),j=N[0],F=N[1];if(this.lastRange=j,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(A,this.lastRange)){var $;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[v.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(A),b];if(($=this.emitter).emit.apply($,[v.default.events.EDITOR_CHANGE].concat(K)),b!==v.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,K)}}}}]),w}();function S(w,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),w.contains(R)}r.Range=k,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,x){for(var g=0;g<x.length;g++){var m=x[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,x,g){return x&&v(_.prototype,x),g&&v(_,g),_}}(),o=function v(_,x,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,x);if(m===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:v(E,x,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"insertInto",value:function(g,m){g.children.length===0?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,g,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)p.hasOwnProperty(v)&&(f[v]=p[v])};return function(f,p){h(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),c=function(h){s(f,h);function f(p){var v=h.call(this,p)||this;return v.build(),v}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var _=d(v);p.insertBefore(_,p.children.head||void 0)}catch(x){if(x instanceof l.ParchmentError)return;throw x}})},f.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(_,x,g){_.deleteAt(x,g)})},f.prototype.descendant=function(p,v){var _=this.children.find(v),x=_[0],g=_[1];return p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p?[x,g]:x instanceof f?x.descendant(p,g):[null,-1]},f.prototype.descendants=function(p,v,_){v===void 0&&(v=0),_===void 0&&(_=Number.MAX_VALUE);var x=[],g=_;return this.children.forEachAt(v,_,function(m,E,y){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&x.push(m),m instanceof f&&(x=x.concat(m.descendants(p,E,g))),g-=y}),x},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(p,v,_,x){this.children.forEachAt(p,v,function(g,m,E){g.formatAt(m,E,_,x)})},f.prototype.insertAt=function(p,v,_){var x=this.children.find(p),g=x[0],m=x[1];if(g)g.insertAt(m,v,_);else{var E=_==null?l.create("text",v):l.create(v,_);this.appendChild(E)}},f.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return p instanceof _}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},f.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},f.prototype.moveChildren=function(p,v){this.children.forEach(function(_){p.insertBefore(_,v)})},f.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},f.prototype.path=function(p,v){v===void 0&&(v=!1);var _=this.children.find(p,v),x=_[0],g=_[1],m=[[this,p]];return x instanceof f?m.concat(x.path(g,v)):(x!=null&&m.push([x,g]),m)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),h.prototype.replace.call(this,p)},f.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(p,this.length(),function(x,g,m){x=x.split(g,v),_.appendChild(x)}),_},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,v){var _=this,x=[],g=[];p.forEach(function(m){m.target===_.domNode&&m.type==="childList"&&(x.push.apply(x,m.addedNodes),g.push.apply(g,m.removedNodes))}),g.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(m);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===_.domNode)&&E.detach()}}),x.filter(function(m){return m.parentNode==_.domNode}).sort(function(m,E){return m===E?0:m.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var E=null;m.nextSibling!=null&&(E=l.find(m.nextSibling));var y=d(m);(y.next!=E||y.next==null)&&(y.parent!=null&&y.parent.removeChild(_),_.insertBefore(y,E||void 0))})},f}(a.default);function d(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(v){f.domNode.appendChild(v)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)p.hasOwnProperty(v)&&(f[v]=p[v])};return function(f,p){h(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),c=i(1),d=function(h){s(f,h);function f(p){var v=h.call(this,p)||this;return v.attributes=new a.default(v.domNode),v}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,v){var _=c.query(p);_ instanceof o.default?this.attributes.attribute(_,v):v&&_!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},f.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},f.prototype.replaceWith=function(p,v){var _=h.prototype.replaceWith.call(this,p,v);return this.attributes.copy(_),_},f.prototype.update=function(p,v){var _=this;h.prototype.update.call(this,p,v),p.some(function(x){return x.target===_.domNode&&x.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,v){var _=h.prototype.wrap.call(this,p,v);return _ instanceof f&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},f}(l.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=a.Scope.INLINE_BLOT,d}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(c,d,h){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var f=o(!0,{},d);h||(f=Object.keys(f).reduce(function(v,_){return f[_]!=null&&(v[_]=f[_]),v},{}));for(var p in c)c[p]!==void 0&&d[p]===void 0&&(f[p]=c[p]);return Object.keys(f).length>0?f:void 0},diff:function(c,d){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});var h=Object.keys(c).concat(Object.keys(d)).reduce(function(f,p){return s(c[p],d[p])||(f[p]=d[p]===void 0?null:d[p]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(c,d,h){if(typeof c!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(p,v){return c[v]===void 0&&(p[v]=d[v]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=a.length(d);if(c>=f-h?(c=f-h,this.index+=1,this.offset=0):this.offset+=c,typeof d.delete=="number")return{delete:c};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=c:typeof d.insert=="string"?p.insert=d.insert.substr(h,c):p.insert=d.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=c,this.index=d,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function s(_,x){return x!=null&&_ instanceof x}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(_,x,g,m,E){typeof x=="object"&&(g=x.depth,m=x.prototype,E=x.includeNonEnumerable,x=x.circular);var y=[],k=[],C=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof g>"u"&&(g=1/0);function S(w,R){if(w===null)return null;if(R===0)return w;var b,A;if(typeof w!="object")return w;if(s(w,o))b=new o;else if(s(w,a))b=new a;else if(s(w,l))b=new l(function(U,L){w.then(function(M){U(S(M,R-1))},function(M){L(S(M,R-1))})});else if(c.__isArray(w))b=[];else if(c.__isRegExp(w))b=new RegExp(w.source,v(w)),w.lastIndex&&(b.lastIndex=w.lastIndex);else if(c.__isDate(w))b=new Date(w.getTime());else{if(C&&Buffer.isBuffer(w))return Buffer.allocUnsafe?b=Buffer.allocUnsafe(w.length):b=new Buffer(w.length),w.copy(b),b;s(w,Error)?b=Object.create(w):typeof m>"u"?(A=Object.getPrototypeOf(w),b=Object.create(A)):(b=Object.create(m),A=m)}if(x){var P=y.indexOf(w);if(P!=-1)return k[P];y.push(w),k.push(b)}s(w,o)&&w.forEach(function(U,L){var M=S(L,R-1),B=S(U,R-1);b.set(M,B)}),s(w,a)&&w.forEach(function(U){var L=S(U,R-1);b.add(L)});for(var N in w){var j;A&&(j=Object.getOwnPropertyDescriptor(A,N)),!(j&&j.set==null)&&(b[N]=S(w[N],R-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(w),N=0;N<F.length;N++){var $=F[N],K=Object.getOwnPropertyDescriptor(w,$);K&&!K.enumerable&&!E||(b[$]=S(w[$],R-1),K.enumerable||Object.defineProperty(b,$,{enumerable:!1}))}if(E)for(var W=Object.getOwnPropertyNames(w),N=0;N<W.length;N++){var q=W[N],K=Object.getOwnPropertyDescriptor(w,q);K&&K.enumerable||(b[q]=S(w[q],R-1),Object.defineProperty(b,q,{enumerable:!1}))}return b}return S(_,g)}c.clonePrototype=function(x){if(x===null)return null;var g=function(){};return g.prototype=x,new g};function d(_){return Object.prototype.toString.call(_)}c.__objToStr=d;function h(_){return typeof _=="object"&&d(_)==="[object Date]"}c.__isDate=h;function f(_){return typeof _=="object"&&d(_)==="[object Array]"}c.__isArray=f;function p(_){return typeof _=="object"&&d(_)==="[object RegExp]"}c.__isRegExp=p;function v(_){var x="";return _.global&&(x+="g"),_.ignoreCase&&(x+="i"),_.multiline&&(x+="m"),x}return c.__getRegExpFlags=v,c}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(A,P){var N=[],j=!0,F=!1,$=void 0;try{for(var K=A[Symbol.iterator](),W;!(j=(W=K.next()).done)&&(N.push(W.value),!(P&&N.length===P));j=!0);}catch(q){F=!0,$=q}finally{try{!j&&K.return&&K.return()}finally{if(F)throw $}}return N}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function b(A,P){for(var N=0;N<P.length;N++){var j=P[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,j.key,j)}}return function(A,P,N){return P&&b(A.prototype,P),N&&b(A,N),A}}(),a=function b(A,P,N){A===null&&(A=Function.prototype);var j=Object.getOwnPropertyDescriptor(A,P);if(j===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:b(F,P,N)}else{if("value"in j)return j.value;var $=j.get;return $===void 0?void 0:$.call(N)}},l=i(0),c=y(l),d=i(8),h=y(d),f=i(4),p=y(f),v=i(16),_=y(v),x=i(13),g=y(x),m=i(25),E=y(m);function y(b){return b&&b.__esModule?b:{default:b}}function k(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function C(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function S(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}function w(b){return b instanceof p.default||b instanceof f.BlockEmbed}var R=function(b){S(A,b);function A(P,N){k(this,A);var j=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P));return j.emitter=N.emitter,Array.isArray(N.whitelist)&&(j.whitelist=N.whitelist.reduce(function(F,$){return F[$]=!0,F},{})),j.domNode.addEventListener("DOMNodeInserted",function(){}),j.optimize(),j.enable(),j}return o(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,j){var F=this.line(N),$=s(F,2),K=$[0],W=$[1],q=this.line(N+j),U=s(q,1),L=U[0];if(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,N,j),L!=null&&K!==L&&W>0){if(K instanceof f.BlockEmbed||L instanceof f.BlockEmbed){this.optimize();return}if(K instanceof g.default){var M=K.newlineIndex(K.length(),!0);if(M>-1&&(K=K.split(M+1),K===L)){this.optimize();return}}else if(L instanceof g.default){var B=L.newlineIndex(0);B>-1&&L.split(B+1)}var G=L.children.head instanceof _.default?null:L.children.head;K.moveChildren(L,G),K.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,j,F,$){this.whitelist!=null&&!this.whitelist[F]||(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,N,j,F,$),this.optimize())}},{key:"insertAt",value:function(N,j,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[j])){if(N>=this.length())if(F==null||c.default.query(j,c.default.Scope.BLOCK)==null){var $=c.default.create(this.statics.defaultChild);this.appendChild($),F==null&&j.endsWith(`
`)&&(j=j.slice(0,-1)),$.insertAt(0,j,F)}else{var K=c.default.create(j,F);this.appendChild(K)}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,N,j,F);this.optimize()}}},{key:"insertBefore",value:function(N,j){if(N.statics.scope===c.default.Scope.INLINE_BLOT){var F=c.default.create(this.statics.defaultChild);F.appendChild(N),N=F}a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,N,j)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(w,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function $(K,W,q){var U=[],L=q;return K.children.forEachAt(W,q,function(M,B,G){w(M)?U.push(M):M instanceof c.default.Container&&(U=U.concat($(M,B,L))),L-=G}),U};return F(this,N,j)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,N,j),N.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,N,j))}},{key:"path",value:function(N){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var j=h.default.sources.USER;typeof N=="string"&&(j=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,j,N),a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,j,N)}}}]),A}(c.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[p.default,f.BlockEmbed,E.default],r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(z,Y){var X=[],re=!0,ce=!1,me=void 0;try{for(var ye=z[Symbol.iterator](),be;!(re=(be=ye.next()).done)&&(X.push(be.value),!(Y&&X.length===Y));re=!0);}catch(Oe){ce=!0,me=Oe}finally{try{!re&&ye.return&&ye.return()}finally{if(ce)throw me}}return X}return function(z,Y){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return V(z,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(z,Y){for(var X=0;X<Y.length;X++){var re=Y[X];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(z,re.key,re)}}return function(z,Y,X){return Y&&V(z.prototype,Y),X&&V(z,X),z}}(),l=i(21),c=b(l),d=i(11),h=b(d),f=i(3),p=b(f),v=i(2),_=b(v),x=i(20),g=b(x),m=i(0),E=b(m),y=i(5),k=b(y),C=i(10),S=b(C),w=i(9),R=b(w);function b(V){return V&&V.__esModule?V:{default:V}}function A(V,z,Y){return z in V?Object.defineProperty(V,z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):V[z]=Y,V}function P(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function N(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function j(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var F=(0,S.default)("quill:keyboard"),$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(V){j(z,V),a(z,null,[{key:"match",value:function(X,re){return re=H(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ce){return!!re[ce]!==X[ce]&&re[ce]!==null})?!1:re.key===(X.which||X.keyCode)}}]);function z(Y,X){P(this,z);var re=N(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,Y,X));return re.bindings={},Object.keys(re.options.bindings).forEach(function(ce){ce==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||re.options.bindings[ce]&&re.addBinding(re.options.bindings[ce])}),re.addBinding({key:z.keys.ENTER,shiftKey:null},M),re.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},q),re.addBinding({key:z.keys.DELETE},{collapsed:!0},U)):(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),re.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),re.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},L),re.addBinding({key:z.keys.DELETE},{collapsed:!1},L),re.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),re.listen(),re}return a(z,[{key:"addBinding",value:function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=H(X);if(me==null||me.key==null)return F.warn("Attempted to add invalid keyboard binding",me);typeof re=="function"&&(re={handler:re}),typeof ce=="function"&&(ce={handler:ce}),me=(0,p.default)(me,re,ce),this.bindings[me.key]=this.bindings[me.key]||[],this.bindings[me.key].push(me)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var ce=re.which||re.keyCode,me=(X.bindings[ce]||[]).filter(function(Xe){return z.match(re,Xe)});if(me.length!==0){var ye=X.quill.getSelection();if(!(ye==null||!X.quill.hasFocus())){var be=X.quill.getLine(ye.index),Oe=o(be,2),xt=Oe[0],ot=Oe[1],ee=X.quill.getLeaf(ye.index),te=o(ee,2),le=te[0],ue=te[1],ie=ye.length===0?[le,ue]:X.quill.getLeaf(ye.index+ye.length),Ee=o(ie,2),xe=Ee[0],Te=Ee[1],De=le instanceof E.default.Text?le.value().slice(0,ue):"",ze=xe instanceof E.default.Text?xe.value().slice(Te):"",Fe={collapsed:ye.length===0,empty:ye.length===0&&xt.length()<=1,format:X.quill.getFormat(ye),offset:ot,prefix:De,suffix:ze},el=me.some(function(Xe){if(Xe.collapsed!=null&&Xe.collapsed!==Fe.collapsed||Xe.empty!=null&&Xe.empty!==Fe.empty||Xe.offset!=null&&Xe.offset!==Fe.offset)return!1;if(Array.isArray(Xe.format)){if(Xe.format.every(function(jn){return Fe.format[jn]==null}))return!1}else if(s(Xe.format)==="object"&&!Object.keys(Xe.format).every(function(jn){return Xe.format[jn]===!0?Fe.format[jn]!=null:Xe.format[jn]===!1?Fe.format[jn]==null:(0,h.default)(Xe.format[jn],Fe.format[jn])}))return!1;return Xe.prefix!=null&&!Xe.prefix.test(Fe.prefix)||Xe.suffix!=null&&!Xe.suffix.test(Fe.suffix)?!1:Xe.handler.call(X,ye,Fe)!==!0});el&&re.preventDefault()}}}})}}]),z}(R.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:G("bold"),italic:G("italic"),underline:G("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(z,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,Y){Y.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,k.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(z){this.quill.history.cutoff();var Y=new _.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(Y,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,k.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,Y){this.quill.format("list",!1,k.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var Y=this.quill.getLine(z.index),X=o(Y,2),re=X[0],ce=X[1],me=(0,p.default)({},re.formats(),{list:"checked"}),ye=new _.default().retain(z.index).insert(`
`,me).retain(re.length()-ce-1).retain(1,{list:"unchecked"});this.quill.updateContents(ye,k.default.sources.USER),this.quill.setSelection(z.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,Y){var X=this.quill.getLine(z.index),re=o(X,2),ce=re[0],me=re[1],ye=new _.default().retain(z.index).insert(`
`,Y.format).retain(ce.length()-me-1).retain(1,{header:null});this.quill.updateContents(ye,k.default.sources.USER),this.quill.setSelection(z.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,Y){var X=Y.prefix.length,re=this.quill.getLine(z.index),ce=o(re,2),me=ce[0],ye=ce[1];if(ye>X)return!0;var be=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText(z.index," ",k.default.sources.USER),this.quill.history.cutoff();var Oe=new _.default().retain(z.index-ye).delete(X+1).retain(me.length()-2-ye).retain(1,{list:be});this.quill.updateContents(Oe,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-X,k.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var Y=this.quill.getLine(z.index),X=o(Y,2),re=X[0],ce=X[1],me=new _.default().retain(z.index+re.length()-ce-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(me,k.default.sources.USER)}},"embed left":W(K.keys.LEFT,!1),"embed left shift":W(K.keys.LEFT,!0),"embed right":W(K.keys.RIGHT,!1),"embed right shift":W(K.keys.RIGHT,!0)}};function W(V,z){var Y,X=V===K.keys.LEFT?"prefix":"suffix";return Y={key:V,shiftKey:z,altKey:null},A(Y,X,/^$/),A(Y,"handler",function(ce){var me=ce.index;V===K.keys.RIGHT&&(me+=ce.length+1);var ye=this.quill.getLeaf(me),be=o(ye,1),Oe=be[0];return Oe instanceof E.default.Embed?(V===K.keys.LEFT?z?this.quill.setSelection(ce.index-1,ce.length+1,k.default.sources.USER):this.quill.setSelection(ce.index-1,k.default.sources.USER):z?this.quill.setSelection(ce.index,ce.length+1,k.default.sources.USER):this.quill.setSelection(ce.index+ce.length+1,k.default.sources.USER),!1):!0}),Y}function q(V,z){if(!(V.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(V.index),X=o(Y,1),re=X[0],ce={};if(z.offset===0){var me=this.quill.getLine(V.index-1),ye=o(me,1),be=ye[0];if(be!=null&&be.length()>1){var Oe=re.formats(),xt=this.quill.getFormat(V.index-1,1);ce=g.default.attributes.diff(Oe,xt)||{}}}var ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(V.index-ot,ot,k.default.sources.USER),Object.keys(ce).length>0&&this.quill.formatLine(V.index-ot,ot,ce,k.default.sources.USER),this.quill.focus()}}function U(V,z){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(V.index>=this.quill.getLength()-Y)){var X={},re=0,ce=this.quill.getLine(V.index),me=o(ce,1),ye=me[0];if(z.offset>=ye.length()-1){var be=this.quill.getLine(V.index+1),Oe=o(be,1),xt=Oe[0];if(xt){var ot=ye.formats(),ee=this.quill.getFormat(V.index,1);X=g.default.attributes.diff(ot,ee)||{},re=xt.length()}}this.quill.deleteText(V.index,Y,k.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(V.index+re-1,Y,X,k.default.sources.USER)}}function L(V){var z=this.quill.getLines(V),Y={};if(z.length>1){var X=z[0].formats(),re=z[z.length-1].formats();Y=g.default.attributes.diff(re,X)||{}}this.quill.deleteText(V,k.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(V.index,1,Y,k.default.sources.USER),this.quill.setSelection(V.index,k.default.sources.SILENT),this.quill.focus()}function M(V,z){var Y=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var X=Object.keys(z.format).reduce(function(re,ce){return E.default.query(ce,E.default.Scope.BLOCK)&&!Array.isArray(z.format[ce])&&(re[ce]=z.format[ce]),re},{});this.quill.insertText(V.index,`
`,X,k.default.sources.USER),this.quill.setSelection(V.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(re){X[re]==null&&(Array.isArray(z.format[re])||re!=="link"&&Y.quill.format(re,z.format[re],k.default.sources.USER))})}function B(V){return{key:K.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(Y){var X=E.default.query("code-block"),re=Y.index,ce=Y.length,me=this.quill.scroll.descendant(X,re),ye=o(me,2),be=ye[0],Oe=ye[1];if(be!=null){var xt=this.quill.getIndex(be),ot=be.newlineIndex(Oe,!0)+1,ee=be.newlineIndex(xt+Oe+ce),te=be.domNode.textContent.slice(ot,ee).split(`
`);Oe=0,te.forEach(function(le,ue){V?(be.insertAt(ot+Oe,X.TAB),Oe+=X.TAB.length,ue===0?re+=X.TAB.length:ce+=X.TAB.length):le.startsWith(X.TAB)&&(be.deleteAt(ot+Oe,X.TAB.length),Oe-=X.TAB.length,ue===0?re-=X.TAB.length:ce-=X.TAB.length),Oe+=le.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(re,ce,k.default.sources.SILENT)}}}}function G(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(V,!X.format[V],k.default.sources.USER)}}}function H(V){if(typeof V=="string"||typeof V=="number")return H({key:V});if((typeof V>"u"?"undefined":s(V))==="object"&&(V=(0,c.default)(V,!1)),typeof V.key=="string")if(K.keys[V.key.toUpperCase()]!=null)V.key=K.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[$]=V.shortKey,delete V.shortKey),V}r.default=K,r.SHORTKEY=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,E){var y=[],k=!0,C=!1,S=void 0;try{for(var w=m[Symbol.iterator](),R;!(k=(R=w.next()).done)&&(y.push(R.value),!(E&&y.length===E));k=!0);}catch(b){C=!0,S=b}finally{try{!k&&w.return&&w.return()}finally{if(C)throw S}}return y}return function(m,E){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function g(m,E,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,E);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,E,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=function(){function g(m,E){for(var y=0;y<E.length;y++){var k=E[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,E,y){return E&&g(m.prototype,E),y&&g(m,y),m}}(),l=i(0),c=f(l),d=i(7),h=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function v(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var x=function(g){_(m,g),a(m,null,[{key:"value",value:function(){}}]);function m(E,y){p(this,m);var k=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return k.selection=y,k.textNode=document.createTextNode(m.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,k){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,y,k);for(var C=this,S=0;C!=null&&C.statics.scope!==c.default.Scope.BLOCK_BLOT;)S+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=m.CONTENTS.length,C.optimize(),C.formatAt(S,m.CONTENTS.length,y,k),this._length=0)}},{key:"index",value:function(y,k){return y===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,k=this.selection.getNativeRange(),C=void 0,S=void 0,w=void 0;if(k!=null&&k.start.node===y&&k.end.node===y){var R=[y,k.start.offset,k.end.offset];C=R[0],S=R[1],w=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var b=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof h.default?(C=this.next.domNode,this.next.insertAt(0,b),this.textNode.data=m.CONTENTS):(this.textNode.data=b,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var A=[S,w].map(function(N){return Math.max(0,Math.min(C.data.length,N-1))}),P=s(A,2);return S=P[0],w=P[1],{startNode:C,startOffset:S,endNode:C,endOffset:w}}}}},{key:"update",value:function(y,k){var C=this;if(y.some(function(w){return w.type==="characterData"&&w.target===C.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),m}(c.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=c(s),a=i(4),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function x(g,m){for(var E=0;E<m.length;E++){var y=m[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,E){return m&&x(g.prototype,m),E&&x(g,E),g}}(),o=function x(g,m,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:x(k,m,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=c(a);function c(x){return x&&x.__esModule?x:{default:x}}function d(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function h(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function f(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var p=function(x){f(g,x);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"value",value:function(E){var y=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,E);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),_=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=v,r.ColorStyle=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function _(x,g){for(var m=0;m<g.length;m++){var E=g[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,g,m){return g&&_(x.prototype,g),m&&_(x,m),x}}(),o=function _(x,g,m){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,g);if(E===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:_(y,g,m)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(m)}},a=i(6),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function h(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function f(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var p=function(_){f(x,_);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"format",value:function(m,E){if(m!==this.statics.blotName||!E)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,m,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(m){var E=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,m);return m=this.sanitize(m),E.setAttribute("href",m),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return v(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),x}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(_,x){var g=document.createElement("a");g.href=_;var m=g.href.slice(0,g.href.indexOf(":"));return x.indexOf(m)>-1}r.default=p,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(g,m){for(var E=0;E<m.length;E++){var y=m[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,E){return m&&x(g.prototype,m),E&&x(g,E),g}}(),a=i(23),l=h(a),c=i(107),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function v(x,g){x.setAttribute(g,x.getAttribute(g)!=="true")}var _=function(){function x(g){var m=this;f(this,x),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var E=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),m.hasAttribute("value")&&y.setAttribute("data-value",m.getAttribute("value")),m.textContent&&y.setAttribute("data-label",m.textContent),y.addEventListener("click",function(){E.selectItem(y,!0)}),y.addEventListener("keydown",function(k){switch(k.keyCode){case l.default.keys.ENTER:E.selectItem(y,!0),k.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),k.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=d.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(y){var k=m.buildItem(y);E.appendChild(k),y.selected===!0&&m.selectItem(k)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(E){m.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(m!==y&&(y!=null&&y.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var y=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),x}();r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=F(s),a=i(5),l=F(a),c=i(4),d=F(c),h=i(16),f=F(h),p=i(25),v=F(p),_=i(24),x=F(_),g=i(35),m=F(g),E=i(6),y=F(E),k=i(22),C=F(k),S=i(7),w=F(S),R=i(55),b=F(R),A=i(42),P=F(A),N=i(23),j=F(N);function F($){return $&&$.__esModule?$:{default:$}}l.default.register({"blots/block":d.default,"blots/block/embed":c.BlockEmbed,"blots/break":f.default,"blots/container":v.default,"blots/cursor":x.default,"blots/embed":m.default,"blots/inline":y.default,"blots/scroll":C.default,"blots/text":w.default,"modules/clipboard":b.default,"modules/history":P.default,"modules/keyboard":j.default}),o.default.register(d.default,f.default,x.default,y.default,C.default,w.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,c){var d=this.isolate(l,c);d.remove()},a.prototype.formatAt=function(l,c,d,h){var f=this.isolate(l,c);if(s.query(d,s.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(s.query(d,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);f.wrap(p),p.format(d,h)}},a.prototype.insertAt=function(l,c,d){var h=d==null?s.create("text",c):s.create(c,d),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,c),c!=null&&(d=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var d=this.split(l);return d.split(c),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var d=typeof l=="string"?s.create(l,c):l;return d.replace(this),d},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var d=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),c=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=s.default.keys(this.domNode),p=o.default.keys(this.domNode),v=a.default.keys(this.domNode);f.concat(p).concat(v).forEach(function(_){var x=l.query(_,l.Scope.ATTRIBUTE);x instanceof s.default&&(h.attributes[x.attrName]=x)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(p){var v=f.attributes[p].value(f.domNode);h.format(p,v)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=h.attributes[p].value(h.domNode),f},{})},d}();r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c,d){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var l=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c){var d=c.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var l=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},d}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){o(this,l),this.quill=c,this.options=d,this.modules={}}return s(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function g(m,E){for(var y=0;y<E.length;y++){var k=E[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,E,y){return E&&g(m.prototype,E),y&&g(m,y),m}}(),o=function g(m,E,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,E);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,E,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=h(a),c=i(7),d=h(c);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function p(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function v(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var _="\uFEFF",x=function(g){v(m,g);function m(E){f(this,m);var y=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(k){y.contentNode.appendChild(k)}),y.leftGuard=document.createTextNode(_),y.rightGuard=document.createTextNode(_),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return s(m,[{key:"index",value:function(y,k){return y===this.leftGuard?0:y===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,y,k)}},{key:"restore",value:function(y){var k=void 0,C=void 0,S=y.data.split(_).join("");if(y===this.leftGuard)if(this.prev instanceof d.default){var w=this.prev.length();this.prev.insertAt(w,S),k={startNode:this.prev.domNode,startOffset:w+S.length}}else C=document.createTextNode(S),this.parent.insertBefore(l.default.create(C),this),k={startNode:C,startOffset:S.length};else y===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(C=document.createTextNode(S),this.parent.insertBefore(l.default.create(C),this.next),k={startNode:C,startOffset:S.length}));return y.data=_,k}},{key:"update",value:function(y,k){var C=this;y.forEach(function(S){if(S.type==="characterData"&&(S.target===C.leftGuard||S.target===C.rightGuard)){var w=C.restore(S.target);w&&(k.range=w)}})}}]),m}(l.default.Embed);r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new o.default.Attributor.Attribute("align","align",l),d=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=d,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},c=new o.default.Attributor.Attribute("direction","dir",l),d=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=d,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function g(m,E){for(var y=0;y<E.length;y++){var k=E[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(m,k.key,k)}}return function(m,E,y){return E&&g(m.prototype,E),y&&g(m,y),m}}(),o=function g(m,E,y){m===null&&(m=Function.prototype);var k=Object.getOwnPropertyDescriptor(m,E);if(k===void 0){var C=Object.getPrototypeOf(m);return C===null?void 0:g(C,E,y)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=c(a);function c(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function h(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function f(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),_=function(g){f(m,g);function m(){return d(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(y){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),x=new _("font","font-family",p);r.FontStyle=x,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function E(y,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,k,C){return k&&E(y.prototype,k),C&&E(y,C),y}}(),o=i(0),a=f(o),l=i(5),c=f(l),d=i(9),h=f(d);function f(E){return E&&E.__esModule?E:{default:E}}function p(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function v(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function _(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var x=function(E){_(y,E);function y(k,C){p(this,y);var S=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,k,C));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(c.default.events.EDITOR_CHANGE,function(w,R,b,A){w!==c.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||A===c.default.sources.USER?S.record(R,b):S.transform(R))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(y,[{key:"change",value:function(C,S){if(this.stack[C].length!==0){var w=this.stack[C].pop();this.stack[S].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[C],c.default.sources.USER),this.ignoreChange=!1;var R=m(w[C]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,S){if(C.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(S),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var b=this.stack.undo.pop();w=w.compose(b.undo),C=b.redo.compose(C)}else this.lastRecorded=R;this.stack.undo.push({redo:C,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(S){S.undo=C.transform(S.undo,!0),S.redo=C.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=C.transform(S.undo,!0),S.redo=C.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(E){var y=E.ops[E.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(k){return a.default.query(k,a.default.Scope.BLOCK)!=null}):!1}function m(E){var y=E.reduce(function(C,S){return C+=S.delete||0,C},0),k=E.length()-y;return g(E)&&(k-=1),k}r.default=x,r.getLastChangeIndex=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function M(B,G){for(var H=0;H<G.length;H++){var V=G[H];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}}return function(B,G,H){return G&&M(B.prototype,G),H&&M(B,H),B}}(),o=function M(B,G,H){B===null&&(B=Function.prototype);var V=Object.getOwnPropertyDescriptor(B,G);if(V===void 0){var z=Object.getPrototypeOf(B);return z===null?void 0:M(z,G,H)}else{if("value"in V)return V.value;var Y=V.get;return Y===void 0?void 0:Y.call(H)}},a=i(3),l=R(a),c=i(2),d=R(c),h=i(8),f=R(h),p=i(23),v=R(p),_=i(34),x=R(_),g=i(59),m=R(g),E=i(60),y=R(E),k=i(28),C=R(k),S=i(61),w=R(S);function R(M){return M&&M.__esModule?M:{default:M}}function b(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}function A(M,B){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:M}function P(M,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(M,B):M.__proto__=B)}var N=[!1,"center","right","justify"],j=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],$=["1","2","3",!1],K=["small",!1,"large","huge"],W=function(M){P(B,M);function B(G,H){b(this,B);var V=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,G,H)),z=function Y(X){if(!document.body.contains(G.root))return document.body.removeEventListener("click",Y);V.tooltip!=null&&!V.tooltip.root.contains(X.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(re){re.container.contains(X.target)||re.close()})};return G.emitter.listenDOM("click",document.body,z),V}return s(B,[{key:"addModule",value:function(H){var V=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(H,V){H.forEach(function(z){var Y=z.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),V[X]!=null))if(X==="direction")z.innerHTML=V[X][""]+V[X].rtl;else if(typeof V[X]=="string")z.innerHTML=V[X];else{var re=z.value||"";re!=null&&V[X][re]&&(z.innerHTML=V[X][re])}})})}},{key:"buildPickers",value:function(H,V){var z=this;this.pickers=H.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&L(X,N),new y.default(X,V.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var re=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&L(X,j,re==="background"?"#ffffff":"#000000"),new m.default(X,V[re])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?L(X,F):X.classList.contains("ql-header")?L(X,$):X.classList.contains("ql-size")&&L(X,K)),new C.default(X)});var Y=function(){z.pickers.forEach(function(re){re.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Y)}}]),B}(x.default);W.DEFAULTS=(0,l.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,G=this.container.querySelector("input.ql-image[type=file]");G==null&&(G=document.createElement("input"),G.setAttribute("type","file"),G.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),G.classList.add("ql-image"),G.addEventListener("change",function(){if(G.files!=null&&G.files[0]!=null){var H=new FileReader;H.onload=function(V){var z=B.quill.getSelection(!0);B.quill.updateContents(new d.default().retain(z.index).delete(z.length).insert({image:V.target.result}),f.default.sources.USER),B.quill.setSelection(z.index+1,f.default.sources.SILENT),G.value=""},H.readAsDataURL(G.files[0])}}),this.container.appendChild(G)),G.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(M){P(B,M);function B(G,H){b(this,B);var V=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,G,H));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return s(B,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(V){v.default.match(V,"enter")?(H.save(),V.preventDefault()):v.default.match(V,"escape")&&(H.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":H=U(H);case"formula":{if(!H)break;var z=this.quill.getSelection(!0);if(z!=null){var Y=z.index+z.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),H,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",f.default.sources.USER),this.quill.setSelection(Y+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(w.default);function U(M){var B=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":M}function L(M,B){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(H){var V=document.createElement("option");H===G?V.setAttribute("selected","selected"):V.setAttribute("value",H),M.appendChild(V)})}r.BaseTooltip=q,r.default=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,d=this.iterator();c=d();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},o.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var d=this.find(a),h=d[0],f=d[1],p,v=a-f,_=this.iterator(h);(p=_())&&v<a+l;){var x=p.length();a>v?c(p,a-v,Math.min(l,v+x-a)):c(p,0,Math.min(x,a+l-v)),v+=x}},o.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},o.prototype.reduce=function(a,l){for(var c,d=this.iterator();c=d();)l=a(l,c);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var v in p)p.hasOwnProperty(v)&&(f[v]=p[v])};return function(f,p){h(f,p);function v(){this.constructor=f}f.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,d=function(h){s(f,h);function f(p){var v=h.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(_){v.update(_)}),v.observer.observe(v.domNode,l),v.attach(),v}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(_){_.remove()}):h.prototype.deleteAt.call(this,p,v)},f.prototype.formatAt=function(p,v,_,x){this.update(),h.prototype.formatAt.call(this,p,v,_,x)},f.prototype.insertAt=function(p,v,_){this.update(),h.prototype.insertAt.call(this,p,v,_)},f.prototype.optimize=function(p,v){var _=this;p===void 0&&(p=[]),v===void 0&&(v={}),h.prototype.optimize.call(this,v);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)p.push(x.pop());for(var g=function(k,C){C===void 0&&(C=!0),!(k==null||k===_)&&k.domNode.parentNode!=null&&(k.domNode[a.DATA_KEY].mutations==null&&(k.domNode[a.DATA_KEY].mutations=[]),C&&g(k.parent))},m=function(k){k.domNode[a.DATA_KEY]==null||k.domNode[a.DATA_KEY].mutations==null||(k instanceof o.default&&k.children.forEach(m),k.optimize(v))},E=p,y=0;E.length>0;y+=1){if(y>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(k){var C=a.find(k.target,!0);C!=null&&(C.domNode===k.target&&(k.type==="childList"?(g(a.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var w=a.find(S,!1);g(w,!1),w instanceof o.default&&w.children.forEach(function(R){g(R,!1)})})):k.type==="attributes"&&g(C.prev)),g(C))}),this.children.forEach(m),E=[].slice.call(this.observer.takeRecords()),x=E.slice();x.length>0;)p.push(x.pop())}},f.prototype.update=function(p,v){var _=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(x){var g=a.find(x.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[x],g):(g.domNode[a.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===_||x.domNode[a.DATA_KEY]==null||x.update(x.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(p,v)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var c=function(d){s(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,p){var v=this;f===this.statics.blotName&&!p?(this.children.forEach(function(_){_ instanceof o.default||(_=_.wrap(h.blotName,!0)),v.attributes.copy(_)}),this.unwrap()):d.prototype.format.call(this,f,p)},h.prototype.formatAt=function(f,p,v,_){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var x=this.isolate(f,p);x.format(v,_)}else d.prototype.formatAt.call(this,f,p,v,_)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof h&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(h){var f=a.query(d.blotName).tagName;if(h.tagName!==f)return c.formats.call(this,h)},d.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):c.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,p,v){a.query(p,a.Scope.BLOCK)!=null?this.format(p,v):c.prototype.formatAt.call(this,h,f,p,v)},d.prototype.insertAt=function(h,f,p){if(p==null||a.query(f,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,f,p);else{var v=this.split(h),_=a.create(f,p);v.parent.insertBefore(_,v)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,f)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])};return function(c,d){l(c,d);function h(){this.constructor=c}c.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(d){},c.prototype.format=function(d,h){l.prototype.formatAt.call(this,0,this.length(),d,h)},c.prototype.formatAt=function(d,h,f,p){d===0&&h===this.length()?this.format(f,p):l.prototype.formatAt.call(this,d,h,f,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){c(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(c){s(d,c);function d(h){var f=c.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,p){p==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,f,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,f){var p=this;h.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var d=c.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),d=c.length>>>0,h=arguments[1],f,p=0;p<d;p++)if(f=c[p],l.call(h,f,p,c))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(y,k,C){if(y==k)return y?[[o,y]]:[];(C<0||y.length<C)&&(C=null);var S=h(y,k),w=y.substring(0,S);y=y.substring(S),k=k.substring(S),S=f(y,k);var R=y.substring(y.length-S);y=y.substring(0,y.length-S),k=k.substring(0,k.length-S);var b=l(y,k);return w&&b.unshift([o,w]),R&&b.push([o,R]),v(b),C!=null&&(b=g(b,C)),b=m(b),b}function l(y,k){var C;if(!y)return[[s,k]];if(!k)return[[i,y]];var S=y.length>k.length?y:k,w=y.length>k.length?k:y,R=S.indexOf(w);if(R!=-1)return C=[[s,S.substring(0,R)],[o,w],[s,S.substring(R+w.length)]],y.length>k.length&&(C[0][0]=C[2][0]=i),C;if(w.length==1)return[[i,y],[s,k]];var b=p(y,k);if(b){var A=b[0],P=b[1],N=b[2],j=b[3],F=b[4],$=a(A,N),K=a(P,j);return $.concat([[o,F]],K)}return c(y,k)}function c(y,k){for(var C=y.length,S=k.length,w=Math.ceil((C+S)/2),R=w,b=2*w,A=new Array(b),P=new Array(b),N=0;N<b;N++)A[N]=-1,P[N]=-1;A[R+1]=0,P[R+1]=0;for(var j=C-S,F=j%2!=0,$=0,K=0,W=0,q=0,U=0;U<w;U++){for(var L=-U+$;L<=U-K;L+=2){var M=R+L,B;L==-U||L!=U&&A[M-1]<A[M+1]?B=A[M+1]:B=A[M-1]+1;for(var G=B-L;B<C&&G<S&&y.charAt(B)==k.charAt(G);)B++,G++;if(A[M]=B,B>C)K+=2;else if(G>S)$+=2;else if(F){var H=R+j-L;if(H>=0&&H<b&&P[H]!=-1){var V=C-P[H];if(B>=V)return d(y,k,B,G)}}}for(var z=-U+W;z<=U-q;z+=2){var H=R+z,V;z==-U||z!=U&&P[H-1]<P[H+1]?V=P[H+1]:V=P[H-1]+1;for(var Y=V-z;V<C&&Y<S&&y.charAt(C-V-1)==k.charAt(S-Y-1);)V++,Y++;if(P[H]=V,V>C)q+=2;else if(Y>S)W+=2;else if(!F){var M=R+j-z;if(M>=0&&M<b&&A[M]!=-1){var B=A[M],G=R+B-M;if(V=C-V,B>=V)return d(y,k,B,G)}}}}return[[i,y],[s,k]]}function d(y,k,C,S){var w=y.substring(0,C),R=k.substring(0,S),b=y.substring(C),A=k.substring(S),P=a(w,R),N=a(b,A);return P.concat(N)}function h(y,k){if(!y||!k||y.charAt(0)!=k.charAt(0))return 0;for(var C=0,S=Math.min(y.length,k.length),w=S,R=0;C<w;)y.substring(R,w)==k.substring(R,w)?(C=w,R=C):S=w,w=Math.floor((S-C)/2+C);return w}function f(y,k){if(!y||!k||y.charAt(y.length-1)!=k.charAt(k.length-1))return 0;for(var C=0,S=Math.min(y.length,k.length),w=S,R=0;C<w;)y.substring(y.length-w,y.length-R)==k.substring(k.length-w,k.length-R)?(C=w,R=C):S=w,w=Math.floor((S-C)/2+C);return w}function p(y,k){var C=y.length>k.length?y:k,S=y.length>k.length?k:y;if(C.length<4||S.length*2<C.length)return null;function w(K,W,q){for(var U=K.substring(q,q+Math.floor(K.length/4)),L=-1,M="",B,G,H,V;(L=W.indexOf(U,L+1))!=-1;){var z=h(K.substring(q),W.substring(L)),Y=f(K.substring(0,q),W.substring(0,L));M.length<Y+z&&(M=W.substring(L-Y,L)+W.substring(L,L+z),B=K.substring(0,q-Y),G=K.substring(q+z),H=W.substring(0,L-Y),V=W.substring(L+z))}return M.length*2>=K.length?[B,G,H,V,M]:null}var R=w(C,S,Math.ceil(C.length/4)),b=w(C,S,Math.ceil(C.length/2)),A;if(!R&&!b)return null;b?R?A=R[4].length>b[4].length?R:b:A=b:A=R;var P,N,j,F;y.length>k.length?(P=A[0],N=A[1],j=A[2],F=A[3]):(j=A[0],F=A[1],P=A[2],N=A[3]);var $=A[4];return[P,N,j,F,$]}function v(y){y.push([o,""]);for(var k=0,C=0,S=0,w="",R="",b;k<y.length;)switch(y[k][0]){case s:S++,R+=y[k][1],k++;break;case i:C++,w+=y[k][1],k++;break;case o:C+S>1?(C!==0&&S!==0&&(b=h(R,w),b!==0&&(k-C-S>0&&y[k-C-S-1][0]==o?y[k-C-S-1][1]+=R.substring(0,b):(y.splice(0,0,[o,R.substring(0,b)]),k++),R=R.substring(b),w=w.substring(b)),b=f(R,w),b!==0&&(y[k][1]=R.substring(R.length-b)+y[k][1],R=R.substring(0,R.length-b),w=w.substring(0,w.length-b))),C===0?y.splice(k-S,C+S,[s,R]):S===0?y.splice(k-C,C+S,[i,w]):y.splice(k-C-S,C+S,[i,w],[s,R]),k=k-C-S+(C?1:0)+(S?1:0)+1):k!==0&&y[k-1][0]==o?(y[k-1][1]+=y[k][1],y.splice(k,1)):k++,S=0,C=0,w="",R="";break}y[y.length-1][1]===""&&y.pop();var A=!1;for(k=1;k<y.length-1;)y[k-1][0]==o&&y[k+1][0]==o&&(y[k][1].substring(y[k][1].length-y[k-1][1].length)==y[k-1][1]?(y[k][1]=y[k-1][1]+y[k][1].substring(0,y[k][1].length-y[k-1][1].length),y[k+1][1]=y[k-1][1]+y[k+1][1],y.splice(k-1,1),A=!0):y[k][1].substring(0,y[k+1][1].length)==y[k+1][1]&&(y[k-1][1]+=y[k+1][1],y[k][1]=y[k][1].substring(y[k+1][1].length)+y[k+1][1],y.splice(k+1,1),A=!0)),k++;A&&v(y)}var _=a;_.INSERT=s,_.DELETE=i,_.EQUAL=o,n.exports=_;function x(y,k){if(k===0)return[o,y];for(var C=0,S=0;S<y.length;S++){var w=y[S];if(w[0]===i||w[0]===o){var R=C+w[1].length;if(k===R)return[S+1,y];if(k<R){y=y.slice();var b=k-C,A=[w[0],w[1].slice(0,b)],P=[w[0],w[1].slice(b)];return y.splice(S,1,A,P),[S+1,y]}else C=R}}throw new Error("cursor_pos is out of bounds!")}function g(y,k){var C=x(y,k),S=C[1],w=C[0],R=S[w],b=S[w+1];if(R==null)return y;if(R[0]!==o)return y;if(b!=null&&R[1]+b[1]===b[1]+R[1])return S.splice(w,2,b,R),E(S,w,2);if(b!=null&&b[1].indexOf(R[1])===0){S.splice(w,2,[b[0],R[1]],[0,R[1]]);var A=b[1].slice(R[1].length);return A.length>0&&S.splice(w+2,0,[b[0],A]),E(S,w,3)}else return y}function m(y){for(var k=!1,C=function(b){return b.charCodeAt(0)>=56320&&b.charCodeAt(0)<=57343},S=function(b){return b.charCodeAt(b.length-1)>=55296&&b.charCodeAt(b.length-1)<=56319},w=2;w<y.length;w+=1)y[w-2][0]===o&&S(y[w-2][1])&&y[w-1][0]===i&&C(y[w-1][1])&&y[w][0]===s&&C(y[w][1])&&(k=!0,y[w-1][1]=y[w-2][1].slice(-1)+y[w-1][1],y[w][1]=y[w-2][1].slice(-1)+y[w][1],y[w-2][1]=y[w-2][1].slice(0,-1));if(!k)return y;for(var R=[],w=0;w<y.length;w+=1)y[w][1].length>0&&R.push(y[w]);return R}function E(y,k,C){for(var S=k+C-1;S>=0&&S>=k-1;S--)if(S+1<y.length){var w=y[S],R=y[S+1];w[0]===R[1]&&y.splice(S,2,[w[0],w[1]+R[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)i.call(h,f)&&d.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d,h){var f=s?s+d:d,p=this._events[f];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,x=new Array(_);v<_;v++)x[v]=p[v].fn;return x},l.prototype.emit=function(d,h,f,p,v,_){var x=s?s+d:d;if(!this._events[x])return!1;var g=this._events[x],m=arguments.length,E,y;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,f),!0;case 4:return g.fn.call(g.context,h,f,p),!0;case 5:return g.fn.call(g.context,h,f,p,v),!0;case 6:return g.fn.call(g.context,h,f,p,v,_),!0}for(y=1,E=new Array(m-1);y<m;y++)E[y-1]=arguments[y];g.fn.apply(g.context,E)}else{var k=g.length,C;for(y=0;y<k;y++)switch(g[y].once&&this.removeListener(d,g[y].fn,void 0,!0),m){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,h);break;case 3:g[y].fn.call(g[y].context,h,f);break;case 4:g[y].fn.call(g[y].context,h,f,p);break;default:if(!E)for(C=1,E=new Array(m-1);C<m;C++)E[C-1]=arguments[C];g[y].fn.apply(g[y].context,E)}}return!0},l.prototype.on=function(d,h,f){var p=new a(h,f||this),v=s?s+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(d,h,f){var p=new a(h,f||this,!0),v=s?s+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(d,h,f,p){var v=s?s+d:d;if(!this._events[v])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var _=this._events[v];if(_.fn)_.fn===h&&(!p||_.once)&&(!f||_.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var x=0,g=[],m=_.length;x<m;x++)(_[x].fn!==h||p&&!_[x].once||f&&_[x].context!==f)&&g.push(_[x]);g.length?this._events[v]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=s?s+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},o=function(){function ee(te,le){var ue=[],ie=!0,Ee=!1,xe=void 0;try{for(var Te=te[Symbol.iterator](),De;!(ie=(De=Te.next()).done)&&(ue.push(De.value),!(le&&ue.length===le));ie=!0);}catch(ze){Ee=!0,xe=ze}finally{try{!ie&&Te.return&&Te.return()}finally{if(Ee)throw xe}}return ue}return function(te,le){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ee(te,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(te,le){for(var ue=0;ue<le.length;ue++){var ie=le[ue];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(te,ie.key,ie)}}return function(te,le,ue){return le&&ee(te.prototype,le),ue&&ee(te,ue),te}}(),l=i(3),c=P(l),d=i(2),h=P(d),f=i(0),p=P(f),v=i(5),_=P(v),x=i(10),g=P(x),m=i(9),E=P(m),y=i(36),k=i(37),C=i(13),S=P(C),w=i(26),R=i(38),b=i(39),A=i(40);function P(ee){return ee&&ee.__esModule?ee:{default:ee}}function N(ee,te,le){return te in ee?Object.defineProperty(ee,te,{value:le,enumerable:!0,configurable:!0,writable:!0}):ee[te]=le,ee}function j(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function F(ee,te){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:ee}function $(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,te):ee.__proto__=te)}var K=(0,g.default)("quill:clipboard"),W="__ql-matcher",q=[[Node.TEXT_NODE,ot],[Node.TEXT_NODE,be],["br",ce],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,xt],["li",ye],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",me]],U=[y.AlignAttribute,R.DirectionAttribute].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),L=[y.AlignStyle,k.BackgroundStyle,w.ColorStyle,R.DirectionStyle,b.FontStyle,A.SizeStyle].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),M=function(ee){$(te,ee);function te(le,ue){j(this,te);var ie=F(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,le,ue));return ie.quill.root.addEventListener("paste",ie.onPaste.bind(ie)),ie.container=ie.quill.addContainer("ql-clipboard"),ie.container.setAttribute("contenteditable",!0),ie.container.setAttribute("tabindex",-1),ie.matchers=[],q.concat(ie.options.matchers).forEach(function(Ee){var xe=o(Ee,2),Te=xe[0],De=xe[1];!ue.matchVisual&&De===Oe||ie.addMatcher(Te,De)}),ie}return a(te,[{key:"addMatcher",value:function(ue,ie){this.matchers.push([ue,ie])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var ie=this.quill.getFormat(this.quill.selection.savedRange.index);if(ie[S.default.blotName]){var Ee=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Ee,N({},S.default.blotName,ie[S.default.blotName]))}var xe=this.prepareMatching(),Te=o(xe,2),De=Te[0],ze=Te[1],Fe=z(this.container,De,ze);return H(Fe,`
`)&&Fe.ops[Fe.ops.length-1].attributes==null&&(Fe=Fe.compose(new h.default().retain(Fe.length()-1).delete(1))),K.log("convert",this.container.innerHTML,Fe),this.container.innerHTML="",Fe}},{key:"dangerouslyPasteHTML",value:function(ue,ie){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),ie),this.quill.setSelection(0,_.default.sources.SILENT);else{var xe=this.convert(ie);this.quill.updateContents(new h.default().retain(ue).concat(xe),Ee),this.quill.setSelection(ue+xe.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var ie=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var Ee=this.quill.getSelection(),xe=new h.default().retain(Ee.index),Te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){xe=xe.concat(ie.convert()).delete(Ee.length),ie.quill.updateContents(xe,_.default.sources.USER),ie.quill.setSelection(xe.length()-Ee.length,_.default.sources.SILENT),ie.quill.scrollingContainer.scrollTop=Te,ie.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,ie=[],Ee=[];return this.matchers.forEach(function(xe){var Te=o(xe,2),De=Te[0],ze=Te[1];switch(De){case Node.TEXT_NODE:Ee.push(ze);break;case Node.ELEMENT_NODE:ie.push(ze);break;default:[].forEach.call(ue.container.querySelectorAll(De),function(Fe){Fe[W]=Fe[W]||[],Fe[W].push(ze)});break}}),[ie,Ee]}}]),te}(E.default);M.DEFAULTS={matchers:[],matchVisual:!0};function B(ee,te,le){return(typeof te>"u"?"undefined":s(te))==="object"?Object.keys(te).reduce(function(ue,ie){return B(ue,ie,te[ie])},ee):ee.reduce(function(ue,ie){return ie.attributes&&ie.attributes[te]?ue.push(ie):ue.insert(ie.insert,(0,c.default)({},N({},te,le),ie.attributes))},new h.default)}function G(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return ee[te]||(ee[te]=window.getComputedStyle(ee))}function H(ee,te){for(var le="",ue=ee.ops.length-1;ue>=0&&le.length<te.length;--ue){var ie=ee.ops[ue];if(typeof ie.insert!="string")break;le=ie.insert+le}return le.slice(-1*te.length)===te}function V(ee){if(ee.childNodes.length===0)return!1;var te=G(ee);return["block","list-item"].indexOf(te.display)>-1}function z(ee,te,le){return ee.nodeType===ee.TEXT_NODE?le.reduce(function(ue,ie){return ie(ee,ue)},new h.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(ue,ie){var Ee=z(ie,te,le);return ie.nodeType===ee.ELEMENT_NODE&&(Ee=te.reduce(function(xe,Te){return Te(ie,xe)},Ee),Ee=(ie[W]||[]).reduce(function(xe,Te){return Te(ie,xe)},Ee)),ue.concat(Ee)},new h.default):new h.default}function Y(ee,te,le){return B(le,ee,!0)}function X(ee,te){var le=p.default.Attributor.Attribute.keys(ee),ue=p.default.Attributor.Class.keys(ee),ie=p.default.Attributor.Style.keys(ee),Ee={};return le.concat(ue).concat(ie).forEach(function(xe){var Te=p.default.query(xe,p.default.Scope.ATTRIBUTE);Te!=null&&(Ee[Te.attrName]=Te.value(ee),Ee[Te.attrName])||(Te=U[xe],Te!=null&&(Te.attrName===xe||Te.keyName===xe)&&(Ee[Te.attrName]=Te.value(ee)||void 0),Te=L[xe],Te!=null&&(Te.attrName===xe||Te.keyName===xe)&&(Te=L[xe],Ee[Te.attrName]=Te.value(ee)||void 0))}),Object.keys(Ee).length>0&&(te=B(te,Ee)),te}function re(ee,te){var le=p.default.query(ee);if(le==null)return te;if(le.prototype instanceof p.default.Embed){var ue={},ie=le.value(ee);ie!=null&&(ue[le.blotName]=ie,te=new h.default().insert(ue,le.formats(ee)))}else typeof le.formats=="function"&&(te=B(te,le.blotName,le.formats(ee)));return te}function ce(ee,te){return H(te,`
`)||te.insert(`
`),te}function me(){return new h.default}function ye(ee,te){var le=p.default.query(ee);if(le==null||le.blotName!=="list-item"||!H(te,`
`))return te;for(var ue=-1,ie=ee.parentNode;!ie.classList.contains("ql-clipboard");)(p.default.query(ie)||{}).blotName==="list"&&(ue+=1),ie=ie.parentNode;return ue<=0?te:te.compose(new h.default().retain(te.length()-1).retain(1,{indent:ue}))}function be(ee,te){return H(te,`
`)||(V(ee)||te.length()>0&&ee.nextSibling&&V(ee.nextSibling))&&te.insert(`
`),te}function Oe(ee,te){if(V(ee)&&ee.nextElementSibling!=null&&!H(te,`

`)){var le=ee.offsetHeight+parseFloat(G(ee).marginTop)+parseFloat(G(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+le*1.5&&te.insert(`
`)}return te}function xt(ee,te){var le={},ue=ee.style||{};return ue.fontStyle&&G(ee).fontStyle==="italic"&&(le.italic=!0),ue.fontWeight&&(G(ee).fontWeight.startsWith("bold")||parseInt(G(ee).fontWeight)>=700)&&(le.bold=!0),Object.keys(le).length>0&&(te=B(te,le)),parseFloat(ue.textIndent||0)>0&&(te=new h.default().insert("	").concat(te)),te}function ot(ee,te){var le=ee.data;if(ee.parentNode.tagName==="O:P")return te.insert(le.trim());if(le.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return te;if(!G(ee.parentNode).whiteSpace.startsWith("pre")){var ue=function(Ee,xe){return xe=xe.replace(/[^\u00a0]/g,""),xe.length<1&&Ee?" ":xe};le=le.replace(/\r\n/g," ").replace(/\n/g," "),le=le.replace(/\s\s+/g,ue.bind(ue,!0)),(ee.previousSibling==null&&V(ee.parentNode)||ee.previousSibling!=null&&V(ee.previousSibling))&&(le=le.replace(/^\s+/,ue.bind(ue,!1))),(ee.nextSibling==null&&V(ee.parentNode)||ee.nextSibling!=null&&V(ee.nextSibling))&&(le=le.replace(/\s+$/,ue.bind(ue,!1)))}return te.insert(le)}r.default=M,r.matchAttributor=X,r.matchBlot=re,r.matchNewline=be,r.matchSpacing=Oe,r.matchText=ot},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,x){for(var g=0;g<x.length;g++){var m=x[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,x,g){return x&&v(_.prototype,x),g&&v(_,g),_}}(),o=function v(_,x,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,x);if(m===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:v(E,x,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"optimize",value:function(g){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function A(P,N){var j=[],F=!0,$=!1,K=void 0;try{for(var W=P[Symbol.iterator](),q;!(F=(q=W.next()).done)&&(j.push(q.value),!(N&&j.length===N));F=!0);}catch(U){$=!0,K=U}finally{try{!F&&W.return&&W.return()}finally{if($)throw K}}return j}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return A(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(P,N){for(var j=0;j<N.length;j++){var F=N[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,N,j){return N&&A(P.prototype,N),j&&A(P,j),P}}(),a=i(2),l=g(a),c=i(0),d=g(c),h=i(5),f=g(h),p=i(10),v=g(p),_=i(9),x=g(_);function g(A){return A&&A.__esModule?A:{default:A}}function m(A,P,N){return P in A?Object.defineProperty(A,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[P]=N,A}function E(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function y(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:A}function k(A,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}var C=(0,v.default)("quill:toolbar"),S=function(A){k(P,A);function P(N,j){E(this,P);var F=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N,j));if(Array.isArray(F.options.container)){var $=document.createElement("div");R($,F.options.container),N.container.parentNode.insertBefore($,N.container),F.container=$}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var K;return K=C.error("Container required for toolbar",F.options),y(F,K)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(W){F.addHandler(W,F.options.handlers[W])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(W){F.attach(W)}),F.quill.on(f.default.events.EDITOR_CHANGE,function(W,q){W===f.default.events.SELECTION_CHANGE&&F.update(q)}),F.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var W=F.quill.selection.getRange(),q=s(W,1),U=q[0];F.update(U)}),F}return o(P,[{key:"addHandler",value:function(j,F){this.handlers[j]=F}},{key:"attach",value:function(j){var F=this,$=[].find.call(j.classList,function(W){return W.indexOf("ql-")===0});if($){if($=$.slice(3),j.tagName==="BUTTON"&&j.setAttribute("type","button"),this.handlers[$]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[$]==null){C.warn("ignoring attaching to disabled format",$,j);return}if(d.default.query($)==null){C.warn("ignoring attaching to nonexistent format",$,j);return}}var K=j.tagName==="SELECT"?"change":"click";j.addEventListener(K,function(W){var q=void 0;if(j.tagName==="SELECT"){if(j.selectedIndex<0)return;var U=j.options[j.selectedIndex];U.hasAttribute("selected")?q=!1:q=U.value||!1}else j.classList.contains("ql-active")?q=!1:q=j.value||!j.hasAttribute("value"),W.preventDefault();F.quill.focus();var L=F.quill.selection.getRange(),M=s(L,1),B=M[0];if(F.handlers[$]!=null)F.handlers[$].call(F,q);else if(d.default.query($).prototype instanceof d.default.Embed){if(q=prompt("Enter "+$),!q)return;F.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},$,q)),f.default.sources.USER)}else F.quill.format($,q,f.default.sources.USER);F.update(B)}),this.controls.push([$,j])}}},{key:"update",value:function(j){var F=j==null?{}:this.quill.getFormat(j);this.controls.forEach(function($){var K=s($,2),W=K[0],q=K[1];if(q.tagName==="SELECT"){var U=void 0;if(j==null)U=null;else if(F[W]==null)U=q.querySelector("option[selected]");else if(!Array.isArray(F[W])){var L=F[W];typeof L=="string"&&(L=L.replace(/\"/g,'\\"')),U=q.querySelector('option[value="'+L+'"]')}U==null?(q.value="",q.selectedIndex=-1):U.selected=!0}else if(j==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var M=F[W]===q.getAttribute("value")||F[W]!=null&&F[W].toString()===q.getAttribute("value")||F[W]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",M)}else q.classList.toggle("ql-active",F[W]!=null)})}}]),P}(x.default);S.DEFAULTS={};function w(A,P,N){var j=document.createElement("button");j.setAttribute("type","button"),j.classList.add("ql-"+P),N!=null&&(j.value=N),A.appendChild(j)}function R(A,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(N){var j=document.createElement("span");j.classList.add("ql-formats"),N.forEach(function(F){if(typeof F=="string")w(j,F);else{var $=Object.keys(F)[0],K=F[$];Array.isArray(K)?b(j,$,K):w(j,$,K)}}),A.appendChild(j)})}function b(A,P,N){var j=document.createElement("select");j.classList.add("ql-"+P),N.forEach(function(F){var $=document.createElement("option");F!==!1?$.setAttribute("value",F):$.setAttribute("selected","selected"),j.appendChild($)}),A.appendChild(j)}S.DEFAULTS={container:null,handlers:{clean:function(){var P=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var j=this.quill.getFormat();Object.keys(j).forEach(function(F){d.default.query(F,d.default.Scope.INLINE)!=null&&P.quill.format(F,!1)})}else this.quill.removeFormat(N,f.default.sources.USER)},direction:function(P){var N=this.quill.getFormat().align;P==="rtl"&&N==null?this.quill.format("align","right",f.default.sources.USER):!P&&N==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",P,f.default.sources.USER)},indent:function(P){var N=this.quill.getSelection(),j=this.quill.getFormat(N),F=parseInt(j.indent||0);if(P==="+1"||P==="-1"){var $=P==="+1"?1:-1;j.direction==="rtl"&&($*=-1),this.quill.format("indent",F+$,f.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,f.default.sources.USER)},list:function(P){var N=this.quill.getSelection(),j=this.quill.getFormat(N);P==="check"?j.list==="checked"||j.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",P,f.default.sources.USER)}}},r.default=S,r.addControls=R},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,x){for(var g=0;g<x.length;g++){var m=x[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,x,g){return x&&v(_.prototype,x),g&&v(_,g),_}}(),o=function v(_,x,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,x);if(m===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:v(E,x,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(x,g){d(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x));return m.label.innerHTML=g,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),m}return s(_,[{key:"buildItem",value:function(g){var m=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,g);return m.style.backgroundColor=g.getAttribute("value")||"",m}},{key:"selectItem",value:function(g,m){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m);var E=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=y:E.style.fill=y)}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,x){for(var g=0;g<x.length;g++){var m=x[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,x,g){return x&&v(_.prototype,x),g&&v(_,g),_}}(),o=function v(_,x,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,x);if(m===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:v(E,x,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(x,g){d(this,_);var m=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=g[E.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return s(_,[{key:"selectItem",value:function(g,m){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,g,m),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(c,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(c,d){var h=this;o(this,l),this.quill=c,this.boundsContainer=d||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),_=0;if(v.right>p.right&&(_=p.right-v.right,this.root.style.left=h+_+"px"),v.left<p.left&&(_=p.left-v.left,this.root.style.left=h+_+"px"),v.bottom>p.bottom){var x=v.bottom-v.top,g=d.bottom-d.top+x;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function b(A,P){var N=[],j=!0,F=!1,$=void 0;try{for(var K=A[Symbol.iterator](),W;!(j=(W=K.next()).done)&&(N.push(W.value),!(P&&N.length===P));j=!0);}catch(q){F=!0,$=q}finally{try{!j&&K.return&&K.return()}finally{if(F)throw $}}return N}return function(A,P){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return b(A,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function b(A,P,N){A===null&&(A=Function.prototype);var j=Object.getOwnPropertyDescriptor(A,P);if(j===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:b(F,P,N)}else{if("value"in j)return j.value;var $=j.get;return $===void 0?void 0:$.call(N)}},a=function(){function b(A,P){for(var N=0;N<P.length;N++){var j=P[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(A,j.key,j)}}return function(A,P,N){return P&&b(A.prototype,P),N&&b(A,N),A}}(),l=i(3),c=E(l),d=i(8),h=E(d),f=i(43),p=E(f),v=i(27),_=E(v),x=i(15),g=i(41),m=E(g);function E(b){return b&&b.__esModule?b:{default:b}}function y(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}function k(b,A){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:b}function C(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(b){C(A,b);function A(P,N){y(this,A),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=S);var j=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,N));return j.quill.container.classList.add("ql-snow"),j}return a(A,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),m.default),this.tooltip=new R(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,F){N.handlers.link.call(N,!F.format.link)})}}]),A}(p.default);w.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var P=this.quill.getSelection();if(P==null||P.length==0)return;var N=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var j=this.quill.theme.tooltip;j.edit("link",N)}else this.quill.format("link",!1)}}}}});var R=function(b){C(A,b);function A(P,N){y(this,A);var j=k(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,P,N));return j.preview=j.root.querySelector("a.ql-preview"),j}return a(A,[{key:"listen",value:function(){var N=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(N.linkRange!=null){var F=N.linkRange;N.restoreFocus(),N.quill.formatText(F,"link",!1,h.default.sources.USER),delete N.linkRange}j.preventDefault(),N.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(j,F,$){if(j!=null){if(j.length===0&&$===h.default.sources.USER){var K=N.quill.scroll.descendant(_.default,j.index),W=s(K,2),q=W[0],U=W[1];if(q!=null){N.linkRange=new x.Range(j.index-U,q.length());var L=_.default.formats(q.domNode);N.preview.textContent=L,N.preview.setAttribute("href",L),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(f.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=ie(s),a=i(36),l=i(38),c=i(64),d=i(65),h=ie(d),f=i(66),p=ie(f),v=i(67),_=ie(v),x=i(37),g=i(26),m=i(39),E=i(40),y=i(56),k=ie(y),C=i(68),S=ie(C),w=i(27),R=ie(w),b=i(69),A=ie(b),P=i(70),N=ie(P),j=i(71),F=ie(j),$=i(72),K=ie($),W=i(73),q=ie(W),U=i(13),L=ie(U),M=i(74),B=ie(M),G=i(75),H=ie(G),V=i(57),z=ie(V),Y=i(41),X=ie(Y),re=i(28),ce=ie(re),me=i(59),ye=ie(me),be=i(60),Oe=ie(be),xt=i(61),ot=ie(xt),ee=i(108),te=ie(ee),le=i(62),ue=ie(le);function ie(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":E.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":m.FontClass,"formats/size":E.SizeClass,"formats/blockquote":h.default,"formats/code-block":L.default,"formats/header":p.default,"formats/list":_.default,"formats/bold":k.default,"formats/code":U.Code,"formats/italic":S.default,"formats/link":R.default,"formats/script":A.default,"formats/strike":N.default,"formats/underline":F.default,"formats/image":K.default,"formats/video":q.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":H.default,"modules/toolbar":z.default,"themes/bubble":te.default,"themes/snow":ue.default,"ui/icons":X.default,"ui/picker":ce.default,"ui/icon-picker":Oe.default,"ui/color-picker":ye.default,"ui/tooltip":ot.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function _(x,g){for(var m=0;m<g.length;m++){var E=g[m];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,g,m){return g&&_(x.prototype,g),m&&_(x,m),x}}(),o=function _(x,g,m){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,g);if(E===void 0){var y=Object.getPrototypeOf(x);return y===null?void 0:_(y,g,m)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(m)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function d(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function h(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function f(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var p=function(_){f(x,_);function x(){return d(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,[{key:"add",value:function(m,E){if(E==="+1"||E==="-1"){var y=this.value(m)||0;E=E==="+1"?y+1:y-1}return E===0?(this.remove(m),!0):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,m,E)}},{key:"canAdd",value:function(m,E){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,m,E)||o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,m,parseInt(E))}},{key:"value",value:function(m){return parseInt(o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,m))||void 0}}]),x}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(v,_){for(var x=0;x<_.length;x++){var g=_[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,g.key,g)}}return function(v,_,x){return _&&p(v.prototype,_),x&&p(v,x),v}}(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var f=function(p){h(v,p);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),v}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function y(k,C){for(var S=0;S<C.length;S++){var w=C[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,w.key,w)}}return function(k,C,S){return C&&y(k.prototype,C),S&&y(k,S),k}}(),o=function y(k,C,S){k===null&&(k=Function.prototype);var w=Object.getOwnPropertyDescriptor(k,C);if(w===void 0){var R=Object.getPrototypeOf(k);return R===null?void 0:y(R,C,S)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(S)}},a=i(0),l=p(a),c=i(4),d=p(c),h=i(25),f=p(h);function p(y){return y&&y.__esModule?y:{default:y}}function v(y,k,C){return k in y?Object.defineProperty(y,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[k]=C,y}function _(y,k){if(!(y instanceof k))throw new TypeError("Cannot call a class as a function")}function x(y,k){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:y}function g(y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);y.prototype=Object.create(k&&k.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(y,k):y.__proto__=k)}var m=function(y){g(k,y);function k(){return _(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"format",value:function(S,w){S===E.blotName&&!w?this.replaceWith(l.default.create(this.statics.scope)):o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,w){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,w),this):(this.parent.unwrap(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,w))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(d.default);m.blotName="list-item",m.tagName="LI";var E=function(y){g(k,y),s(k,null,[{key:"create",value:function(S){var w=S==="ordered"?"OL":"UL",R=o(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,w);return(S==="checked"||S==="unchecked")&&R.setAttribute("data-checked",S==="checked"),R}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(C){_(this,k);var S=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C)),w=function(b){if(b.target.parentNode===C){var A=S.statics.formats(C),P=l.default.find(b.target);A==="checked"?P.format("list","unchecked"):A==="unchecked"&&P.format("list","checked")}};return C.addEventListener("touchstart",w),C.addEventListener("mousedown",w),S}return s(k,[{key:"format",value:function(S,w){this.children.length>0&&this.children.tail.format(S,w)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,w){if(S instanceof m)o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,w);else{var R=w==null?this.length():w.offset(this),b=this.split(R);b.parent.insertBefore(S,b)}}},{key:"optimize",value:function(S){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var w=l.default.create(this.statics.defaultChild);S.moveChildren(w),this.appendChild(w)}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(f.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[m],r.ListItem=m,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(_,x){for(var g=0;g<x.length;g++){var m=x[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,x,g){return x&&v(_.prototype,x),g&&v(_,g),_}}(),o=function v(_,x,g){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,x);if(m===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:v(E,x,g)}else{if("value"in m)return m.value;var y=m.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function h(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function f(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var p=function(v){f(_,v);function _(){return d(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),_}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function c(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(g,m){for(var E=0;E<m.length;E++){var y=m[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,E){return m&&x(g.prototype,m),E&&x(g,E),g}}(),o=function x(g,m,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:x(k,m,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=d(a),c=i(27);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function f(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function p(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var v=["alt","height","width"],_=function(x){p(g,x);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(E,y){v.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return typeof E=="string"&&y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return v.reduce(function(y,k){return E.hasAttribute(k)&&(y[k]=E.getAttribute(k)),y},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,c.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(l.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function x(g,m){for(var E=0;E<m.length;E++){var y=m[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,m,E){return m&&x(g.prototype,m),E&&x(g,E),g}}(),o=function x(g,m,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,m);if(y===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:x(k,m,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(4),l=i(27),c=d(l);function d(x){return x&&x.__esModule?x:{default:x}}function h(x,g){if(!(x instanceof g))throw new TypeError("Cannot call a class as a function")}function f(x,g){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:x}function p(x,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);x.prototype=Object.create(g&&g.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(x,g):x.__proto__=g)}var v=["height","width"],_=function(x){p(g,x);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"format",value:function(E,y){v.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return v.reduce(function(y,k){return E.hasAttribute(k)&&(y[k]=E.getAttribute(k)),y},{})}},{key:"sanitize",value:function(E){return c.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(a.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function E(y,k){for(var C=0;C<k.length;C++){var S=k[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,k,C){return k&&E(y.prototype,k),C&&E(y,C),y}}(),o=function E(y,k,C){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,k);if(S===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:E(w,k,C)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(C)}},a=i(35),l=p(a),c=i(5),d=p(c),h=i(9),f=p(h);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function _(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function x(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var g=function(E){x(y,E);function y(){return v(this,y),_(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(C){var S=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",C)),S}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var m=function(E){x(y,E),s(y,null,[{key:"register",value:function(){d.default.register(g,!0)}}]);function y(){v(this,y);var k=_(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return y}(f.default);r.FormulaBlot=g,r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function C(S,w){for(var R=0;R<w.length;R++){var b=w[R];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,w,R){return w&&C(S.prototype,w),R&&C(S,R),S}}(),o=function C(S,w,R){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,w);if(b===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:C(A,w,R)}else{if("value"in b)return b.value;var P=b.get;return P===void 0?void 0:P.call(R)}},a=i(0),l=_(a),c=i(5),d=_(c),h=i(9),f=_(h),p=i(13),v=_(p);function _(C){return C&&C.__esModule?C:{default:C}}function x(C,S){if(!(C instanceof S))throw new TypeError("Cannot call a class as a function")}function g(C,S){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:C}function m(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(C,S):C.__proto__=S)}var E=function(C){m(S,C);function S(){return x(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var b=this.domNode.textContent;this.cachedText!==b&&((b.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(b),this.domNode.normalize(),this.attach()),this.cachedText=b)}}]),S}(v.default);E.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),k=function(C){m(S,C),s(S,null,[{key:"register",value:function(){d.default.register(y,!0),d.default.register(E,!0)}}]);function S(w,R){x(this,S);var b=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,w,R));if(typeof b.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return b.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){b.highlight(),A=null},b.options.interval)}),b.highlight(),b}return s(S,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var b=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(A){A.highlight(R.options.highlight)}),this.quill.update(d.default.sources.SILENT),b!=null&&this.quill.setSelection(b,d.default.sources.SILENT)}}}]),S}(f.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var S=window.hljs.highlightAuto(C);return S.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=y,r.default=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(w,R,b){w===null&&(w=Function.prototype);var A=Object.getOwnPropertyDescriptor(w,R);if(A===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:S(P,R,b)}else{if("value"in A)return A.value;var N=A.get;return N===void 0?void 0:N.call(b)}},o=function(){function S(w,R){for(var b=0;b<R.length;b++){var A=R[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(w,A.key,A)}}return function(w,R,b){return R&&S(w.prototype,R),b&&S(w,b),w}}(),a=i(3),l=x(a),c=i(8),d=x(c),h=i(43),f=x(h),p=i(15),v=i(41),_=x(v);function x(S){return S&&S.__esModule?S:{default:S}}function g(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function m(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function E(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){E(w,S);function w(R,b){g(this,w),b.modules.toolbar!=null&&b.modules.toolbar.container==null&&(b.modules.toolbar.container=y);var A=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,R,b));return A.quill.container.classList.add("ql-bubble"),A}return o(w,[{key:"extendToolbar",value:function(b){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(b.container),this.buildButtons([].slice.call(b.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(b.container.querySelectorAll("select")),_.default)}}]),w}(f.default);k.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(S){E(w,S);function w(R,b){g(this,w);var A=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,R,b));return A.quill.on(d.default.events.EDITOR_CHANGE,function(P,N,j,F){if(P===d.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&F===d.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var $=A.quill.getLines(N.index,N.length);if($.length===1)A.position(A.quill.getBounds(N));else{var K=$[$.length-1],W=A.quill.getIndex(K),q=Math.min(K.length()-1,N.index+N.length-W),U=A.quill.getBounds(new p.Range(W,q));A.position(U)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return o(w,[{key:"listen",value:function(){var b=this;s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){b.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!b.root.classList.contains("ql-hidden")){var A=b.quill.getSelection();A!=null&&b.position(b.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(b){var A=s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"position",this).call(this,b),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",A===0)return A;P.style.marginLeft=-1*A-P.offsetWidth/2+"px"}}]),w}(h.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=k},function(n,r,i){n.exports=i(63)}]).default})})(DT);var F6=DT.exports,B6=en&&en.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nc=en&&en.__assign||function(){return nc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nc.apply(this,arguments)},q6=en&&en.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r},tf=en&&en.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Mn=tf(J),z6=tf(hw),Po=tf(U6),G_=tf(F6),$6=function(t){B6(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,o,a,l){var c,d,h,f;s==="text-change"?(d=(c=r).onEditorChangeText)===null||d===void 0||d.call(c,r.editor.root.innerHTML,o,l,r.unprivilegedEditor):s==="selection-change"&&((f=(h=r).onEditorChangeSelection)===null||f===void 0||f.call(h,o,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Mn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Mn.default.Children.count(n.children)){var i=Mn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,s;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var o=this.getEditorContents(),a=(s=n.value,s??"");this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),q6(this.cleanProps,this.dirtyProps).some(function(l){return!Po.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Po.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,s=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(s),Q_(function(){return i.setEditorSelection(c,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new G_.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Po.default(n.ops,r.ops):Po.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Q_(function(){return i.setEditorSelection(n,s)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,s;!((s=(i=n)===null||i===void 0?void 0:i.scroll)===null||s===void 0)&&s.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=z6.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,s=r.preserveWhitespace,o=this.state.generation,a={key:o,ref:function(l){n.editingArea=l}};return Mn.default.Children.count(i)?Mn.default.cloneElement(Mn.default.Children.only(i),a):s?Mn.default.createElement("pre",nc({},a)):Mn.default.createElement("div",nc({},a))},e.prototype.render=function(){var n;return Mn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,s){var o,a;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(o=this.props).onChange)===null||a===void 0||a.call(o,n,r,i,s))}},e.prototype.onEditorChangeSelection=function(n,r,i){var s,o,a,l,c,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,p=h&&!n;Po.default(n,h)||(this.selection=n,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,n,r,i),f?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((d=(c=this.props).onBlur)===null||d===void 0||d.call(c,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=G_.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Mn.default.Component);function Q_(t){Promise.resolve().then(t)}var H6=$6;const W6=Z_(H6),Y_=()=>{const{id:t}=Dp(),e=Yn(),{currentUser:n}=fi(),[r,i]=J.useState(""),[s,o]=J.useState(""),[a,l]=J.useState([]),[c,d]=J.useState(""),[h,f]=J.useState(null),[p,v]=J.useState(""),[_,x]=J.useState(""),[g,m]=J.useState(!1),[E,y]=J.useState(!1),k=!!t;J.useEffect(()=>{if(!n){e("/login");return}k&&C()},[n,t]);const C=async()=>{y(!0);try{const N=await bn(Ke(Ne,"articles",t));if(N.exists()){const j=N.data();if(j.authorId!==(n==null?void 0:n.uid)){e("/");return}i(j.title||""),o(j.content||""),l(j.tags||[]),x(j.imageURL||""),v(j.imageURL||"")}else e("/")}catch(N){console.error("Error fetching article:",N),e("/")}finally{y(!1)}},S=N=>{var F;const j=(F=N.target.files)==null?void 0:F[0];j&&(f(j),v(URL.createObjectURL(j)))},w=()=>{f(null),v(""),x("")},R=N=>{N.key==="Enter"&&c.trim()&&(N.preventDefault(),!a.includes(c.trim())&&a.length<5&&l([...a,c.trim()]),d(""))},b=N=>{l(a.filter(j=>j!==N))},A=async N=>{if(N.preventDefault(),!(!n||!r.trim()||!s.trim())){m(!0);try{let j=_;if(h){const $=uT(cT,`articles/${n.uid}/${Date.now()}_${h.name}`);await aT($,h),j=await lT($)}const F={title:r.trim(),content:s,tags:a,imageURL:j,authorId:n.uid,updatedAt:rn()};k?await Tn(Ke(Ne,"articles",t),F,{merge:!0}):await Qu(nn(Ne,"articles"),{...F,likesCount:0,status:"pending",createdAt:rn()}),e("/dashboard")}catch(j){console.error("Error saving article:",j)}finally{m(!1)}}},P={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["link","image"],["clean"]]};return E?T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsx(Me,{className:"h-6 w-16"}),T.jsx(Me,{className:"h-8 w-40"})]}),T.jsx(Me,{className:"h-12 w-full"}),T.jsx(Me,{className:"h-64 w-full"}),T.jsx(Me,{className:"h-80 w-full"})]})}):T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[T.jsx(Za,{className:"w-5 h-5"}),T.jsx("span",{children:""})]}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:k?" ":"  "})]}),T.jsxs("form",{onSubmit:A,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),T.jsx("input",{type:"text",value:r,onChange:N=>i(N.target.value),required:!0,className:"input-field text-xl font-semibold",placeholder:"  ..."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),p?T.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[T.jsx("img",{src:p,alt:"Preview",className:"w-full h-64 object-cover"}),T.jsx("button",{type:"button",onClick:w,className:"absolute top-2 left-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:T.jsx(Oa,{className:"w-4 h-4"})})]}):T.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary-500 hover:bg-primary-50/50 transition-colors",children:[T.jsx(Y4,{className:"w-12 h-12 text-gray-400 mb-2"}),T.jsx("span",{className:"text-gray-500",children:"  "}),T.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, GIF  5MB"}),T.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  *"}),T.jsx("div",{className:"bg-white rounded-lg border",children:T.jsx(W6,{theme:"snow",value:s,onChange:o,modules:P,placeholder:"   ..."})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ( 5 )"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map((N,j)=>T.jsxs("span",{className:"inline-flex items-center gap-1 bg-primary-50 text-primary-600 px-3 py-1 rounded-full text-sm",children:[N,T.jsx("button",{type:"button",onClick:()=>b(N),className:"hover:text-primary-800",children:T.jsx(Oa,{className:"w-3 h-3"})})]},j))}),a.length<5&&T.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),onKeyDown:R,className:"input-field",placeholder:"   Enter..."})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{type:"submit",disabled:g||!r.trim()||!s.trim(),className:"btn-primary flex items-center gap-2",children:g?" ...":k?" ":" "}),T.jsx("button",{type:"button",onClick:()=>e(-1),className:"btn-secondary",children:""})]})]})]})})},K6=()=>{const{currentUser:t}=fi(),e=Yn(),[n,r]=J.useState([]),[i,s]=J.useState(!0),[o,a]=J.useState(null);J.useEffect(()=>{if(!t){e("/login");return}l()},[t]);const l=async()=>{try{const h=nn(Ne,"articles"),f=Rn(h,Fn("authorId","==",t.uid),hr("createdAt","desc")),v=(await On(f)).docs.map(_=>{var x;return{id:_.id,..._.data(),createdAt:((x=_.data().createdAt)==null?void 0:x.toDate())||new Date}});r(v)}catch(h){console.error("Error fetching articles:",h)}finally{s(!1)}},c=async h=>{if(confirm("      ")){a(h);try{await Ra(Ke(Ne,"articles",h)),r(f=>f.filter(p=>p.id!==h))}catch(f){console.error("Error deleting article:",f)}finally{a(null)}}},d=h=>new Date(h).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"});return i?T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsx("div",{className:"shimmer h-8 w-32 rounded"}),T.jsx("div",{className:"shimmer h-10 w-32 rounded-full"})]}),T.jsx(ET,{})]})}):T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),T.jsx("p",{className:"text-gray-600",children:"  "})]}),T.jsxs(Ae,{to:"/write",className:"btn-primary flex items-center gap-2",children:[T.jsx(__,{className:"w-5 h-5"})," "]})]}),n.length>0?T.jsx("div",{className:"space-y-4",children:n.map(h=>{var f;return T.jsxs("div",{className:"card p-4 flex flex-col sm:flex-row gap-4",children:[h.imageURL&&T.jsx("div",{className:"sm:w-40 h-28 flex-shrink-0",children:T.jsx("img",{src:h.imageURL,alt:h.title,className:"w-full h-full object-cover rounded-lg"})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx(Ae,{to:`/article/${h.id}`,className:"text-lg font-bold text-gray-900 hover:text-gray-600 line-clamp-1",children:h.title}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d(h.createdAt)}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(f=h.tags)==null?void 0:f.slice(0,3).map((p,v)=>T.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:p},v))})]}),T.jsxs("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-center gap-2",children:[T.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:T.jsxs("span",{children:[" ",h.likesCount||0]})}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Ae,{to:`/article/${h.id}`,className:"p-2 text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"",children:T.jsx(Rd,{className:"w-5 h-5"})}),T.jsx(Ae,{to:`/write/${h.id}`,className:"p-2 text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"",children:T.jsx(Xu,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>c(h.id),disabled:o===h.id,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"",children:T.jsx(yT,{className:`w-5 h-5 ${o===h.id?"animate-pulse":""}`})})]})]})]},h.id)})}):T.jsxs("div",{className:"text-center py-16 card",children:[T.jsx(Xu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"   "}),T.jsx("p",{className:"text-gray-600 mb-6",children:"      "}),T.jsxs(Ae,{to:"/write",className:"btn-primary inline-flex items-center gap-2",children:[T.jsx(__,{className:"w-5 h-5"}),"  "]})]})]})})},G6=()=>{const{currentUser:t,userData:e,updateUserProfile:n}=fi(),r=Yn(),[i,s]=J.useState((e==null?void 0:e.name)||""),[o,a]=J.useState((e==null?void 0:e.bio)||""),[l,c]=J.useState((e==null?void 0:e.instagram)||""),[d,h]=J.useState(!1),[f,p]=J.useState(null),[v,_]=J.useState((e==null?void 0:e.avatar)||""),[x,g]=J.useState(!1);au.useEffect(()=>{t||r("/login")},[t]),au.useEffect(()=>{e&&(s(e.name||""),a(e.bio||""),c(e.instagram||""),_(e.avatar||""))},[e]);const m=y=>{var C;const k=(C=y.target.files)==null?void 0:C[0];k&&(p(k),_(URL.createObjectURL(k)))},E=async y=>{if(y.preventDefault(),!!t){h(!0),g(!1);try{let k=(e==null?void 0:e.avatar)||"";if(f){const C=uT(cT,`avatars/${t.uid}/${Date.now()}_${f.name}`);await aT(C,f),k=await lT(C)}await n({name:i.trim(),bio:o.trim(),instagram:l.trim().replace("@",""),avatar:k}),g(!0),p(null)}catch(k){console.error("Error updating profile:",k)}finally{h(!1)}}};return T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[T.jsx("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:T.jsx(Za,{className:"w-5 h-5"})}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "})]}),T.jsx("div",{className:"card p-8",children:T.jsxs("form",{onSubmit:E,className:"space-y-6",children:[T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsxs("div",{className:"relative",children:[T.jsx("img",{src:v||`https://ui-avatars.com/api/?name=${i}&background=171717&color=fff`,alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),T.jsxs("label",{className:"absolute bottom-0 left-0 bg-gray-900 text-white p-2 rounded-full cursor-pointer hover:bg-gray-800 transition-colors",children:[T.jsx(W4,{className:"w-5 h-5"}),T.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"})]})]}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"    "})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),T.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"input-field bg-gray-50 text-gray-500"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),T.jsx("input",{type:"text",value:i,onChange:y=>s(y.target.value),required:!0,className:"input-field",placeholder:" "})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),T.jsx("textarea",{value:o,onChange:y=>a(y.target.value),rows:4,className:"input-field resize-none",placeholder:"    ..."})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[T.jsx(Gc,{className:"w-4 h-4 text-pink-500"})," "]}),T.jsxs("div",{className:"relative",children:[T.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"@"}),T.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value.replace("@","")),className:"input-field pr-8",placeholder:"username",dir:"ltr"})]}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"      "})]}),x&&T.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded-lg text-sm",children:"    !"}),T.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full flex items-center justify-center gap-2",children:d?T.jsxs(T.Fragment,{children:[T.jsx(jm,{className:"w-5 h-5 animate-spin"})," ..."]}):" "})]})})]})})},X_=()=>{const[t]=VS(),e=t.get("q")||"",n=t.get("tag")||"",[r,i]=J.useState([]),[s,o]=J.useState([]),[a,l]=J.useState(!0),[c,d]=J.useState(e);J.useEffect(()=>{h(),f()},[e,n]);const h=async()=>{var v;l(!0);try{const _=nn(Ne,"articles");let x;n?x=Rn(_,Fn("tags","array-contains",n),hr("createdAt","desc")):x=Rn(_,hr("createdAt","desc"));const g=await On(x);let m=[];for(const E of g.docs){const y=E.data();let k=" ",C="";if(y.authorId){const S=await bn(Ke(Ne,"users",y.authorId));if(S.exists()){const w=S.data();k=w.name,C=w.avatar}}m.push({id:E.id,...y,authorName:k,authorAvatar:C,createdAt:((v=y.createdAt)==null?void 0:v.toDate())||new Date})}if(e){const E=e.toLowerCase();m=m.filter(y=>{var k;return y.title.toLowerCase().includes(E)||y.content.toLowerCase().includes(E)||((k=y.tags)==null?void 0:k.some(C=>C.toLowerCase().includes(E)))})}i(m)}catch(_){console.error("Error fetching articles:",_)}finally{l(!1)}},f=async()=>{try{const v=nn(Ne,"articles"),_=await On(v),x=new Set;_.docs.forEach(g=>{(g.data().tags||[]).forEach(E=>x.add(E))}),o(Array.from(x))}catch(v){console.error("Error fetching tags:",v)}},p=v=>{v.preventDefault(),c.trim()&&(window.location.href=`/search?q=${encodeURIComponent(c.trim())}`)};return T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n?` : ${n}`:e?`  : ${e}`:"  "}),T.jsx("form",{onSubmit:p,className:"max-w-xl",children:T.jsxs("div",{className:"relative",children:[T.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),placeholder:"  ...",className:"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-200 focus:ring-1 focus:ring-gray-400 focus:border-gray-400 outline-none bg-gray-50"}),T.jsx("button",{type:"submit",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-900 text-white p-2 rounded-lg hover:bg-gray-800",children:T.jsx(Ju,{className:"w-5 h-5"})})]})})]}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[T.jsx("div",{className:"flex-1",children:a?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(v=>T.jsx(wT,{},v))}):r.length>0?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(v=>T.jsx(_T,{article:v},v.id))}):T.jsxs("div",{className:"text-center py-20",children:[T.jsx(Ju,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"  "}),T.jsx("p",{className:"text-gray-600",children:e||n?"      ":"   "})]})}),T.jsx("div",{className:"lg:w-72",children:T.jsxs("div",{className:"card p-6 sticky top-24",children:[T.jsxs("h2",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[T.jsx(nL,{className:"w-5 h-5"})," "]}),T.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.map((v,_)=>T.jsx(Ae,{to:`/search?tag=${encodeURIComponent(v)}`,className:`text-sm px-3 py-1 rounded-full transition-colors ${n===v?"bg-gray-900 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:v},_)),s.length===0&&T.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]})]})})]})]})})},Q6=()=>{const{currentUser:t,isAdmin:e}=fi(),n=Yn(),[r,i]=J.useState("pending"),[s,o]=J.useState([]),[a,l]=J.useState([]),[c,d]=J.useState([]),[h,f]=J.useState(!0),[p,v]=J.useState(null);J.useEffect(()=>{if(!t||!e){n("/");return}_()},[t,e,r]);const _=async()=>{f(!0);try{if(r==="pending"){const w=nn(Ne,"articles"),R=Rn(w,Fn("status","==","pending"),hr("createdAt","desc")),A=(await On(R)).docs.map(P=>{var N;return{id:P.id,...P.data(),createdAt:((N=P.data().createdAt)==null?void 0:N.toDate())||new Date}});o(A)}else if(r==="articles"){const w=nn(Ne,"articles"),R=Rn(w,hr("createdAt","desc")),A=(await On(R)).docs.map(P=>{var N;return{id:P.id,...P.data(),createdAt:((N=P.data().createdAt)==null?void 0:N.toDate())||new Date}});l(A)}else if(r==="users"){const w=nn(Ne,"users"),R=Rn(w,hr("createdAt","desc")),A=(await On(R)).docs.map(P=>{var N,j;return{id:P.id,...P.data(),createdAt:((N=P.data().createdAt)==null?void 0:N.toDate())||new Date,verifiedAt:((j=P.data().verifiedAt)==null?void 0:j.toDate())||null}});d(A)}}catch(w){console.error("Error fetching data:",w)}finally{f(!1)}},x=async w=>{v(w);try{await Tn(Ke(Ne,"articles",w),{status:"approved",approvedAt:rn(),approvedBy:t==null?void 0:t.uid},{merge:!0}),o(R=>R.filter(b=>b.id!==w))}catch(R){console.error("Error approving article:",R)}finally{v(null)}},g=async w=>{const R=prompt("  ():");v(w);try{await Tn(Ke(Ne,"articles",w),{status:"rejected",rejectedReason:R||""},{merge:!0}),o(b=>b.filter(A=>A.id!==w))}catch(b){console.error("Error rejecting article:",b)}finally{v(null)}},m=async w=>{if(confirm("       ")){v(w);try{await Ra(Ke(Ne,"articles",w)),l(R=>R.filter(b=>b.id!==w))}catch(R){console.error("Error deleting article:",R)}finally{v(null)}}},E=async(w,R)=>{v(w);try{await Tn(Ke(Ne,"users",w),{isVerified:R,verifiedAt:R?rn():null},{merge:!0}),d(b=>b.map(A=>A.id===w?{...A,isVerified:R,verifiedAt:R?new Date:void 0}:A))}catch(b){console.error("Error updating verification:",b)}finally{v(null)}},y=async(w,R)=>{if(R){const b=prompt(" :");if(!b)return;v(w);try{await Tn(Ke(Ne,"users",w),{isBanned:!0,bannedAt:rn(),bannedReason:b},{merge:!0}),d(A=>A.map(P=>P.id===w?{...P,isBanned:!0}:P))}catch(A){console.error("Error banning user:",A)}}else{v(w);try{await Tn(Ke(Ne,"users",w),{isBanned:!1,bannedAt:null,bannedReason:null},{merge:!0}),d(b=>b.map(A=>A.id===w?{...A,isBanned:!1}:A))}catch(b){console.error("Error unbanning user:",b)}}v(null)},k=async(w,R)=>{if(confirm(R==="admin"?"    ":"  ")){v(w);try{await Tn(Ke(Ne,"users",w),{role:R,isVerified:R==="admin"?!0:void 0,verifiedAt:R==="admin"?rn():void 0},{merge:!0}),d(b=>b.map(A=>A.id===w?{...A,role:R,isVerified:R==="admin"?!0:A.isVerified}:A))}catch(b){console.error("Error updating role:",b)}finally{v(null)}}},C=w=>new Date(w).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric"}),S=w=>{switch(w){case"approved":return T.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:""});case"rejected":return T.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:""});default:return T.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:" "})}};return T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:"mb-8",children:[T.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[T.jsx(Fo,{className:"w-6 h-6"})," "]}),T.jsx("p",{className:"text-gray-600",children:"  "})]}),T.jsxs("div",{className:"flex gap-4 mb-6 border-b border-gray-100",children:[T.jsxs("button",{onClick:()=>i("pending"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${r==="pending"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[T.jsx(oh,{className:"w-5 h-5"}),T.jsx("span",{children:" "}),s.length>0&&T.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:s.length})]}),T.jsxs("button",{onClick:()=>i("users"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${r==="users"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[T.jsx(Cd,{className:"w-5 h-5"}),T.jsx("span",{children:""})]}),T.jsxs("button",{onClick:()=>i("articles"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${r==="articles"?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600"}`,children:[T.jsx(oh,{className:"w-5 h-5"}),T.jsx("span",{children:" "})]})]}),h?T.jsx(ET,{}):T.jsxs(T.Fragment,{children:[r==="pending"&&T.jsx("div",{className:"space-y-4",children:s.length>0?s.map(w=>{var R;return T.jsxs("div",{className:"card p-4 flex gap-4",children:[w.imageURL&&T.jsx("img",{src:w.imageURL,alt:w.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:w.title}),T.jsx("p",{className:"text-sm text-gray-500",children:C(w.createdAt)}),T.jsx("div",{className:"flex gap-2 mt-2",children:(R=w.tags)==null?void 0:R.slice(0,2).map((b,A)=>T.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:b},A))})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>window.open(`/article/${w.id}`,"_blank"),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",title:"",children:T.jsx(Rd,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>x(w.id),disabled:p===w.id,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",title:"",children:T.jsx(v_,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>g(w.id),disabled:p===w.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",title:"",children:T.jsx(Oa,{className:"w-5 h-5"})})]})]},w.id)}):T.jsxs("div",{className:"text-center py-16 card",children:[T.jsx(oh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"  "}),T.jsx("p",{className:"text-gray-600",children:"   "})]})}),r==="users"&&T.jsx("div",{className:"space-y-4",children:c.map(w=>T.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[T.jsx("img",{src:w.avatar||`https://ui-avatars.com/api/?name=${w.name}`,alt:w.name,className:"w-12 h-12 rounded-full object-cover"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-bold text-gray-900",children:w.name}),w.role==="admin"&&T.jsx(Fo,{className:"w-4 h-4 text-amber-500"}),w.isVerified&&w.role!=="admin"&&T.jsx(Yu,{className:"w-4 h-4 text-blue-500"}),w.isBanned&&T.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded-full",children:""})]}),T.jsx("p",{className:"text-sm text-gray-500",children:w.email}),T.jsxs("p",{className:"text-xs text-gray-400",children:[" ",C(w.createdAt)]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[w.role!=="admin"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>E(w.id,!w.isVerified),disabled:p===w.id,className:`p-2 rounded-lg disabled:opacity-50 ${w.isVerified?"text-blue-600 bg-blue-50":"text-gray-400 hover:bg-gray-100"}`,title:w.isVerified?" ":"",children:T.jsx(Yu,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>y(w.id,!w.isBanned),disabled:p===w.id,className:`p-2 rounded-lg disabled:opacity-50 ${w.isBanned?"text-red-600 bg-red-50":"text-gray-400 hover:bg-gray-100"}`,title:w.isBanned?" ":"",children:T.jsx(H4,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>k(w.id,"admin"),disabled:p===w.id,className:"p-2 text-gray-400 hover:bg-gray-100 rounded-lg disabled:opacity-50",title:" ",children:T.jsx(Fo,{className:"w-5 h-5"})})]}),w.role==="admin"&&w.email!=="hswnbrys@gmail.com"&&T.jsx("button",{onClick:()=>k(w.id,"user"),disabled:p===w.id,className:"p-2 text-amber-500 bg-amber-50 rounded-lg disabled:opacity-50",title:"  ",children:T.jsx(Fo,{className:"w-5 h-5"})})]})]},w.id))}),r==="articles"&&T.jsx("div",{className:"space-y-4",children:a.map(w=>T.jsxs("div",{className:"card p-4 flex gap-4",children:[w.imageURL&&T.jsx("img",{src:w.imageURL,alt:w.title,className:"w-32 h-24 object-cover rounded-lg flex-shrink-0"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("h3",{className:"font-bold text-gray-900 line-clamp-1",children:w.title}),S(w.status)]}),T.jsx("p",{className:"text-sm text-gray-500",children:C(w.createdAt)})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("button",{onClick:()=>window.open(`/article/${w.id}`,"_blank"),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",title:"",children:T.jsx(Rd,{className:"w-5 h-5"})}),w.status!=="approved"&&T.jsx("button",{onClick:()=>x(w.id),disabled:p===w.id,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",title:"",children:T.jsx(v_,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>m(w.id),disabled:p===w.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50",title:"",children:T.jsx(Oa,{className:"w-5 h-5"})})]})]},w.id))})]})]})})},J_=[{id:"hussein-saad",name:" ",role:"  ",description:"     21        .",image:"/hso.png",instagram:"zdzw",isFounder:!0,age:21},{id:"ahmed-alobaidi",name:" ",role:" ",description:"            .",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face",isFounder:!1}],Y6=()=>{const{t}=Xs();return T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs(Ae,{to:"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8",children:[T.jsx(Za,{className:"w-5 h-5"}),T.jsx("span",{children:t("backToHome")})]}),T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("div",{className:"w-20 h-20 bg-gray-900 rounded-2xl flex items-center justify-center mx-auto mb-6",children:T.jsx("span",{className:"text-white font-bold text-4xl",children:"H"})}),T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:t("hasndilTeam")}),T.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:t("teamDesc")})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-12",children:[T.jsxs("div",{className:"card p-4 text-center",children:[T.jsx(Cd,{className:"w-6 h-6 text-gray-600 mx-auto mb-2"}),T.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J_.length}),T.jsx("p",{className:"text-sm text-gray-500",children:t("contributors")})]}),T.jsxs("div",{className:"card p-4 text-center",children:[T.jsx(Kc,{className:"w-6 h-6 text-gray-600 mx-auto mb-2"}),T.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"2026"}),T.jsx("p",{className:"text-sm text-gray-500",children:t("foundedIn")})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[T.jsx(Cd,{className:"w-5 h-5"}),t("contributors")]}),J_.map((e,n)=>T.jsx("div",{className:`card p-6 ${e.isFounder?"border-2 border-amber-200 bg-amber-50/30":""}`,children:T.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[T.jsxs("div",{className:"relative flex-shrink-0",children:[T.jsx("img",{src:e.image,alt:e.name,className:"w-28 h-28 rounded-2xl object-cover shadow-lg",onError:r=>{r.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=171717&color=fff&size=200`}}),e.isFounder&&T.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white p-1.5 rounded-full",children:T.jsx(pT,{className:"w-4 h-4"})})]}),T.jsxs("div",{className:"flex-1 text-center sm:text-right",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-2 mb-2",children:[T.jsx(Ae,{to:`/contributor/${e.id}`,className:"text-xl font-bold text-gray-900 hover:text-gray-600 transition-colors",children:e.name}),e.isFounder&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full",children:t("founder")}),e.age&&T.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:[e.age," ",t("yearsOld")]})]}),T.jsx("p",{className:"text-gray-600 font-medium mb-2",children:e.role}),T.jsx("p",{className:"text-gray-500 text-sm mb-4",children:e.description}),T.jsx("div",{className:"flex justify-center sm:justify-start gap-3",children:e.instagram&&T.jsxs("a",{href:`https://instagram.com/${e.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-pink-500 hover:text-pink-600 text-sm",children:[T.jsx(Gc,{className:"w-4 h-4"}),T.jsxs("span",{children:["@",e.instagram]})]})})]})]})},n))]}),T.jsxs("div",{className:"card p-8 mt-12 text-center",children:[T.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:t("aboutPlatform")}),T.jsx("p",{className:"text-gray-600 leading-relaxed",children:"                  .    2026                  ."})]}),T.jsxs("div",{className:"text-center mt-12",children:[T.jsx("p",{className:"text-gray-500 mb-4",children:t("wantToContribute")}),T.jsx(Ae,{to:"/write",className:"btn-primary inline-flex items-center gap-2",children:t("startWritingNow")})]})]})})},X6={"hussein-saad":{id:"hussein-saad",name:" ",nameEn:"Hussein Saad",nameKu:" ",role:"  ",roleEn:"Founder & Lead Developer",roleKu:"   ",description:"     21    .            .",descriptionEn:"Hussein Saad is a 21-year-old programmer and founder of Hasndel platform. He strives to create a distinguished Arabic platform for content and articles, enriching Arabic content on the internet.",descriptionKu:"   21     .            .",image:"/hso.png",instagram:"zdzw",isFounder:!0,age:21,location:"  ",locationEn:"Diyala, Baladruz, Iraq",locationKu:"  ",skills:["React","TypeScript","Firebase","Tailwind CSS","Node.js"]},"ahmed-alobaidi":{id:"ahmed-alobaidi",name:" ",nameEn:"Ahmed Al-Obaidi",nameKu:" ",role:" ",roleEn:"Developer & Contributor",roleKu:"  ",description:"                 .",descriptionEn:"Ahmed Al-Obaidi is a developer and contributor to Hasndel platform, working on improving user experience and adding new features.",descriptionKu:"              .",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=face",isFounder:!1,skills:["JavaScript","React","CSS"]}},J6=()=>{const{id:t}=Dp(),e=t?X6[t]:null;return e?T.jsx("div",{className:"min-h-screen py-8",children:T.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs(Ae,{to:"/contributors",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8",children:[T.jsx(Za,{className:"w-5 h-5"}),T.jsx("span",{children:"  "})]}),T.jsxs("div",{className:"card p-8",children:[T.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[T.jsxs("div",{className:"relative mb-4",children:[T.jsx("img",{src:e.image,alt:e.name,className:"w-32 h-32 rounded-2xl object-cover shadow-lg",onError:n=>{n.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name)}&background=171717&color=fff&size=200`}}),e.isFounder&&T.jsx("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white p-2 rounded-full",children:T.jsx(pT,{className:"w-5 h-5"})})]}),T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:e.name}),T.jsx("p",{className:"text-gray-500 text-sm mb-2",children:e.nameEn}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[e.isFounder&&T.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-3 py-1 rounded-full",children:""}),e.age&&T.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full",children:[e.age," "]})]}),T.jsx("p",{className:"text-gray-600 font-medium",children:e.role})]}),T.jsxs("div",{className:"space-y-6",children:[e.location&&T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx(J4,{className:"w-5 h-5 text-gray-400 mt-0.5"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-900",children:e.location}),T.jsx("p",{className:"text-gray-500 text-sm",children:e.locationEn})]})]}),T.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[T.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:e.description}),T.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",dir:"ltr",children:e.descriptionEn})]}),e.skills&&e.skills.length>0&&T.jsxs("div",{children:[T.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[T.jsx(G4,{className:"w-4 h-4"}),""]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((n,r)=>T.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-3 py-1 rounded-full",children:n},r))})]}),e.instagram&&T.jsx("div",{className:"pt-4 border-t",children:T.jsxs("a",{href:`https://instagram.com/${e.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-pink-500 hover:text-pink-600",children:[T.jsx(Gc,{className:"w-5 h-5"}),T.jsxs("span",{children:["@",e.instagram]})]})})]})]}),T.jsxs("div",{className:"card p-6 mt-6 text-center",children:[T.jsx("p",{className:"text-gray-600 text-sm",children:e.isFounder?"   -     ":"    "}),T.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 text-gray-400 text-xs",children:[T.jsx(Kc,{className:"w-4 h-4"}),T.jsx("span",{children:"  2026"})]})]})]})}):T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"  "}),T.jsx(Ae,{to:"/contributors",className:"btn-primary",children:"  "})]})},Z6=()=>T.jsx(LS,{children:T.jsx(q4,{children:T.jsx(B4,{children:T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx(iL,{}),T.jsx("main",{className:"flex-1",children:T.jsxs(IS,{children:[T.jsx(Wt,{path:"/",element:T.jsx(aL,{})}),T.jsx(Wt,{path:"/login",element:T.jsx(lL,{})}),T.jsx(Wt,{path:"/register",element:T.jsx(uL,{})}),T.jsx(Wt,{path:"/article/:id",element:T.jsx(hL,{})}),T.jsx(Wt,{path:"/write",element:T.jsx(Y_,{})}),T.jsx(Wt,{path:"/write/:id",element:T.jsx(Y_,{})}),T.jsx(Wt,{path:"/dashboard",element:T.jsx(K6,{})}),T.jsx(Wt,{path:"/profile",element:T.jsx(G6,{})}),T.jsx(Wt,{path:"/search",element:T.jsx(X_,{})}),T.jsx(Wt,{path:"/tags",element:T.jsx(X_,{})}),T.jsx(Wt,{path:"/admin",element:T.jsx(Q6,{})}),T.jsx(Wt,{path:"/contributors",element:T.jsx(Y6,{})}),T.jsx(Wt,{path:"/contributor/:id",element:T.jsx(J6,{})})]})}),T.jsx(sL,{})]})})})});ch.createRoot(document.getElementById("root")).render(T.jsx(au.StrictMode,{children:T.jsx(Z6,{})}));
